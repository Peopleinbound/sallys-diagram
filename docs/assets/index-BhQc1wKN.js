(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var bf={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function NE(){if(Wp)return Xl;Wp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var p in o)p!=="key"&&(h[p]=o[p])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return Xl.Fragment=e,Xl.jsx=i,Xl.jsxs=i,Xl}var ty;function OE(){return ty||(ty=1,bf.exports=NE()),bf.exports}var it=OE(),Rf={exports:{}},Ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ey;function xE(){if(ey)return Ot;ey=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function N(V){return V===null||typeof V!="object"?null:(V=O&&V[O]||V["@@iterator"],typeof V=="function"?V:null)}var Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,ct={};function at(V,J,ot){this.props=V,this.context=J,this.refs=ct,this.updater=ot||Y}at.prototype.isReactComponent={},at.prototype.setState=function(V,J){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,J,"setState")},at.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Nt(){}Nt.prototype=at.prototype;function At(V,J,ot){this.props=V,this.context=J,this.refs=ct,this.updater=ot||Y}var pt=At.prototype=new Nt;pt.constructor=At,tt(pt,at.prototype),pt.isPureReactComponent=!0;var zt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Ht=Object.prototype.hasOwnProperty;function U(V,J,ot,rt,yt,xt){return ot=xt.ref,{$$typeof:s,type:V,key:J,ref:ot!==void 0?ot:null,props:xt}}function b(V,J){return U(V.type,J,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function D(V){var J={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ot){return J[ot]})}var I=/\/+/g;function L(V,J){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):J.toString(36)}function C(){}function Be(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(J){V.status==="pending"&&(V.status="fulfilled",V.value=J)},function(J){V.status==="pending"&&(V.status="rejected",V.reason=J)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ge(V,J,ot,rt,yt){var xt=typeof V;(xt==="undefined"||xt==="boolean")&&(V=null);var Rt=!1;if(V===null)Rt=!0;else switch(xt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(V.$$typeof){case s:case e:Rt=!0;break;case A:return Rt=V._init,ge(Rt(V._payload),J,ot,rt,yt)}}if(Rt)return yt=yt(V),Rt=rt===""?"."+L(V,0):rt,zt(yt)?(ot="",Rt!=null&&(ot=Rt.replace(I,"$&/")+"/"),ge(yt,J,ot,"",function(hn){return hn})):yt!=null&&(w(yt)&&(yt=b(yt,ot+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(I,"$&/")+"/")+Rt)),J.push(yt)),1;Rt=0;var Re=rt===""?".":rt+":";if(zt(V))for(var ae=0;ae<V.length;ae++)rt=V[ae],xt=Re+L(rt,ae),Rt+=ge(rt,J,ot,xt,yt);else if(ae=N(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(rt=V.next()).done;)rt=rt.value,xt=Re+L(rt,ae++),Rt+=ge(rt,J,ot,xt,yt);else if(xt==="object"){if(typeof V.then=="function")return ge(Be(V),J,ot,rt,yt);throw J=String(V),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function Q(V,J,ot){if(V==null)return V;var rt=[],yt=0;return ge(V,rt,"","",function(xt){return J.call(ot,xt,yt++)}),rt}function lt(V){if(V._status===-1){var J=V._result;J=J(),J.then(function(ot){(V._status===0||V._status===-1)&&(V._status=1,V._result=ot)},function(ot){(V._status===0||V._status===-1)&&(V._status=2,V._result=ot)}),V._status===-1&&(V._status=0,V._result=J)}if(V._status===1)return V._result.default;throw V._result}var mt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Gt(){}return Ot.Children={map:Q,forEach:function(V,J,ot){Q(V,function(){J.apply(this,arguments)},ot)},count:function(V){var J=0;return Q(V,function(){J++}),J},toArray:function(V){return Q(V,function(J){return J})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ot.Component=at,Ot.Fragment=i,Ot.Profiler=o,Ot.PureComponent=At,Ot.StrictMode=r,Ot.Suspense=v,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(V){return _t.H.useMemoCache(V)}},Ot.cache=function(V){return function(){return V.apply(null,arguments)}},Ot.cloneElement=function(V,J,ot){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=tt({},V.props),yt=V.key,xt=void 0;if(J!=null)for(Rt in J.ref!==void 0&&(xt=void 0),J.key!==void 0&&(yt=""+J.key),J)!Ht.call(J,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&J.ref===void 0||(rt[Rt]=J[Rt]);var Rt=arguments.length-2;if(Rt===1)rt.children=ot;else if(1<Rt){for(var Re=Array(Rt),ae=0;ae<Rt;ae++)Re[ae]=arguments[ae+2];rt.children=Re}return U(V.type,yt,void 0,void 0,xt,rt)},Ot.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},Ot.createElement=function(V,J,ot){var rt,yt={},xt=null;if(J!=null)for(rt in J.key!==void 0&&(xt=""+J.key),J)Ht.call(J,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(yt[rt]=J[rt]);var Rt=arguments.length-2;if(Rt===1)yt.children=ot;else if(1<Rt){for(var Re=Array(Rt),ae=0;ae<Rt;ae++)Re[ae]=arguments[ae+2];yt.children=Re}if(V&&V.defaultProps)for(rt in Rt=V.defaultProps,Rt)yt[rt]===void 0&&(yt[rt]=Rt[rt]);return U(V,xt,void 0,void 0,null,yt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(V){return{$$typeof:p,render:V}},Ot.isValidElement=w,Ot.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:lt}},Ot.memo=function(V,J){return{$$typeof:_,type:V,compare:J===void 0?null:J}},Ot.startTransition=function(V){var J=_t.T,ot={};_t.T=ot;try{var rt=V(),yt=_t.S;yt!==null&&yt(ot,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Gt,mt)}catch(xt){mt(xt)}finally{_t.T=J}},Ot.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},Ot.use=function(V){return _t.H.use(V)},Ot.useActionState=function(V,J,ot){return _t.H.useActionState(V,J,ot)},Ot.useCallback=function(V,J){return _t.H.useCallback(V,J)},Ot.useContext=function(V){return _t.H.useContext(V)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(V,J){return _t.H.useDeferredValue(V,J)},Ot.useEffect=function(V,J,ot){var rt=_t.H;if(typeof ot=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return rt.useEffect(V,J)},Ot.useId=function(){return _t.H.useId()},Ot.useImperativeHandle=function(V,J,ot){return _t.H.useImperativeHandle(V,J,ot)},Ot.useInsertionEffect=function(V,J){return _t.H.useInsertionEffect(V,J)},Ot.useLayoutEffect=function(V,J){return _t.H.useLayoutEffect(V,J)},Ot.useMemo=function(V,J){return _t.H.useMemo(V,J)},Ot.useOptimistic=function(V,J){return _t.H.useOptimistic(V,J)},Ot.useReducer=function(V,J,ot){return _t.H.useReducer(V,J,ot)},Ot.useRef=function(V){return _t.H.useRef(V)},Ot.useState=function(V){return _t.H.useState(V)},Ot.useSyncExternalStore=function(V,J,ot){return _t.H.useSyncExternalStore(V,J,ot)},Ot.useTransition=function(){return _t.H.useTransition()},Ot.version="19.1.1",Ot}var ny;function ud(){return ny||(ny=1,Rf.exports=xE()),Rf.exports}var me=ud(),wf={exports:{}},Kl={},Cf={exports:{}},Df={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy;function UE(){return iy||(iy=1,(function(s){function e(Q,lt){var mt=Q.length;Q.push(lt);t:for(;0<mt;){var Gt=mt-1>>>1,V=Q[Gt];if(0<o(V,lt))Q[Gt]=lt,Q[mt]=V,mt=Gt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var lt=Q[0],mt=Q.pop();if(mt!==lt){Q[0]=mt;t:for(var Gt=0,V=Q.length,J=V>>>1;Gt<J;){var ot=2*(Gt+1)-1,rt=Q[ot],yt=ot+1,xt=Q[yt];if(0>o(rt,mt))yt<V&&0>o(xt,rt)?(Q[Gt]=xt,Q[yt]=mt,Gt=yt):(Q[Gt]=rt,Q[ot]=mt,Gt=ot);else if(yt<V&&0>o(xt,mt))Q[Gt]=xt,Q[yt]=mt,Gt=yt;else break t}}return lt}function o(Q,lt){var mt=Q.sortIndex-lt.sortIndex;return mt!==0?mt:Q.id-lt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var v=[],_=[],A=1,O=null,N=3,Y=!1,tt=!1,ct=!1,at=!1,Nt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function zt(Q){for(var lt=i(_);lt!==null;){if(lt.callback===null)r(_);else if(lt.startTime<=Q)r(_),lt.sortIndex=lt.expirationTime,e(v,lt);else break;lt=i(_)}}function _t(Q){if(ct=!1,zt(Q),!tt)if(i(v)!==null)tt=!0,Ht||(Ht=!0,L());else{var lt=i(_);lt!==null&&ge(_t,lt.startTime-Q)}}var Ht=!1,U=-1,b=5,w=-1;function D(){return at?!0:!(s.unstable_now()-w<b)}function I(){if(at=!1,Ht){var Q=s.unstable_now();w=Q;var lt=!0;try{t:{tt=!1,ct&&(ct=!1,At(U),U=-1),Y=!0;var mt=N;try{e:{for(zt(Q),O=i(v);O!==null&&!(O.expirationTime>Q&&D());){var Gt=O.callback;if(typeof Gt=="function"){O.callback=null,N=O.priorityLevel;var V=Gt(O.expirationTime<=Q);if(Q=s.unstable_now(),typeof V=="function"){O.callback=V,zt(Q),lt=!0;break e}O===i(v)&&r(v),zt(Q)}else r(v);O=i(v)}if(O!==null)lt=!0;else{var J=i(_);J!==null&&ge(_t,J.startTime-Q),lt=!1}}break t}finally{O=null,N=mt,Y=!1}lt=void 0}}finally{lt?L():Ht=!1}}}var L;if(typeof pt=="function")L=function(){pt(I)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Be=C.port2;C.port1.onmessage=I,L=function(){Be.postMessage(null)}}else L=function(){Nt(I,0)};function ge(Q,lt){U=Nt(function(){Q(s.unstable_now())},lt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var lt=3;break;default:lt=N}var mt=N;N=lt;try{return Q()}finally{N=mt}},s.unstable_requestPaint=function(){at=!0},s.unstable_runWithPriority=function(Q,lt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var mt=N;N=Q;try{return lt()}finally{N=mt}},s.unstable_scheduleCallback=function(Q,lt,mt){var Gt=s.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Gt+mt:Gt):mt=Gt,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=mt+V,Q={id:A++,callback:lt,priorityLevel:Q,startTime:mt,expirationTime:V,sortIndex:-1},mt>Gt?(Q.sortIndex=mt,e(_,Q),i(v)===null&&Q===i(_)&&(ct?(At(U),U=-1):ct=!0,ge(_t,mt-Gt))):(Q.sortIndex=V,e(v,Q),tt||Y||(tt=!0,Ht||(Ht=!0,L()))),Q},s.unstable_shouldYield=D,s.unstable_wrapCallback=function(Q){var lt=N;return function(){var mt=N;N=lt;try{return Q.apply(this,arguments)}finally{N=mt}}}})(Df)),Df}var ay;function LE(){return ay||(ay=1,Cf.exports=UE()),Cf.exports}var Vf={exports:{}},dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function zE(){if(ry)return dn;ry=1;var s=ud();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:O==null?null:""+O,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},dn.flushSync=function(v){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,v)return v()}finally{d.T=_,r.p=A,r.d.f()}},dn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(v,_))},dn.prefetchDNS=function(v){typeof v=="string"&&r.d.D(v)},dn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:O,integrity:N,fetchPriority:Y}):A==="script"&&r.d.X(v,{crossOrigin:O,integrity:N,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},dn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(v)},dn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,O=p(A,_.crossOrigin);r.d.L(v,A,{crossOrigin:O,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},dn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(v)},dn.requestFormReset=function(v){r.d.r(v)},dn.unstable_batchedUpdates=function(v,_){return v(_)},dn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},dn.useFormStatus=function(){return d.H.useHostTransitionStatus()},dn.version="19.1.1",dn}var sy;function PE(){if(sy)return Vf.exports;sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vf.exports=zE(),Vf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function BE(){if(ly)return Kl;ly=1;var s=LE(),e=ud(),i=PE();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(h(t)!==t)throw Error(r(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return p(c),t;if(f===l)return p(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===a){y=!0,a=c,l=f;break}if(E===l){y=!0,l=c,a=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===a){y=!0,a=f,l=c;break}if(E===l){y=!0,l=f,a=c;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,O=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),Y=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),ct=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),Nt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),zt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ht=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case tt:return"Fragment";case at:return"Profiler";case ct:return"StrictMode";case _t:return"Suspense";case Ht:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Y:return"Portal";case pt:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case zt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return n=t.displayName||null,n!==null?n:Be(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Be(t(n))}catch{}}return null}var ge=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Gt=[],V=-1;function J(t){return{current:t}}function ot(t){0>V||(t.current=Gt[V],Gt[V]=null,V--)}function rt(t,n){V++,Gt[V]=t.current,t.current=n}var yt=J(null),xt=J(null),Rt=J(null),Re=J(null);function ae(t,n){switch(rt(Rt,n),rt(xt,t),rt(yt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Cp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Cp(n),t=Dp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ot(yt),rt(yt,t)}function hn(){ot(yt),ot(xt),ot(Rt)}function ei(t){t.memoizedState!==null&&rt(Re,t);var n=yt.current,a=Dp(n,t.type);n!==a&&(rt(xt,t),rt(yt,a))}function ni(t){xt.current===t&&(ot(yt),ot(xt)),Re.current===t&&(ot(Re),Hl._currentValue=mt)}var xi=Object.prototype.hasOwnProperty,oi=s.unstable_scheduleCallback,Ui=s.unstable_cancelCallback,nr=s.unstable_shouldYield,qr=s.unstable_requestPaint,En=s.unstable_now,ma=s.unstable_getCurrentPriorityLevel,ir=s.unstable_ImmediatePriority,Li=s.unstable_UserBlockingPriority,zi=s.unstable_NormalPriority,Ks=s.unstable_LowPriority,ga=s.unstable_IdlePriority,pa=s.log,Hr=s.unstable_setDisableYieldValue,pe=null,Zt=null;function en(t){if(typeof pa=="function"&&Hr(t),Zt&&typeof Zt.setStrictMode=="function")try{Zt.setStrictMode(pe,t)}catch{}}var Me=Math.clz32?Math.clz32:Bi,Pi=Math.log,Zs=Math.LN2;function Bi(t){return t>>>=0,t===0?32:31-(Pi(t)/Zs|0)|0}var ui=256,Pn=4194304;function Cn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Cn(l):(y&=E,y!==0?c=Cn(y):a||(a=E&~t,a!==0&&(c=Cn(a))))):(E=l&~f,E!==0?c=Cn(E):y!==0?c=Cn(y):a||(a=l&~t,a!==0&&(c=Cn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function hi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function fi(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ar(){var t=ui;return ui<<=1,(ui&4194048)===0&&(ui=256),t}function rr(){var t=Pn;return Pn<<=1,(Pn&62914560)===0&&(Pn=4194304),t}function ii(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function we(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function sr(t,n,a,l,c,f){var y=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(a=y&~a;0<a;){var F=31-Me(a),Z=1<<F;E[F]=0,R[F]=-1;var k=j[F];if(k!==null)for(j[F]=null,F=0;F<k.length;F++){var q=k[F];q!==null&&(q.lane&=-536870913)}a&=~Z}l!==0&&Bn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Bn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Me(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function lr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Me(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function di(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tn(){var t=lt.p;return t!==0?t:(t=window.event,t===void 0?32:Yp(t.type))}function ya(t,n){var a=lt.p;try{return lt.p=t,n()}finally{lt.p=a}}var It=Math.random().toString(36).slice(2),Ae="__reactFiber$"+It,he="__reactProps$"+It,Ne="__reactContainer$"+It,S="__reactEvents$"+It,x="__reactListeners$"+It,H="__reactHandles$"+It,X="__reactResources$"+It,et="__reactMarker$"+It;function nt(t){delete t[Ae],delete t[he],delete t[S],delete t[x],delete t[H]}function ut(t){var n=t[Ae];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Ne]||a[Ae]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Np(t);t!==null;){if(a=t[Ae])return a;t=Np(t)}return n}t=a,a=t.parentNode}return null}function wt(t){if(t=t[Ae]||t[Ne]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function St(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Ut(t){var n=t[X];return n||(n=t[X]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Mt(t){t[et]=!0}var fe=new Set,ue={};function ee(t,n){je(t,n),je(t+"Capture",n)}function je(t,n){for(ue[t]=n,t=0;t<n.length;t++)fe.add(n[t])}var jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xe={},Ce={};function Dn(t){return xi.call(Ce,t)?!0:xi.call(Xe,t)?!1:jn.test(t)?Ce[t]=!0:(Xe[t]=!0,!1)}function nn(t,n,a){if(Dn(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function kn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function ke(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var ki,Gr;function qn(t){if(ki===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ki=n&&n[1]||"",Gr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+t+Gr}var qi=!1;function _a(t,n){if(!t||qi)return"";qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var k=q}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(q){k=q}t.call(Z.prototype)}}else{try{throw Error()}catch(q){k=q}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var R=y.split(`
`),j=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===j.length)for(l=R.length-1,c=j.length-1;1<=l&&0<=c&&R[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==j[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{qi=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qn(a):""}function or(t){switch(t.tag){case 26:case 27:case 5:return qn(t.type);case 16:return qn("Lazy");case 13:return qn("Suspense");case 19:return qn("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return qn("Activity");default:return""}}function Qr(t){try{var n="";do n+=or(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $s(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cc(t){var n=$s(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Fr(t){t._valueTracker||(t._valueTracker=Cc(t))}function Js(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=$s(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function ur(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dc=/[\n"\\]/g;function Oe(t){return t.replace(Dc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vn(t,n,a,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+yn(n)):t.value!==""+yn(n)&&(t.value=""+yn(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?va(t,y,yn(n)):a!=null?va(t,y,yn(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+yn(E):t.removeAttribute("name")}function cr(t,n,a,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+yn(a):"",n=n!=null?""+yn(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function va(t,n,a){n==="number"&&ur(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+yn(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function re(t,n,a){if(n!=null&&(n=""+yn(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+yn(a):""}function hr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ge(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=yn(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Hn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||fr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Ws(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Eo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Eo(t,f,n[f])}function tl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ic=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yr(t){return Ic.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Gi=null;function Gn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qi=null,Fi=null;function el(t){var n=wt(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(Vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Oe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(r(90));Vn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Js(l)}break t;case"textarea":re(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Hi(t,!!a.multiple,n,!1)}}}var mi=!1;function To(t,n,a){if(mi)return t(n,a);mi=!0;try{var l=t(n);return l}finally{if(mi=!1,(Qi!==null||Fi!==null)&&(mu(),Qi&&(n=Qi,t=Fi,Fi=Qi=null,el(n),t)))for(n=0;n<t.length;n++)el(t[n])}}function dr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qn=!1;if(ai)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Qn=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Qn=!1}var gi=null,Ea=null,Yi=null;function nl(){if(Yi)return Yi;var t,n=Ea,a=n.length,l,c="value"in gi?gi.value:gi.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var y=a-t;for(l=1;l<=y&&n[a-l]===c[f-l];l++);return Yi=c.slice(t,1<l?1-l:void 0)}function pi(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function yi(){return!0}function il(){return!1}function Ke(t){function n(a,l,c,f,y){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?yi:il,this.isPropagationStopped=il,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),n}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xr=Ke(Wt),gr=A({},Wt,{view:0,detail:0}),Ao=Ke(gr),Kr,Zr,_i,pr=A({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_i&&(_i&&t.type==="mousemove"?(Kr=t.screenX-_i.screenX,Zr=t.screenY-_i.screenY):Zr=Kr=0,_i=t),Kr)},movementY:function(t){return"movementY"in t?t.movementY:Zr}}),Fn=Ke(pr),So=A({},pr,{dataTransfer:0}),Mc=Ke(So),yr=A({},gr,{relatedTarget:0}),$r=Ke(yr),al=A({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=Ke(al),bo=A({},Wt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wr=Ke(bo),Nc=A({},Wt,{data:0}),rl=Ke(Nc),_r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ro={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=wo[t])?!!n[t]:!1}function vr(){return sl}var Co=A({},gr,{key:function(t){if(t.key){var n=_r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=pi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ro[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(t){return t.type==="keypress"?pi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ts=Ke(Co),Do=A({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=Ke(Do),Xi=A({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Vo=Ke(Xi),Io=A({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mo=Ke(Io),No=A({},pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),es=Ke(No),_n=A({},Wt,{newState:0,oldState:0}),Oo=Ke(_n),xo=[9,13,27,32],vi=ai&&"CompositionEvent"in window,u=null;ai&&"documentMode"in document&&(u=document.documentMode);var m=ai&&"TextEvent"in window&&!u,g=ai&&(!vi||u&&8<u&&11>=u),T=" ",P=!1;function G(t,n){switch(t){case"keyup":return xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qt=!1;function qe(t,n){switch(t){case"compositionend":return st(n);case"keypress":return n.which!==32?null:(P=!0,T);case"textInput":return t=n.data,t===T&&P?null:t;default:return null}}function Ft(t,n){if(Qt)return t==="compositionend"||!vi&&G(t,n)?(t=nl(),Yi=Ea=gi=null,Qt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var Ze={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function He(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ze[t.type]:n==="textarea"}function Ki(t,n,a,l){Qi?Fi?Fi.push(l):Fi=[l]:Qi=l,n=Eu(n,"onChange"),0<n.length&&(a=new Xr("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var an=null,Ei=null;function ol(t){Ap(t,0)}function Uo(t){var n=St(t);if(Js(n))return t}function Hd(t,n){if(t==="change")return n}var Gd=!1;if(ai){var Oc;if(ai){var xc="oninput"in document;if(!xc){var Qd=document.createElement("div");Qd.setAttribute("oninput","return;"),xc=typeof Qd.oninput=="function"}Oc=xc}else Oc=!1;Gd=Oc&&(!document.documentMode||9<document.documentMode)}function Fd(){an&&(an.detachEvent("onpropertychange",Yd),Ei=an=null)}function Yd(t){if(t.propertyName==="value"&&Uo(Ei)){var n=[];Ki(n,Ei,t,Gn(t)),To(ol,n)}}function o0(t,n,a){t==="focusin"?(Fd(),an=n,Ei=a,an.attachEvent("onpropertychange",Yd)):t==="focusout"&&Fd()}function u0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uo(Ei)}function c0(t,n){if(t==="click")return Uo(n)}function h0(t,n){if(t==="input"||t==="change")return Uo(n)}function f0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:f0;function ul(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!xi.call(n,c)||!In(t[c],n[c]))return!1}return!0}function Xd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,n){var a=Xd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Xd(a)}}function Zd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Zd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function $d(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ur(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=ur(t.document)}return n}function Uc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var d0=ai&&"documentMode"in document&&11>=document.documentMode,ns=null,Lc=null,cl=null,zc=!1;function Jd(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zc||ns==null||ns!==ur(l)||(l=ns,"selectionStart"in l&&Uc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Eu(Lc,"onSelect"),0<l.length&&(n=new Xr("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=ns)))}function Er(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var is={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Pc={},Wd={};ai&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Tr(t){if(Pc[t])return Pc[t];if(!is[t])return t;var n=is[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Wd)return Pc[t]=n[a];return t}var tm=Tr("animationend"),em=Tr("animationiteration"),nm=Tr("animationstart"),m0=Tr("transitionrun"),g0=Tr("transitionstart"),p0=Tr("transitioncancel"),im=Tr("transitionend"),am=new Map,Bc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bc.push("scrollEnd");function ri(t,n){am.set(t,n),ee(n,[t])}var rm=new WeakMap;function Yn(t,n){if(typeof t=="object"&&t!==null){var a=rm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Qr(n)},rm.set(t,n),n)}return{value:t,source:n,stack:Qr(n)}}var Xn=[],as=0,jc=0;function Lo(){for(var t=as,n=jc=as=0;n<t;){var a=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var c=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&sm(a,c,f)}}function zo(t,n,a,l){Xn[as++]=t,Xn[as++]=n,Xn[as++]=a,Xn[as++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function kc(t,n,a,l){return zo(t,n,a,l),Po(t)}function rs(t,n){return zo(t,null,null,n),Po(t)}function sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Me(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Po(t){if(50<Ul)throw Ul=0,Yh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ss={};function y0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,n,a,l){return new y0(t,n,a,l)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zi(t,n){var a=t.alternate;return a===null?(a=Mn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function lm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,a,l,c,f){var y=0;if(l=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=vE(t,a,yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=Mn(31,a,n,c),t.elementType=w,t.lanes=f,t;case tt:return Ar(a.children,c,f,n);case ct:y=8,c|=24;break;case at:return t=Mn(12,a,n,c|2),t.elementType=at,t.lanes=f,t;case _t:return t=Mn(13,a,n,c),t.elementType=_t,t.lanes=f,t;case Ht:return t=Mn(19,a,n,c),t.elementType=Ht,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nt:case pt:y=10;break t;case At:y=9;break t;case zt:y=11;break t;case U:y=14;break t;case b:y=16,l=null;break t}y=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=Mn(y,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Ar(t,n,a,l){return t=Mn(7,t,l,n),t.lanes=a,t}function Hc(t,n,a){return t=Mn(6,t,null,n),t.lanes=a,t}function Gc(t,n,a){return n=Mn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ls=[],os=0,jo=null,ko=0,Kn=[],Zn=0,Sr=null,$i=1,Ji="";function br(t,n){ls[os++]=ko,ls[os++]=jo,jo=t,ko=n}function om(t,n,a){Kn[Zn++]=$i,Kn[Zn++]=Ji,Kn[Zn++]=Sr,Sr=t;var l=$i;t=Ji;var c=32-Me(l)-1;l&=~(1<<c),a+=1;var f=32-Me(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,$i=1<<32-Me(n)+c|a<<c|l,Ji=f+t}else $i=1<<f|a<<c|l,Ji=t}function Qc(t){t.return!==null&&(br(t,1),om(t,1,0))}function Fc(t){for(;t===jo;)jo=ls[--os],ls[os]=null,ko=ls[--os],ls[os]=null;for(;t===Sr;)Sr=Kn[--Zn],Kn[Zn]=null,Ji=Kn[--Zn],Kn[Zn]=null,$i=Kn[--Zn],Kn[Zn]=null}var vn=null,Se=null,Jt=!1,Rr=null,Ti=!1,Yc=Error(r(519));function wr(t){var n=Error(r(418,""));throw dl(Yn(n,t)),Yc}function um(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[he]=l,a){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(a=0;a<zl.length;a++)jt(zl[a],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),cr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Fr(n);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),hr(n,l.value,l.defaultValue,l.children),Fr(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||wp(n.textContent,a)?(l.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),l.onScroll!=null&&jt("scroll",n),l.onScrollEnd!=null&&jt("scrollend",n),l.onClick!=null&&(n.onclick=Tu),n=!0):n=!1,n||wr(t)}function cm(t){for(vn=t.return;vn;)switch(vn.tag){case 5:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:vn=vn.return}}function hl(t){if(t!==vn)return!1;if(!Jt)return cm(t),Jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cf(t.type,t.memoizedProps)),a=!a),a&&Se&&wr(t),cm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Se=li(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Se=null}}else n===27?(n=Se,La(t.type)?(t=mf,mf=null,Se=t):Se=n):Se=vn?li(t.stateNode.nextSibling):null;return!0}function fl(){Se=vn=null,Jt=!1}function hm(){var t=Rr;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),Rr=null),t}function dl(t){Rr===null?Rr=[t]:Rr.push(t)}var Xc=J(null),Cr=null,Wi=null;function Ta(t,n,a){rt(Xc,n._currentValue),n._currentValue=a}function ta(t){t._currentValue=Xc.current,ot(Xc)}function Kc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Zc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Kc(f.return,a,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,f=y.alternate,f!==null&&(f.lanes|=a),Kc(y,a,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ml(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=c.type;In(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}c=c.return}t!==null&&Zc(n,t,a,l),n.flags|=262144}function qo(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Dr(t){Cr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return fm(Cr,t)}function Ho(t,n){return Cr===null&&Dr(t),fm(t,n)}function fm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Wi=Wi.next=n;return a}var _0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},v0=s.unstable_scheduleCallback,E0=s.unstable_NormalPriority,Ge={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new _0,data:new Map,refCount:0}}function gl(t){t.refCount--,t.refCount===0&&v0(E0,function(){t.controller.abort()})}var pl=null,Jc=0,us=0,cs=null;function T0(t,n){if(pl===null){var a=pl=[];Jc=0,us=tf(),cs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jc++,n.then(dm,dm),n}function dm(){if(--Jc===0&&pl!==null){cs!==null&&(cs.status="fulfilled");var t=pl;pl=null,us=0,cs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function A0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var mm=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&T0(t,n),mm!==null&&mm(t,n)};var Vr=J(null);function Wc(){var t=Vr.current;return t!==null?t:de.pooledCache}function Go(t,n){n===null?rt(Vr,Vr.current):rt(Vr,n.pool)}function gm(){var t=Wc();return t===null?null:{parent:Ge._currentValue,pool:t}}var yl=Error(r(460)),pm=Error(r(474)),Qo=Error(r(542)),th={then:function(){}};function ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(){}function _m(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Fo,Fo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t;default:if(typeof n.status=="string")n.then(Fo,Fo);else{if(t=de,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Em(t),t}throw _l=n,yl}}var _l=null;function vm(){if(_l===null)throw Error(r(459));var t=_l;return _l=null,t}function Em(t){if(t===yl||t===Qo)throw Error(r(483))}var Aa=!1;function eh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ba(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Po(t),sm(t,null,a),n}return zo(t,l,n,a),Po(t)}function vl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,lr(t,a)}}function ih(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var ah=!1;function El(){if(ah){var t=cs;if(t!==null)throw t}}function Tl(t,n,a,l){ah=!1;var c=t.updateQueue;Aa=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,j=R.next;R.next=null,y===null?f=j:y.next=j,y=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==y&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=R))}if(f!==null){var Z=c.baseState;y=0,F=j=R=null,E=f;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(Yt&k)===k:(l&k)===k){k!==0&&k===us&&(ah=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Ct=t,Et=E;k=n;var oe=a;switch(Et.tag){case 1:if(Ct=Et.payload,typeof Ct=="function"){Z=Ct.call(oe,Z,k);break t}Z=Ct;break t;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Et.payload,k=typeof Ct=="function"?Ct.call(oe,Z,k):Ct,k==null)break t;Z=A({},Z,k);break t;case 2:Aa=!0}}k=E.callback,k!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,R=Z):F=F.next=q,y|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(R=Z),c.baseState=R,c.firstBaseUpdate=j,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),Na|=y,t.lanes=y,t.memoizedState=Z}}function Tm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function Am(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tm(a[t],n)}var hs=J(null),Yo=J(0);function Sm(t,n){t=la,rt(Yo,t),rt(hs,n),la=t|n.baseLanes}function rh(){rt(Yo,la),rt(hs,hs.current)}function sh(){la=Yo.current,ot(hs),ot(Yo)}var Ra=0,Lt=null,se=null,xe=null,Xo=!1,fs=!1,Ir=!1,Ko=0,Al=0,ds=null,S0=0;function De(){throw Error(r(321))}function lh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!In(t[a],n[a]))return!1;return!0}function oh(t,n,a,l,c,f){return Ra=f,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?sg:lg,Ir=!1,f=a(l,c),Ir=!1,fs&&(f=Rm(n,a,l,c)),bm(t),f}function bm(t){Q.H=eu;var n=se!==null&&se.next!==null;if(Ra=0,xe=se=Lt=null,Xo=!1,Al=0,ds=null,n)throw Error(r(300));t===null||$e||(t=t.dependencies,t!==null&&qo(t)&&($e=!0))}function Rm(t,n,a,l){Lt=t;var c=0;do{if(fs&&(ds=null),Al=0,fs=!1,25<=c)throw Error(r(301));if(c+=1,xe=se=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=I0,f=n(a,l)}while(fs);return f}function b0(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?Sl(n):n,t=t.useState()[0],(se!==null?se.memoizedState:null)!==t&&(Lt.flags|=1024),n}function uh(){var t=Ko!==0;return Ko=0,t}function ch(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function hh(t){if(Xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xo=!1}Ra=0,xe=se=Lt=null,fs=!1,Al=Ko=0,ds=null}function An(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Lt.memoizedState=xe=t:xe=xe.next=t,xe}function Ue(){if(se===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=se.next;var n=xe===null?Lt.memoizedState:xe.next;if(n!==null)xe=n,se=t;else{if(t===null)throw Lt.alternate===null?Error(r(467)):Error(r(310));se=t,t={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},xe===null?Lt.memoizedState=xe=t:xe=xe.next=t}return xe}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(t){var n=Al;return Al+=1,ds===null&&(ds=[]),t=_m(ds,t,n),n=Lt,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?sg:lg),t}function Zo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Sl(t);if(t.$$typeof===pt)return fn(t)}throw Error(r(438,String(t)))}function dh(t){var n=null,a=Lt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=fh(),Lt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=D;return n.index++,a}function ea(t,n){return typeof n=="function"?n(t):n}function $o(t){var n=Ue();return mh(n,se,t)}function mh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,R=null,j=n,F=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Yt&Z)===Z:(Ra&Z)===Z){var k=j.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===us&&(F=!0);else if((Ra&k)===k){j=j.next,k===us&&(F=!0);continue}else Z={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=Z,y=f):R=R.next=Z,Lt.lanes|=k,Na|=k;Z=j.action,Ir&&a(f,Z),f=j.hasEagerState?j.eagerState:a(f,Z)}else k={lane:Z,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=k,y=f):R=R.next=k,Lt.lanes|=Z,Na|=Z;j=j.next}while(j!==null&&j!==n);if(R===null?y=f:R.next=E,!In(f,t.memoizedState)&&($e=!0,F&&(a=cs,a!==null)))throw a;t.memoizedState=f,t.baseState=y,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function gh(t){var n=Ue(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);In(f,n.memoizedState)||($e=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function wm(t,n,a){var l=Lt,c=Ue(),f=Jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!In((se||c).memoizedState,a);y&&(c.memoizedState=a,$e=!0),c=c.queue;var E=Vm.bind(null,l,c,t);if(bl(2048,8,E,[t]),c.getSnapshot!==n||y||xe!==null&&xe.memoizedState.tag&1){if(l.flags|=2048,ms(9,Jo(),Dm.bind(null,l,c,a,n),null),de===null)throw Error(r(349));f||(Ra&124)!==0||Cm(l,n,a)}return a}function Cm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Lt.updateQueue,n===null?(n=fh(),Lt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Dm(t,n,a,l){n.value=a,n.getSnapshot=l,Im(n)&&Mm(t)}function Vm(t,n,a){return a(function(){Im(n)&&Mm(t)})}function Im(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!In(t,a)}catch{return!0}}function Mm(t){var n=rs(t,2);n!==null&&Ln(n,t,2)}function ph(t){var n=An();if(typeof t=="function"){var a=t;if(t=a(),Ir){en(!0);try{a()}finally{en(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:t},n}function Nm(t,n,a,l){return t.baseState=a,mh(t,se,typeof l=="function"?l:ea)}function R0(t,n,a,l,c){if(tu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Om(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Om(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,y={};Q.T=y;try{var E=a(c,l),R=Q.S;R!==null&&R(y,E),xm(t,n,E)}catch(j){yh(t,n,j)}finally{Q.T=f}}else try{f=a(c,l),xm(t,n,f)}catch(j){yh(t,n,j)}}function xm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Um(t,n,l)},function(l){return yh(t,n,l)}):Um(t,n,a)}function Um(t,n,a){n.status="fulfilled",n.value=a,Lm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Om(t,a)))}function yh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Lm(n),n=n.next;while(n!==l)}t.action=null}function Lm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function zm(t,n){return n}function Pm(t,n){if(Jt){var a=de.formState;if(a!==null){t:{var l=Lt;if(Jt){if(Se){e:{for(var c=Se,f=Ti;c.nodeType!==8;){if(!f){c=null;break e}if(c=li(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Se=li(c.nextSibling),l=c.data==="F!";break t}}wr(l)}l=!1}l&&(n=a[0])}}return a=An(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:n},a.queue=l,a=ig.bind(null,Lt,l),l.dispatch=a,l=ph(!1),f=Ah.bind(null,Lt,!1,l.queue),l=An(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=R0.bind(null,Lt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Bm(t){var n=Ue();return jm(n,se,t)}function jm(t,n,a){if(n=mh(t,n,zm)[0],t=$o(ea)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Sl(n)}catch(y){throw y===yl?Qo:y}else l=n;n=Ue();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Lt.flags|=2048,ms(9,Jo(),w0.bind(null,c,a),null)),[l,f,t]}function w0(t,n){t.action=n}function km(t){var n=Ue(),a=se;if(a!==null)return jm(n,a,t);Ue(),n=n.memoizedState,a=Ue();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ms(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=fh(),Lt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Jo(){return{destroy:void 0,resource:void 0}}function qm(){return Ue().memoizedState}function Wo(t,n,a,l){var c=An();l=l===void 0?null:l,Lt.flags|=t,c.memoizedState=ms(1|n,Jo(),a,l)}function bl(t,n,a,l){var c=Ue();l=l===void 0?null:l;var f=c.memoizedState.inst;se!==null&&l!==null&&lh(l,se.memoizedState.deps)?c.memoizedState=ms(n,f,a,l):(Lt.flags|=t,c.memoizedState=ms(1|n,f,a,l))}function Hm(t,n){Wo(8390656,8,t,n)}function Gm(t,n){bl(2048,8,t,n)}function Qm(t,n){return bl(4,2,t,n)}function Fm(t,n){return bl(4,4,t,n)}function Ym(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Xm(t,n,a){a=a!=null?a.concat([t]):null,bl(4,4,Ym.bind(null,n,t),a)}function _h(){}function Km(t,n){var a=Ue();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&lh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Zm(t,n){var a=Ue();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&lh(n,l[1]))return l[0];if(l=t(),Ir){en(!0);try{t()}finally{en(!1)}}return a.memoizedState=[l,n],l}function vh(t,n,a){return a===void 0||(Ra&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Wg(),Lt.lanes|=t,Na|=t,a)}function $m(t,n,a,l){return In(a,n)?a:hs.current!==null?(t=vh(t,a,l),In(t,n)||($e=!0),t):(Ra&42)===0?($e=!0,t.memoizedState=a):(t=Wg(),Lt.lanes|=t,Na|=t,n)}function Jm(t,n,a,l,c){var f=lt.p;lt.p=f!==0&&8>f?f:8;var y=Q.T,E={};Q.T=E,Ah(t,!1,n,a);try{var R=c(),j=Q.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=A0(R,l);Rl(t,n,F,Un(t))}else Rl(t,n,l,Un(t))}catch(Z){Rl(t,n,{then:function(){},status:"rejected",reason:Z},Un())}finally{lt.p=f,Q.T=y}}function C0(){}function Eh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Wm(t).queue;Jm(t,c,n,mt,a===null?C0:function(){return tg(t),a(l)})}function Wm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:mt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tg(t){var n=Wm(t).next.queue;Rl(t,n,{},Un())}function Th(){return fn(Hl)}function eg(){return Ue().memoizedState}function ng(){return Ue().memoizedState}function D0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=Sa(a);var l=ba(n,t,a);l!==null&&(Ln(l,n,a),vl(l,n,a)),n={cache:$c()},t.payload=n;return}n=n.return}}function V0(t,n,a){var l=Un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},tu(t)?ag(n,a):(a=kc(t,n,a,l),a!==null&&(Ln(a,t,l),rg(a,n,l)))}function ig(t,n,a){var l=Un();Rl(t,n,a,l)}function Rl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(tu(t))ag(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,a);if(c.hasEagerState=!0,c.eagerState=E,In(E,y))return zo(t,n,c,0),de===null&&Lo(),!1}catch{}finally{}if(a=kc(t,n,c,l),a!==null)return Ln(a,t,l),rg(a,n,l),!0}return!1}function Ah(t,n,a,l){if(l={lane:2,revertLane:tf(),action:l,hasEagerState:!1,eagerState:null,next:null},tu(t)){if(n)throw Error(r(479))}else n=kc(t,a,l,2),n!==null&&Ln(n,t,2)}function tu(t){var n=t.alternate;return t===Lt||n!==null&&n===Lt}function ag(t,n){fs=Xo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function rg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,lr(t,a)}}var eu={readContext:fn,use:Zo,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De},sg={readContext:fn,use:Zo,useCallback:function(t,n){return An().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:Hm,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Wo(4194308,4,Ym.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Wo(4194308,4,t,n)},useInsertionEffect:function(t,n){Wo(4,2,t,n)},useMemo:function(t,n){var a=An();n=n===void 0?null:n;var l=t();if(Ir){en(!0);try{t()}finally{en(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=An();if(a!==void 0){var c=a(n);if(Ir){en(!0);try{a(n)}finally{en(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=V0.bind(null,Lt,t),[l.memoizedState,t]},useRef:function(t){var n=An();return t={current:t},n.memoizedState=t},useState:function(t){t=ph(t);var n=t.queue,a=ig.bind(null,Lt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:_h,useDeferredValue:function(t,n){var a=An();return vh(a,t,n)},useTransition:function(){var t=ph(!1);return t=Jm.bind(null,Lt,t.queue,!0,!1),An().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Lt,c=An();if(Jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),de===null)throw Error(r(349));(Yt&124)!==0||Cm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,Hm(Vm.bind(null,l,f,t),[t]),l.flags|=2048,ms(9,Jo(),Dm.bind(null,l,f,a,n),null),a},useId:function(){var t=An(),n=de.identifierPrefix;if(Jt){var a=Ji,l=$i;a=(l&~(1<<32-Me(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Ko++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=S0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Th,useFormState:Pm,useActionState:Pm,useOptimistic:function(t){var n=An();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ah.bind(null,Lt,!0,a),a.dispatch=n,[t,n]},useMemoCache:dh,useCacheRefresh:function(){return An().memoizedState=D0.bind(null,Lt)}},lg={readContext:fn,use:Zo,useCallback:Km,useContext:fn,useEffect:Gm,useImperativeHandle:Xm,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:$o,useRef:qm,useState:function(){return $o(ea)},useDebugValue:_h,useDeferredValue:function(t,n){var a=Ue();return $m(a,se.memoizedState,t,n)},useTransition:function(){var t=$o(ea)[0],n=Ue().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:Th,useFormState:Bm,useActionState:Bm,useOptimistic:function(t,n){var a=Ue();return Nm(a,se,t,n)},useMemoCache:dh,useCacheRefresh:ng},I0={readContext:fn,use:Zo,useCallback:Km,useContext:fn,useEffect:Gm,useImperativeHandle:Xm,useInsertionEffect:Qm,useLayoutEffect:Fm,useMemo:Zm,useReducer:gh,useRef:qm,useState:function(){return gh(ea)},useDebugValue:_h,useDeferredValue:function(t,n){var a=Ue();return se===null?vh(a,t,n):$m(a,se.memoizedState,t,n)},useTransition:function(){var t=gh(ea)[0],n=Ue().memoizedState;return[typeof t=="boolean"?t:Sl(t),n]},useSyncExternalStore:wm,useId:eg,useHostTransitionStatus:Th,useFormState:km,useActionState:km,useOptimistic:function(t,n){var a=Ue();return se!==null?Nm(a,se,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:ng},gs=null,wl=0;function nu(t){var n=wl;return wl+=1,gs===null&&(gs=[]),_m(gs,t,n)}function Cl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function iu(t,n){throw n.$$typeof===O?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function og(t){var n=t._init;return n(t._payload)}function ug(t){function n(z,M){if(t){var B=z.deletions;B===null?(z.deletions=[M],z.flags|=16):B.push(M)}}function a(z,M){if(!t)return null;for(;M!==null;)n(z,M),M=M.sibling;return null}function l(z){for(var M=new Map;z!==null;)z.key!==null?M.set(z.key,z):M.set(z.index,z),z=z.sibling;return M}function c(z,M){return z=Zi(z,M),z.index=0,z.sibling=null,z}function f(z,M,B){return z.index=B,t?(B=z.alternate,B!==null?(B=B.index,B<M?(z.flags|=67108866,M):B):(z.flags|=67108866,M)):(z.flags|=1048576,M)}function y(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function E(z,M,B,K){return M===null||M.tag!==6?(M=Hc(B,z.mode,K),M.return=z,M):(M=c(M,B),M.return=z,M)}function R(z,M,B,K){var ft=B.type;return ft===tt?F(z,M,B.props.children,K,B.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&og(ft)===M.type)?(M=c(M,B.props),Cl(M,B),M.return=z,M):(M=Bo(B.type,B.key,B.props,null,z.mode,K),Cl(M,B),M.return=z,M)}function j(z,M,B,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Gc(B,z.mode,K),M.return=z,M):(M=c(M,B.children||[]),M.return=z,M)}function F(z,M,B,K,ft){return M===null||M.tag!==7?(M=Ar(B,z.mode,K,ft),M.return=z,M):(M=c(M,B),M.return=z,M)}function Z(z,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Hc(""+M,z.mode,B),M.return=z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return B=Bo(M.type,M.key,M.props,null,z.mode,B),Cl(B,M),B.return=z,B;case Y:return M=Gc(M,z.mode,B),M.return=z,M;case b:var K=M._init;return M=K(M._payload),Z(z,M,B)}if(ge(M)||L(M))return M=Ar(M,z.mode,B,null),M.return=z,M;if(typeof M.then=="function")return Z(z,nu(M),B);if(M.$$typeof===pt)return Z(z,Ho(z,M),B);iu(z,M)}return null}function k(z,M,B,K){var ft=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ft!==null?null:E(z,M,""+B,K);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case N:return B.key===ft?R(z,M,B,K):null;case Y:return B.key===ft?j(z,M,B,K):null;case b:return ft=B._init,B=ft(B._payload),k(z,M,B,K)}if(ge(B)||L(B))return ft!==null?null:F(z,M,B,K,null);if(typeof B.then=="function")return k(z,M,nu(B),K);if(B.$$typeof===pt)return k(z,M,Ho(z,B),K);iu(z,B)}return null}function q(z,M,B,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return z=z.get(B)||null,E(M,z,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case N:return z=z.get(K.key===null?B:K.key)||null,R(M,z,K,ft);case Y:return z=z.get(K.key===null?B:K.key)||null,j(M,z,K,ft);case b:var Pt=K._init;return K=Pt(K._payload),q(z,M,B,K,ft)}if(ge(K)||L(K))return z=z.get(B)||null,F(M,z,K,ft,null);if(typeof K.then=="function")return q(z,M,B,nu(K),ft);if(K.$$typeof===pt)return q(z,M,B,Ho(M,K),ft);iu(M,K)}return null}function Ct(z,M,B,K){for(var ft=null,Pt=null,gt=M,Tt=M=0,We=null;gt!==null&&Tt<B.length;Tt++){gt.index>Tt?(We=gt,gt=null):We=gt.sibling;var $t=k(z,gt,B[Tt],K);if($t===null){gt===null&&(gt=We);break}t&&gt&&$t.alternate===null&&n(z,gt),M=f($t,M,Tt),Pt===null?ft=$t:Pt.sibling=$t,Pt=$t,gt=We}if(Tt===B.length)return a(z,gt),Jt&&br(z,Tt),ft;if(gt===null){for(;Tt<B.length;Tt++)gt=Z(z,B[Tt],K),gt!==null&&(M=f(gt,M,Tt),Pt===null?ft=gt:Pt.sibling=gt,Pt=gt);return Jt&&br(z,Tt),ft}for(gt=l(gt);Tt<B.length;Tt++)We=q(gt,z,Tt,B[Tt],K),We!==null&&(t&&We.alternate!==null&&gt.delete(We.key===null?Tt:We.key),M=f(We,M,Tt),Pt===null?ft=We:Pt.sibling=We,Pt=We);return t&&gt.forEach(function(ka){return n(z,ka)}),Jt&&br(z,Tt),ft}function Et(z,M,B,K){if(B==null)throw Error(r(151));for(var ft=null,Pt=null,gt=M,Tt=M=0,We=null,$t=B.next();gt!==null&&!$t.done;Tt++,$t=B.next()){gt.index>Tt?(We=gt,gt=null):We=gt.sibling;var ka=k(z,gt,$t.value,K);if(ka===null){gt===null&&(gt=We);break}t&&gt&&ka.alternate===null&&n(z,gt),M=f(ka,M,Tt),Pt===null?ft=ka:Pt.sibling=ka,Pt=ka,gt=We}if($t.done)return a(z,gt),Jt&&br(z,Tt),ft;if(gt===null){for(;!$t.done;Tt++,$t=B.next())$t=Z(z,$t.value,K),$t!==null&&(M=f($t,M,Tt),Pt===null?ft=$t:Pt.sibling=$t,Pt=$t);return Jt&&br(z,Tt),ft}for(gt=l(gt);!$t.done;Tt++,$t=B.next())$t=q(gt,z,Tt,$t.value,K),$t!==null&&(t&&$t.alternate!==null&&gt.delete($t.key===null?Tt:$t.key),M=f($t,M,Tt),Pt===null?ft=$t:Pt.sibling=$t,Pt=$t);return t&&gt.forEach(function(ME){return n(z,ME)}),Jt&&br(z,Tt),ft}function oe(z,M,B,K){if(typeof B=="object"&&B!==null&&B.type===tt&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case N:t:{for(var ft=B.key;M!==null;){if(M.key===ft){if(ft=B.type,ft===tt){if(M.tag===7){a(z,M.sibling),K=c(M,B.props.children),K.return=z,z=K;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===b&&og(ft)===M.type){a(z,M.sibling),K=c(M,B.props),Cl(K,B),K.return=z,z=K;break t}a(z,M);break}else n(z,M);M=M.sibling}B.type===tt?(K=Ar(B.props.children,z.mode,K,B.key),K.return=z,z=K):(K=Bo(B.type,B.key,B.props,null,z.mode,K),Cl(K,B),K.return=z,z=K)}return y(z);case Y:t:{for(ft=B.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(z,M.sibling),K=c(M,B.children||[]),K.return=z,z=K;break t}else{a(z,M);break}else n(z,M);M=M.sibling}K=Gc(B,z.mode,K),K.return=z,z=K}return y(z);case b:return ft=B._init,B=ft(B._payload),oe(z,M,B,K)}if(ge(B))return Ct(z,M,B,K);if(L(B)){if(ft=L(B),typeof ft!="function")throw Error(r(150));return B=ft.call(B),Et(z,M,B,K)}if(typeof B.then=="function")return oe(z,M,nu(B),K);if(B.$$typeof===pt)return oe(z,M,Ho(z,B),K);iu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(z,M.sibling),K=c(M,B),K.return=z,z=K):(a(z,M),K=Hc(B,z.mode,K),K.return=z,z=K),y(z)):a(z,M)}return function(z,M,B,K){try{wl=0;var ft=oe(z,M,B,K);return gs=null,ft}catch(gt){if(gt===yl||gt===Qo)throw gt;var Pt=Mn(29,gt,null,z.mode);return Pt.lanes=K,Pt.return=z,Pt}finally{}}}var ps=ug(!0),cg=ug(!1),$n=J(null),Ai=null;function wa(t){var n=t.alternate;rt(Qe,Qe.current&1),rt($n,t),Ai===null&&(n===null||hs.current!==null||n.memoizedState!==null)&&(Ai=t)}function hg(t){if(t.tag===22){if(rt(Qe,Qe.current),rt($n,t),Ai===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Ai=t)}}else Ca()}function Ca(){rt(Qe,Qe.current),rt($n,$n.current)}function na(t){ot($n),Ai===t&&(Ai=null),ot(Qe)}var Qe=J(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||df(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Sh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:A({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Un(),c=Sa(l);c.payload=n,a!=null&&(c.callback=a),n=ba(t,c,l),n!==null&&(Ln(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Un(),c=Sa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=ba(t,c,l),n!==null&&(Ln(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),l=Sa(a);l.tag=2,n!=null&&(l.callback=n),n=ba(t,l,a),n!==null&&(Ln(n,t,a),vl(n,t,a))}};function fg(t,n,a,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!ul(a,l)||!ul(c,f):!0}function dg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&bh.enqueueReplaceState(n,n.state,null)}function Mr(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=A({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function mg(t){ru(t)}function gg(t){console.error(t)}function pg(t){ru(t)}function su(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function yg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Rh(t,n,a){return a=Sa(a),a.tag=3,a.payload={element:null},a.callback=function(){su(t,n)},a}function _g(t){return t=Sa(t),t.tag=3,t}function vg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){yg(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){yg(n,a,l),typeof c!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function M0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ml(n,a,c,!0),a=$n.current,a!==null){switch(a.tag){case 13:return Ai===null?Kh():a.alternate===null&&be===0&&(be=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===th?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),$h(t,l,c)),!1;case 22:return a.flags|=65536,l===th?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),$h(t,l,c)),!1}throw Error(r(435,a.tag))}return $h(t,l,c),Kh(),!1}if(Jt)return n=$n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Yc&&(t=Error(r(422),{cause:l}),dl(Yn(t,a)))):(l!==Yc&&(n=Error(r(423),{cause:l}),dl(Yn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Yn(l,a),c=Rh(t.stateNode,l,c),ih(t,c),be!==4&&(be=2)),!1;var f=Error(r(520),{cause:l});if(f=Yn(f,a),xl===null?xl=[f]:xl.push(f),be!==4&&(be=2),n===null)return!0;l=Yn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Rh(a.stateNode,l,t),ih(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Oa===null||!Oa.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=_g(c),vg(c,t,a,l),ih(a,c),!1}a=a.return}while(a!==null);return!1}var Eg=Error(r(461)),$e=!1;function rn(t,n,a,l){n.child=t===null?cg(n,null,a,l):ps(n,t.child,a,l)}function Tg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Dr(n),l=oh(t,n,a,y,f,c),E=uh(),t!==null&&!$e?(ch(t,n,c),ia(t,n,c)):(Jt&&E&&Qc(n),n.flags|=1,rn(t,n,l,c),n.child)}function Ag(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Sg(t,n,f,l,c)):(t=Bo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Oh(t,c)){var y=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(y,l)&&t.ref===n.ref)return ia(t,n,c)}return n.flags|=1,t=Zi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Sg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===n.ref)if($e=!1,n.pendingProps=l=f,Oh(t,c))(t.flags&131072)!==0&&($e=!0);else return n.lanes=t.lanes,ia(t,n,c)}return wh(t,n,a,l,c)}function bg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Rg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Go(n,f!==null?f.cachePool:null),f!==null?Sm(n,f):rh(),hg(n);else return n.lanes=n.childLanes=536870912,Rg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Go(n,f.cachePool),Sm(n,f),Ca(),n.memoizedState=null):(t!==null&&Go(n,null),rh(),Ca());return rn(t,n,c,a),n.child}function Rg(t,n,a,l){var c=Wc();return c=c===null?null:{parent:Ge._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Go(n,null),rh(),hg(n),t!==null&&ml(t,n,l,!0),null}function lu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function wh(t,n,a,l,c){return Dr(n),a=oh(t,n,a,l,void 0,c),l=uh(),t!==null&&!$e?(ch(t,n,c),ia(t,n,c)):(Jt&&l&&Qc(n),n.flags|=1,rn(t,n,a,c),n.child)}function wg(t,n,a,l,c,f){return Dr(n),n.updateQueue=null,a=Rm(n,l,a,c),bm(t),l=uh(),t!==null&&!$e?(ch(t,n,f),ia(t,n,f)):(Jt&&l&&Qc(n),n.flags|=1,rn(t,n,a,f),n.child)}function Cg(t,n,a,l,c){if(Dr(n),n.stateNode===null){var f=ss,y=a.contextType;typeof y=="object"&&y!==null&&(f=fn(y)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},eh(n),y=a.contextType,f.context=typeof y=="object"&&y!==null?fn(y):ss,f.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Sh(n,a,y,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&bh.enqueueReplaceState(f,f.state,null),Tl(n,l,f,c),El(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=Mr(a,E);f.props=R;var j=f.context,F=a.contextType;y=ss,typeof F=="object"&&F!==null&&(y=fn(F));var Z=a.getDerivedStateFromProps;F=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==y)&&dg(n,f,l,y),Aa=!1;var k=n.memoizedState;f.state=k,Tl(n,l,f,c),El(),j=n.memoizedState,E||k!==j||Aa?(typeof Z=="function"&&(Sh(n,a,Z,l),j=n.memoizedState),(R=Aa||fg(n,a,R,l,k,j,y))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=y,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nh(t,n),y=n.memoizedProps,F=Mr(a,y),f.props=F,Z=n.pendingProps,k=f.context,j=a.contextType,R=ss,typeof j=="object"&&j!==null&&(R=fn(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Z||k!==R)&&dg(n,f,l,R),Aa=!1,k=n.memoizedState,f.state=k,Tl(n,l,f,c),El();var q=n.memoizedState;y!==Z||k!==q||Aa||t!==null&&t.dependencies!==null&&qo(t.dependencies)?(typeof E=="function"&&(Sh(n,a,E,l),q=n.memoizedState),(F=Aa||fg(n,a,F,l,k,q,R)||t!==null&&t.dependencies!==null&&qo(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,lu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ps(n,t.child,null,c),n.child=ps(n,null,a,c)):rn(t,n,a,c),n.memoizedState=f.state,t=n.child):t=ia(t,n,c),t}function Dg(t,n,a,l){return fl(),n.flags|=256,rn(t,n,a,l),n.child}var Ch={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dh(t){return{baseLanes:t,cachePool:gm()}}function Vh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Jn),t}function Vg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Qe.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Jt){if(c?wa(n):Ca(),Jt){var E=Se,R;if(R=E){t:{for(R=E,E=Ti;R.nodeType!==8;){if(!E){E=null;break t}if(R=li(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Sr!==null?{id:$i,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},R=Mn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,vn=n,Se=null,R=!0):R=!1}R||wr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return df(E)?n.lanes=32:n.lanes=536870912,null;na(n)}return E=l.children,l=l.fallback,c?(Ca(),c=n.mode,E=ou({mode:"hidden",children:E},c),l=Ar(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Dh(a),c.childLanes=Vh(t,y,a),n.memoizedState=Ch,l):(wa(n),Ih(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(wa(n),n.flags&=-257,n=Mh(t,n,a)):n.memoizedState!==null?(Ca(),n.child=t.child,n.flags|=128,n=null):(Ca(),c=l.fallback,E=n.mode,l=ou({mode:"visible",children:l.children},E),c=Ar(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ps(n,t.child,null,a),l=n.child,l.memoizedState=Dh(a),l.childLanes=Vh(t,y,a),n.memoizedState=Ch,n=c);else if(wa(n),df(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var j=y.dgst;y=j,l=Error(r(419)),l.stack="",l.digest=y,dl({value:l,source:null,stack:null}),n=Mh(t,n,a)}else if($e||ml(t,n,a,!1),y=(a&t.childLanes)!==0,$e||y){if(y=de,y!==null&&(l=a&-a,l=(l&42)!==0?1:di(l),l=(l&(y.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,rs(t,l),Ln(y,t,l),Eg;E.data==="$?"||Kh(),n=Mh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,Se=li(E.nextSibling),vn=n,Jt=!0,Rr=null,Ti=!1,t!==null&&(Kn[Zn++]=$i,Kn[Zn++]=Ji,Kn[Zn++]=Sr,$i=t.id,Ji=t.overflow,Sr=n),n=Ih(n,l.children),n.flags|=4096);return n}return c?(Ca(),c=l.fallback,E=n.mode,R=t.child,j=R.sibling,l=Zi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?c=Zi(j,c):(c=Ar(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Dh(a):(R=E.cachePool,R!==null?(j=Ge._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=gm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Vh(t,y,a),n.memoizedState=Ch,l):(wa(n),a=t.child,t=a.sibling,a=Zi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=a,n.memoizedState=null,a)}function Ih(t,n){return n=ou({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ou(t,n){return t=Mn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mh(t,n,a){return ps(n,t.child,null,a),t=Ih(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Ig(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Kc(t.return,n,a)}function Nh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Mg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(rn(t,n,l.children,a),l=Qe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ig(t,a,n);else if(t.tag===19)Ig(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(rt(Qe,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Nh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Nh(n,!0,a,null,f);break;case"together":Nh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ia(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Na|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ml(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=Zi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Zi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Oh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qo(t)))}function N0(t,n,a){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),Ta(n,Ge,t.memoizedState.cache),fl();break;case 27:case 5:ei(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:Ta(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(wa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Vg(t,n,a):(wa(n),t=ia(t,n,a),t!==null?t.sibling:null);wa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ml(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Mg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),rt(Qe,Qe.current),l)break;return null;case 22:case 23:return n.lanes=0,bg(t,n,a);case 24:Ta(n,Ge,t.memoizedState.cache)}return ia(t,n,a)}function Ng(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)$e=!0;else{if(!Oh(t,a)&&(n.flags&128)===0)return $e=!1,N0(t,n,a);$e=(t.flags&131072)!==0}else $e=!1,Jt&&(n.flags&1048576)!==0&&om(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")qc(l)?(t=Mr(l,t),n.tag=1,n=Cg(null,n,l,t,a)):(n.tag=0,n=wh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===zt){n.tag=11,n=Tg(null,n,l,t,a);break t}else if(c===U){n.tag=14,n=Ag(null,n,l,t,a);break t}}throw n=Be(l)||l,Error(r(306,n,""))}}return n;case 0:return wh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Mr(l,n.pendingProps),Cg(t,n,l,c,a);case 3:t:{if(ae(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,nh(t,n),Tl(n,l,null,a);var y=n.memoizedState;if(l=y.cache,Ta(n,Ge,l),l!==f.cache&&Zc(n,[Ge],a,!0),El(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Dg(t,n,l,a);break t}else if(l!==c){c=Yn(Error(r(424)),n),dl(c),n=Dg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Se=li(t.firstChild),vn=n,Jt=!0,Rr=null,Ti=!0,a=cg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fl(),l===c){n=ia(t,n,a);break t}rn(t,n,l,a)}n=n.child}return n;case 26:return lu(t,n),t===null?(a=Lp(n.type,null,n.pendingProps,null))?n.memoizedState=a:Jt||(a=n.type,t=n.pendingProps,l=Au(Rt.current).createElement(a),l[Ae]=n,l[he]=t,ln(l,a,t),Mt(l),n.stateNode=l):n.memoizedState=Lp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ei(n),t===null&&Jt&&(l=n.stateNode=Op(n.type,n.pendingProps,Rt.current),vn=n,Ti=!0,c=Se,La(n.type)?(mf=c,Se=li(l.firstChild)):Se=c),rn(t,n,n.pendingProps.children,a),lu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Jt&&((c=l=Se)&&(l=sE(l,n.type,n.pendingProps,Ti),l!==null?(n.stateNode=l,vn=n,Se=li(l.firstChild),Ti=!1,c=!0):c=!1),c||wr(n)),ei(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,cf(c,f)?l=null:y!==null&&cf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=oh(t,n,b0,null,null,a),Hl._currentValue=c),lu(t,n),rn(t,n,l,a),n.child;case 6:return t===null&&Jt&&((t=a=Se)&&(a=lE(a,n.pendingProps,Ti),a!==null?(n.stateNode=a,vn=n,Se=null,t=!0):t=!1),t||wr(n)),null;case 13:return Vg(t,n,a);case 4:return ae(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ps(n,null,l,a):rn(t,n,l,a),n.child;case 11:return Tg(t,n,n.type,n.pendingProps,a);case 7:return rn(t,n,n.pendingProps,a),n.child;case 8:return rn(t,n,n.pendingProps.children,a),n.child;case 12:return rn(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ta(n,n.type,l.value),rn(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Dr(n),c=fn(c),l=l(c),n.flags|=1,rn(t,n,l,a),n.child;case 14:return Ag(t,n,n.type,n.pendingProps,a);case 15:return Sg(t,n,n.type,n.pendingProps,a);case 19:return Mg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=ou(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Zi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bg(t,n,a);case 24:return Dr(n),l=fn(Ge),t===null?(c=Wc(),c===null&&(c=de,f=$c(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},eh(n),Ta(n,Ge,c)):((t.lanes&a)!==0&&(nh(t,n),Tl(n,null,null,a),El()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Ta(n,Ge,l)):(l=f.cache,Ta(n,Ge,l),l!==c.cache&&Zc(n,[Ge],a,!0))),rn(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function aa(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kp(n)){if(n=$n.current,n!==null&&((Yt&4194048)===Yt?Ai!==null:(Yt&62914560)!==Yt&&(Yt&536870912)===0||n!==Ai))throw _l=th,pm;t.flags|=8192}}function uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?rr():536870912,t.lanes|=n,Es|=n)}function Dl(t,n){if(!Jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function O0(t,n,a){var l=n.pendingProps;switch(Fc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(n),null;case 1:return Ee(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ta(Ge),hn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(hl(n)?aa(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hm())),Ee(n),null;case 26:return a=n.memoizedState,t===null?(aa(n),a!==null?(Ee(n),Og(n,a)):(Ee(n),n.flags&=-16777217)):a?a!==t.memoizedState?(aa(n),Ee(n),Og(n,a)):(Ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&aa(n),Ee(n),n.flags&=-16777217),null;case 27:ni(n),a=Rt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}t=yt.current,hl(n)?um(n):(t=Op(c,l,a),n.stateNode=t,aa(n))}return Ee(n),null;case 5:if(ni(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ee(n),null}if(t=yt.current,hl(n))um(n);else{switch(c=Au(Rt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[Ae]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ln(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&aa(n)}}return Ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&aa(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Rt.current,hl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=vn,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||wp(t.nodeValue,a)),t||wr(n)}else t=Au(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return Ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=hl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[Ae]=n}else fl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),c=!1}else c=hm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(na(n),n):(na(n),null)}if(na(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),uu(n,n.updateQueue),Ee(n),null;case 4:return hn(),t===null&&rf(n.stateNode.containerInfo),Ee(n),null;case 10:return ta(n.type),Ee(n),null;case 19:if(ot(Qe),c=n.memoizedState,c===null)return Ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Dl(c,!1);else{if(be!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Dl(c,!1),t=f.updateQueue,n.updateQueue=t,uu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)lm(a,t),a=a.sibling;return rt(Qe,Qe.current&1|2),n.child}t=t.sibling}c.tail!==null&&En()>fu&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,uu(n,t),Dl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Jt)return Ee(n),null}else 2*En()-c.renderingStartTime>fu&&a!==536870912&&(n.flags|=128,l=!0,Dl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=En(),n.sibling=null,t=Qe.current,rt(Qe,l?t&1|2:t&1),n):(Ee(n),null);case 22:case 23:return na(n),sh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ee(n),n.subtreeFlags&6&&(n.flags|=8192)):Ee(n),a=n.updateQueue,a!==null&&uu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ot(Vr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ta(Ge),Ee(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function x0(t,n){switch(Fc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return ta(Ge),hn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(na(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));fl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ot(Qe),null;case 4:return hn(),null;case 10:return ta(n.type),null;case 22:case 23:return na(n),sh(),t!==null&&ot(Vr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return ta(Ge),null;case 25:return null;default:return null}}function xg(t,n){switch(Fc(n),n.tag){case 3:ta(Ge),hn();break;case 26:case 27:case 5:ni(n);break;case 4:hn();break;case 13:na(n);break;case 19:ot(Qe);break;case 10:ta(n.type);break;case 22:case 23:na(n),sh(),t!==null&&ot(Vr);break;case 24:ta(Ge)}}function Vl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,y=a.inst;l=f(),y.destroy=l}a=a.next}while(a!==c)}}catch(E){ce(n,n.return,E)}}function Da(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=a,j=E;try{j()}catch(F){ce(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){ce(n,n.return,F)}}function Ug(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Am(n,a)}catch(l){ce(t,t.return,l)}}}function Lg(t,n,a){a.props=Mr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ce(t,n,l)}}function Il(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ce(t,n,c)}}function Si(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ce(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ce(t,n,c)}else a.current=null}function zg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ce(t,t.return,c)}}function xh(t,n,a){try{var l=t.stateNode;eE(l,t.type,a,n),l[he]=n}catch(c){ce(t,t.return,c)}}function Pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&La(t.type)||t.tag===4}function Uh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&La(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Tu));else if(l!==4&&(l===27&&La(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Lh(t,n,a),t=t.sibling;t!==null;)Lh(t,n,a),t=t.sibling}function cu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&La(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(cu(t,n,a),t=t.sibling;t!==null;)cu(t,n,a),t=t.sibling}function Bg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ln(n,l,a),n[Ae]=t,n[he]=a}catch(f){ce(t,t.return,f)}}var ra=!1,Ve=!1,zh=!1,jg=typeof WeakSet=="function"?WeakSet:Set,Je=null;function U0(t,n){if(t=t.containerInfo,of=Du,t=$d(t),Uc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var y=0,E=-1,R=-1,j=0,F=0,Z=t,k=null;e:for(;;){for(var q;Z!==a||c!==0&&Z.nodeType!==3||(E=y+c),Z!==f||l!==0&&Z.nodeType!==3||(R=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(q=Z.firstChild)!==null;)k=Z,Z=q;for(;;){if(Z===t)break e;if(k===a&&++j===c&&(E=y),k===f&&++F===l&&(R=y),(q=Z.nextSibling)!==null)break;Z=k,k=Z.parentNode}Z=q}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(uf={focusedElem:t,selectionRange:a},Du=!1,Je=n;Je!==null;)if(n=Je,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Je=t;else for(;Je!==null;){switch(n=Je,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ct=Mr(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ct,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Et){ce(a,a.return,Et)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)ff(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ff(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Je=t;break}Je=n.return}}function kg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Va(t,a),l&4&&Vl(5,a);break;case 1:if(Va(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(y){ce(a,a.return,y)}else{var c=Mr(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){ce(a,a.return,y)}}l&64&&Ug(a),l&512&&Il(a,a.return);break;case 3:if(Va(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Am(t,n)}catch(y){ce(a,a.return,y)}}break;case 27:n===null&&l&4&&Bg(a);case 26:case 5:Va(t,a),n===null&&l&4&&zg(a),l&512&&Il(a,a.return);break;case 12:Va(t,a);break;case 13:Va(t,a),l&4&&Gg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=G0.bind(null,a),oE(t,a))));break;case 22:if(l=a.memoizedState!==null||ra,!l){n=n!==null&&n.memoizedState!==null||Ve,c=ra;var f=Ve;ra=l,(Ve=n)&&!f?Ia(t,a,(a.subtreeFlags&8772)!==0):Va(t,a),ra=c,Ve=f}break;case 30:break;default:Va(t,a)}}function qg(t){var n=t.alternate;n!==null&&(t.alternate=null,qg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&nt(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ve=null,Sn=!1;function sa(t,n,a){for(a=a.child;a!==null;)Hg(t,n,a),a=a.sibling}function Hg(t,n,a){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(pe,a)}catch{}switch(a.tag){case 26:Ve||Si(a,n),sa(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ve||Si(a,n);var l=ve,c=Sn;La(a.type)&&(ve=a.stateNode,Sn=!1),sa(t,n,a),Bl(a.stateNode),ve=l,Sn=c;break;case 5:Ve||Si(a,n);case 6:if(l=ve,c=Sn,ve=null,sa(t,n,a),ve=l,Sn=c,ve!==null)if(Sn)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(f){ce(a,n,f)}else try{ve.removeChild(a.stateNode)}catch(f){ce(a,n,f)}break;case 18:ve!==null&&(Sn?(t=ve,Mp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yl(t)):Mp(ve,a.stateNode));break;case 4:l=ve,c=Sn,ve=a.stateNode.containerInfo,Sn=!0,sa(t,n,a),ve=l,Sn=c;break;case 0:case 11:case 14:case 15:Ve||Da(2,a,n),Ve||Da(4,a,n),sa(t,n,a);break;case 1:Ve||(Si(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Lg(a,n,l)),sa(t,n,a);break;case 21:sa(t,n,a);break;case 22:Ve=(l=Ve)||a.memoizedState!==null,sa(t,n,a),Ve=l;break;default:sa(t,n,a)}}function Gg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yl(t)}catch(a){ce(n,n.return,a)}}function L0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new jg),n;default:throw Error(r(435,t.tag))}}function Ph(t,n){var a=L0(t);n.forEach(function(l){var c=Q0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Nn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(La(E.type)){ve=E.stateNode,Sn=!1;break t}break;case 5:ve=E.stateNode,Sn=!1;break t;case 3:case 4:ve=E.stateNode.containerInfo,Sn=!0;break t}E=E.return}if(ve===null)throw Error(r(160));Hg(f,y,c),ve=null,Sn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Qg(n,t),n=n.sibling}var si=null;function Qg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nn(n,t),On(t),l&4&&(Da(3,t,t.return),Vl(3,t),Da(5,t,t.return));break;case 1:Nn(n,t),On(t),l&512&&(Ve||a===null||Si(a,a.return)),l&64&&ra&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=si;if(Nn(n,t),On(t),l&512&&(Ve||a===null||Si(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[et]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ln(f,l,a),f[Ae]=t,Mt(f),l=f;break t;case"link":var y=Bp("link","href",c).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ln(f,l,a),c.head.appendChild(f);break;case"meta":if(y=Bp("meta","content",c).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ln(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[Ae]=t,Mt(f),l=f}t.stateNode=l}else jp(c,t.type,t.stateNode);else t.stateNode=Pp(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?jp(c,t.type,t.stateNode):Pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Nn(n,t),On(t),l&512&&(Ve||a===null||Si(a,a.return)),a!==null&&l&4&&xh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Nn(n,t),On(t),l&512&&(Ve||a===null||Si(a,a.return)),t.flags&32){c=t.stateNode;try{Hn(c,"")}catch(q){ce(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,xh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(zh=!0);break;case 6:if(Nn(n,t),On(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(q){ce(t,t.return,q)}}break;case 3:if(Ru=null,c=si,si=Su(n.containerInfo),Nn(n,t),si=c,On(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(n.containerInfo)}catch(q){ce(t,t.return,q)}zh&&(zh=!1,Fg(t));break;case 4:l=si,si=Su(t.stateNode.containerInfo),Nn(n,t),On(t),si=l;break;case 12:Nn(n,t),On(t);break;case 13:Nn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gh=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ph(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=ra,F=Ve;if(ra=j||c,Ve=F||R,Nn(n,t),Ve=F,ra=j,On(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||ra||Ve||Nr(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=R.stateNode;var Z=R.memoizedProps.style,k=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(q){ce(R,R.return,q)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(q){ce(R,R.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ph(t,a))));break;case 19:Nn(n,t),On(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ph(t,l)));break;case 30:break;case 21:break;default:Nn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Pg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Uh(t);cu(t,f,c);break;case 5:var y=a.stateNode;a.flags&32&&(Hn(y,""),a.flags&=-33);var E=Uh(t);cu(t,E,y);break;case 3:case 4:var R=a.stateNode.containerInfo,j=Uh(t);Lh(t,j,R);break;default:throw Error(r(161))}}catch(F){ce(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Fg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Fg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Va(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kg(t,n.alternate,n),n=n.sibling}function Nr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Da(4,n,n.return),Nr(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Lg(n,n.return,a),Nr(n);break;case 27:Bl(n.stateNode);case 26:case 5:Si(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}t=t.sibling}}function Ia(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Ia(c,f,a),Vl(4,f);break;case 1:if(Ia(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){ce(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Tm(R[c],E)}catch(j){ce(l,l.return,j)}}a&&y&64&&Ug(f),Il(f,f.return);break;case 27:Bg(f);case 26:case 5:Ia(c,f,a),a&&l===null&&y&4&&zg(f),Il(f,f.return);break;case 12:Ia(c,f,a);break;case 13:Ia(c,f,a),a&&y&4&&Gg(c,f);break;case 22:f.memoizedState===null&&Ia(c,f,a),Il(f,f.return);break;case 30:break;default:Ia(c,f,a)}n=n.sibling}}function Bh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&gl(a))}function jh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t))}function bi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Yg(t,n,a,l),n=n.sibling}function Yg(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:bi(t,n,a,l),c&2048&&Vl(9,n);break;case 1:bi(t,n,a,l);break;case 3:bi(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&gl(t)));break;case 12:if(c&2048){bi(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){ce(n,n.return,R)}}else bi(t,n,a,l);break;case 13:bi(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?bi(t,n,a,l):Ml(t,n):f._visibility&2?bi(t,n,a,l):(f._visibility|=2,ys(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Bh(y,n);break;case 24:bi(t,n,a,l),c&2048&&jh(n.alternate,n);break;default:bi(t,n,a,l)}}function ys(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=a,R=l,j=y.flags;switch(y.tag){case 0:case 11:case 15:ys(f,y,E,R,c),Vl(8,y);break;case 23:break;case 22:var F=y.stateNode;y.memoizedState!==null?F._visibility&2?ys(f,y,E,R,c):Ml(f,y):(F._visibility|=2,ys(f,y,E,R,c)),c&&j&2048&&Bh(y.alternate,y);break;case 24:ys(f,y,E,R,c),c&&j&2048&&jh(y.alternate,y);break;default:ys(f,y,E,R,c)}n=n.sibling}}function Ml(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Ml(a,l),c&2048&&Bh(l.alternate,l);break;case 24:Ml(a,l),c&2048&&jh(l.alternate,l);break;default:Ml(a,l)}n=n.sibling}}var Nl=8192;function _s(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)Xg(t),t=t.sibling}function Xg(t){switch(t.tag){case 26:_s(t),t.flags&Nl&&t.memoizedState!==null&&TE(si,t.memoizedState,t.memoizedProps);break;case 5:_s(t);break;case 3:case 4:var n=si;si=Su(t.stateNode.containerInfo),_s(t),si=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Nl,Nl=16777216,_s(t),Nl=n):_s(t));break;default:_s(t)}}function Kg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,$g(l,t)}Kg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zg(t),t=t.sibling}function Zg(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Da(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,hu(t)):Ol(t);break;default:Ol(t)}}function hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Je=l,$g(l,t)}Kg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Da(8,n,n.return),hu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,hu(n));break;default:hu(n)}t=t.sibling}}function $g(t,n){for(;Je!==null;){var a=Je;switch(a.tag){case 0:case 11:case 15:Da(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Je=l;else t:for(a=t;Je!==null;){l=Je;var c=l.sibling,f=l.return;if(qg(l),l===a){Je=null;break t}if(c!==null){c.return=f,Je=c;break t}Je=f}}}var z0={getCacheForType:function(t){var n=fn(Ge),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},P0=typeof WeakMap=="function"?WeakMap:Map,ne=0,de=null,Bt=null,Yt=0,ie=0,xn=null,Ma=!1,vs=!1,kh=!1,la=0,be=0,Na=0,Or=0,qh=0,Jn=0,Es=0,xl=null,bn=null,Hh=!1,Gh=0,fu=1/0,du=null,Oa=null,sn=0,xa=null,Ts=null,As=0,Qh=0,Fh=null,Jg=null,Ul=0,Yh=null;function Un(){if((ne&2)!==0&&Yt!==0)return Yt&-Yt;if(Q.T!==null){var t=us;return t!==0?t:tf()}return Tn()}function Wg(){Jn===0&&(Jn=(Yt&536870912)===0||Jt?ar():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Jn}function Ln(t,n,a){(t===de&&(ie===2||ie===9)||t.cancelPendingCommit!==null)&&(Ss(t,0),Ua(t,Yt,Jn,!1)),we(t,a),((ne&2)===0||t!==de)&&(t===de&&((ne&2)===0&&(Or|=a),be===4&&Ua(t,Yt,Jn,!1)),Ri(t))}function tp(t,n,a){if((ne&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||hi(t,n),c=l?k0(t,n):Zh(t,n,!0),f=l;do{if(c===0){vs&&!l&&Ua(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!B0(a)){c=Zh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=xl;var R=E.current.memoizedState.isDehydrated;if(R&&(Ss(E,y).flags|=256),y=Zh(E,y,!1),y!==2){if(kh&&!R){E.errorRecoveryDisabledLanes|=f,Or|=f,c=4;break t}f=bn,bn=c,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Ss(t,0),Ua(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ua(l,n,Jn,!Ma);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Gh+300-En(),10<c)){if(Ua(l,n,Jn,!Ma),ci(l,0,!0)!==0)break t;l.timeoutHandle=Vp(ep.bind(null,l,a,bn,du,Hh,n,Jn,Or,Es,Ma,f,2,-0,0),c);break t}ep(l,a,bn,du,Hh,n,Jn,Or,Es,Ma,f,0,-0,0)}}break}while(!0);Ri(t)}function ep(t,n,a,l,c,f,y,E,R,j,F,Z,k,q){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:EE},Xg(n),Z=AE(),Z!==null)){t.cancelPendingCommit=Z(op.bind(null,t,n,f,a,l,c,y,E,R,F,1,k,q)),Ua(t,f,y,!j);return}op(t,n,f,a,l,c,y,E,R)}function B0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!In(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ua(t,n,a,l){n&=~qh,n&=~Or,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Me(c),y=1<<f;l[f]=-1,c&=~y}a!==0&&Bn(t,a,n)}function mu(){return(ne&6)===0?(Ll(0),!1):!0}function Xh(){if(Bt!==null){if(ie===0)var t=Bt.return;else t=Bt,Wi=Cr=null,hh(t),gs=null,wl=0,t=Bt;for(;t!==null;)xg(t.alternate,t),t=t.return;Bt=null}}function Ss(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Xh(),de=t,Bt=a=Zi(t.current,null),Yt=n,ie=0,xn=null,Ma=!1,vs=hi(t,n),kh=!1,Es=Jn=qh=Or=Na=be=0,bn=xl=null,Hh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Me(l),f=1<<c;n|=t[c],l&=~f}return la=n,Lo(),a}function np(t,n){Lt=null,Q.H=eu,n===yl||n===Qo?(n=vm(),ie=3):n===pm?(n=vm(),ie=4):ie=n===Eg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,xn=n,Bt===null&&(be=1,su(t,Yn(n,t.current)))}function ip(){var t=Q.H;return Q.H=eu,t===null?eu:t}function ap(){var t=Q.A;return Q.A=z0,t}function Kh(){be=4,Ma||(Yt&4194048)!==Yt&&$n.current!==null||(vs=!0),(Na&134217727)===0&&(Or&134217727)===0||de===null||Ua(de,Yt,Jn,!1)}function Zh(t,n,a){var l=ne;ne|=2;var c=ip(),f=ap();(de!==t||Yt!==n)&&(du=null,Ss(t,n)),n=!1;var y=be;t:do try{if(ie!==0&&Bt!==null){var E=Bt,R=xn;switch(ie){case 8:Xh(),y=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(n=!0);var j=ie;if(ie=0,xn=null,bs(t,E,R,j),a&&vs){y=0;break t}break;default:j=ie,ie=0,xn=null,bs(t,E,R,j)}}j0(),y=be;break}catch(F){np(t,F)}while(!0);return n&&t.shellSuspendCounter++,Wi=Cr=null,ne=l,Q.H=c,Q.A=f,Bt===null&&(de=null,Yt=0,Lo()),y}function j0(){for(;Bt!==null;)rp(Bt)}function k0(t,n){var a=ne;ne|=2;var l=ip(),c=ap();de!==t||Yt!==n?(du=null,fu=En()+500,Ss(t,n)):vs=hi(t,n);t:do try{if(ie!==0&&Bt!==null){n=Bt;var f=xn;e:switch(ie){case 1:ie=0,xn=null,bs(t,n,f,1);break;case 2:case 9:if(ym(f)){ie=0,xn=null,sp(n);break}n=function(){ie!==2&&ie!==9||de!==t||(ie=7),Ri(t)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:ym(f)?(ie=0,xn=null,sp(n)):(ie=0,xn=null,bs(t,n,f,7));break;case 5:var y=null;switch(Bt.tag){case 26:y=Bt.memoizedState;case 5:case 27:var E=Bt;if(!y||kp(y)){ie=0,xn=null;var R=E.sibling;if(R!==null)Bt=R;else{var j=E.return;j!==null?(Bt=j,gu(j)):Bt=null}break e}}ie=0,xn=null,bs(t,n,f,5);break;case 6:ie=0,xn=null,bs(t,n,f,6);break;case 8:Xh(),be=6;break t;default:throw Error(r(462))}}q0();break}catch(F){np(t,F)}while(!0);return Wi=Cr=null,Q.H=l,Q.A=c,ne=a,Bt!==null?0:(de=null,Yt=0,Lo(),be)}function q0(){for(;Bt!==null&&!nr();)rp(Bt)}function rp(t){var n=Ng(t.alternate,t,la);t.memoizedProps=t.pendingProps,n===null?gu(t):Bt=n}function sp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=wg(a,n,n.pendingProps,n.type,void 0,Yt);break;case 11:n=wg(a,n,n.pendingProps,n.type.render,n.ref,Yt);break;case 5:hh(n);default:xg(a,n),n=Bt=lm(n,la),n=Ng(a,n,la)}t.memoizedProps=t.pendingProps,n===null?gu(t):Bt=n}function bs(t,n,a,l){Wi=Cr=null,hh(n),gs=null,wl=0;var c=n.return;try{if(M0(t,c,n,a,Yt)){be=1,su(t,Yn(a,t.current)),Bt=null;return}}catch(f){if(c!==null)throw Bt=c,f;be=1,su(t,Yn(a,t.current)),Bt=null;return}n.flags&32768?(Jt||l===1?t=!0:vs||(Yt&536870912)!==0?t=!1:(Ma=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),lp(n,t)):gu(n)}function gu(t){var n=t;do{if((n.flags&32768)!==0){lp(n,Ma);return}t=n.return;var a=O0(n.alternate,n,la);if(a!==null){Bt=a;return}if(n=n.sibling,n!==null){Bt=n;return}Bt=n=t}while(n!==null);be===0&&(be=5)}function lp(t,n){do{var a=x0(t.alternate,t);if(a!==null){a.flags&=32767,Bt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Bt=t;return}Bt=t=a}while(t!==null);be=6,Bt=null}function op(t,n,a,l,c,f,y,E,R){t.cancelPendingCommit=null;do pu();while(sn!==0);if((ne&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=jc,sr(t,a,f,y,E,R),t===de&&(Bt=de=null,Yt=0),Ts=n,xa=t,As=a,Qh=f,Fh=c,Jg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,F0(zi,function(){return dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=lt.p,lt.p=2,y=ne,ne|=4;try{U0(t,n,a)}finally{ne=y,lt.p=c,Q.T=l}}sn=1,up(),cp(),hp()}}function up(){if(sn===1){sn=0;var t=xa,n=Ts,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=lt.p;lt.p=2;var c=ne;ne|=4;try{Qg(n,t);var f=uf,y=$d(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Zd(E.ownerDocument.documentElement,E)){if(R!==null&&Uc(E)){var j=R.start,F=R.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var Z=E.ownerDocument||document,k=Z&&Z.defaultView||window;if(k.getSelection){var q=k.getSelection(),Ct=E.textContent.length,Et=Math.min(R.start,Ct),oe=R.end===void 0?Et:Math.min(R.end,Ct);!q.extend&&Et>oe&&(y=oe,oe=Et,Et=y);var z=Kd(E,Et),M=Kd(E,oe);if(z&&M&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var B=Z.createRange();B.setStart(z.node,z.offset),q.removeAllRanges(),Et>oe?(q.addRange(B),q.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),q.addRange(B))}}}}for(Z=[],q=E;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var K=Z[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Du=!!of,uf=of=null}finally{ne=c,lt.p=l,Q.T=a}}t.current=n,sn=2}}function cp(){if(sn===2){sn=0;var t=xa,n=Ts,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=lt.p;lt.p=2;var c=ne;ne|=4;try{kg(t,n.alternate,n)}finally{ne=c,lt.p=l,Q.T=a}}sn=3}}function hp(){if(sn===4||sn===3){sn=0,qr();var t=xa,n=Ts,a=As,l=Jg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?sn=5:(sn=0,Ts=xa=null,fp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Oa=null),ji(a),n=n.stateNode,Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(pe,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=lt.p,lt.p=2,Q.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,lt.p=c}}(As&3)!==0&&pu(),Ri(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Yh?Ul++:(Ul=0,Yh=t):Ul=0,Ll(0)}}function fp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,gl(n)))}function pu(t){return up(),cp(),hp(),dp()}function dp(){if(sn!==5)return!1;var t=xa,n=Qh;Qh=0;var a=ji(As),l=Q.T,c=lt.p;try{lt.p=32>a?32:a,Q.T=null,a=Fh,Fh=null;var f=xa,y=As;if(sn=0,Ts=xa=null,As=0,(ne&6)!==0)throw Error(r(331));var E=ne;if(ne|=4,Zg(f.current),Yg(f,f.current,y,a),ne=E,Ll(0,!1),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(pe,f)}catch{}return!0}finally{lt.p=c,Q.T=l,fp(t,n)}}function mp(t,n,a){n=Yn(a,n),n=Rh(t.stateNode,n,2),t=ba(t,n,2),t!==null&&(we(t,2),Ri(t))}function ce(t,n,a){if(t.tag===3)mp(t,t,a);else for(;n!==null;){if(n.tag===3){mp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Oa===null||!Oa.has(l))){t=Yn(a,t),a=_g(2),l=ba(n,a,2),l!==null&&(vg(a,l,n,t),we(l,2),Ri(l));break}}n=n.return}}function $h(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new P0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(kh=!0,c.add(a),t=H0.bind(null,t,n,a),n.then(t,t))}function H0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,de===t&&(Yt&a)===a&&(be===4||be===3&&(Yt&62914560)===Yt&&300>En()-Gh?(ne&2)===0&&Ss(t,0):qh|=a,Es===Yt&&(Es=0)),Ri(t)}function gp(t,n){n===0&&(n=rr()),t=rs(t,n),t!==null&&(we(t,n),Ri(t))}function G0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),gp(t,a)}function Q0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),gp(t,a)}function F0(t,n){return oi(t,n)}var yu=null,Rs=null,Jh=!1,_u=!1,Wh=!1,xr=0;function Ri(t){t!==Rs&&t.next===null&&(Rs===null?yu=Rs=t:Rs=Rs.next=t),_u=!0,Jh||(Jh=!0,X0())}function Ll(t,n){if(!Wh&&_u){Wh=!0;do for(var a=!1,l=yu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Me(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,vp(l,f))}else f=Yt,f=ci(l,l===de?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||hi(l,f)||(a=!0,vp(l,f));l=l.next}while(a);Wh=!1}}function Y0(){pp()}function pp(){_u=Jh=!1;var t=0;xr!==0&&(nE()&&(t=xr),xr=0);for(var n=En(),a=null,l=yu;l!==null;){var c=l.next,f=yp(l,n);f===0?(l.next=null,a===null?yu=c:a.next=c,c===null&&(Rs=a)):(a=l,(t!==0||(f&3)!==0)&&(_u=!0)),l=c}Ll(t)}function yp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-Me(f),E=1<<y,R=c[y];R===-1?((E&a)===0||(E&l)!==0)&&(c[y]=fi(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=de,a=Yt,a=ci(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ie===2||ie===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ui(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ui(l),ji(a)){case 2:case 8:a=Li;break;case 32:a=zi;break;case 268435456:a=ga;break;default:a=zi}return l=_p.bind(null,t),a=oi(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ui(l),t.callbackPriority=2,t.callbackNode=null,2}function _p(t,n){if(sn!==0&&sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pu()&&t.callbackNode!==a)return null;var l=Yt;return l=ci(t,t===de?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(tp(t,l,n),yp(t,En()),t.callbackNode!=null&&t.callbackNode===a?_p.bind(null,t):null)}function vp(t,n){if(pu())return null;tp(t,n,!0)}function X0(){aE(function(){(ne&6)!==0?oi(ir,Y0):pp()})}function tf(){return xr===0&&(xr=ar()),xr}function Ep(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yr(""+t)}function Tp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function K0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Ep((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?Ep(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Xr("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xr!==0){var R=y?Tp(c,y):new FormData(c);Eh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=y?Tp(c,y):new FormData(c),Eh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var ef=0;ef<Bc.length;ef++){var nf=Bc[ef],Z0=nf.toLowerCase(),$0=nf[0].toUpperCase()+nf.slice(1);ri(Z0,"on"+$0)}ri(tm,"onAnimationEnd"),ri(em,"onAnimationIteration"),ri(nm,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(m0,"onTransitionRun"),ri(g0,"onTransitionStart"),ri(p0,"onTransitionCancel"),ri(im,"onTransitionEnd"),je("onMouseEnter",["mouseout","mouseover"]),je("onMouseLeave",["mouseout","mouseover"]),je("onPointerEnter",["pointerout","pointerover"]),je("onPointerLeave",["pointerout","pointerover"]),ee("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ee("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ee("onBeforeInput",["compositionend","keypress","textInput","paste"]),ee("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ee("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ee("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zl));function Ap(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){ru(F)}c.currentTarget=null,f=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){ru(F)}c.currentTarget=null,f=R}}}}function jt(t,n){var a=n[S];a===void 0&&(a=n[S]=new Set);var l=t+"__bubble";a.has(l)||(Sp(n,t,2,!1),a.add(l))}function af(t,n,a){var l=0;n&&(l|=4),Sp(a,t,l,n)}var vu="_reactListening"+Math.random().toString(36).slice(2);function rf(t){if(!t[vu]){t[vu]=!0,fe.forEach(function(a){a!=="selectionchange"&&(J0.has(a)||af(a,!1,t),af(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[vu]||(n[vu]=!0,af("selectionchange",!1,n))}}function Sp(t,n,a,l){switch(Yp(n)){case 2:var c=RE;break;case 8:c=wE;break;default:c=vf}a=c.bind(null,n,a,t),c=void 0,!Qn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function sf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ut(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=f=y;continue t}E=E.parentNode}}l=l.return}To(function(){var j=f,F=Gn(a),Z=[];t:{var k=am.get(t);if(k!==void 0){var q=Xr,Ct=t;switch(t){case"keypress":if(pi(a)===0)break t;case"keydown":case"keyup":q=ts;break;case"focusin":Ct="focus",q=$r;break;case"focusout":Ct="blur",q=$r;break;case"beforeblur":case"afterblur":q=$r;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Vo;break;case tm:case em:case nm:q=Jr;break;case im:q=Mo;break;case"scroll":case"scrollend":q=Ao;break;case"wheel":q=es;break;case"copy":case"cut":case"paste":q=Wr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ll;break;case"toggle":case"beforetoggle":q=Oo}var Et=(n&4)!==0,oe=!Et&&(t==="scroll"||t==="scrollend"),z=Et?k!==null?k+"Capture":null:k;Et=[];for(var M=j,B;M!==null;){var K=M;if(B=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||B===null||z===null||(K=dr(M,z),K!=null&&Et.push(Pl(M,K,B))),oe)break;M=M.return}0<Et.length&&(k=new q(k,Ct,null,a,F),Z.push({event:k,listeners:Et}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",k&&a!==Gi&&(Ct=a.relatedTarget||a.fromElement)&&(ut(Ct)||Ct[Ne]))break t;if((q||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,q?(Ct=a.relatedTarget||a.toElement,q=j,Ct=Ct?ut(Ct):null,Ct!==null&&(oe=h(Ct),Et=Ct.tag,Ct!==oe||Et!==5&&Et!==27&&Et!==6)&&(Ct=null)):(q=null,Ct=j),q!==Ct)){if(Et=Fn,K="onMouseLeave",z="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Et=ll,K="onPointerLeave",z="onPointerEnter",M="pointer"),oe=q==null?k:St(q),B=Ct==null?k:St(Ct),k=new Et(K,M+"leave",q,a,F),k.target=oe,k.relatedTarget=B,K=null,ut(F)===j&&(Et=new Et(z,M+"enter",Ct,a,F),Et.target=B,Et.relatedTarget=oe,K=Et),oe=K,q&&Ct)e:{for(Et=q,z=Ct,M=0,B=Et;B;B=ws(B))M++;for(B=0,K=z;K;K=ws(K))B++;for(;0<M-B;)Et=ws(Et),M--;for(;0<B-M;)z=ws(z),B--;for(;M--;){if(Et===z||z!==null&&Et===z.alternate)break e;Et=ws(Et),z=ws(z)}Et=null}else Et=null;q!==null&&bp(Z,k,q,Et,!1),Ct!==null&&oe!==null&&bp(Z,oe,Ct,Et,!0)}}t:{if(k=j?St(j):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var ft=Hd;else if(He(k))if(Gd)ft=h0;else{ft=u0;var Pt=o0}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?j&&tl(j.elementType)&&(ft=Hd):ft=c0;if(ft&&(ft=ft(t,j))){Ki(Z,ft,a,F);break t}Pt&&Pt(t,k,j),t==="focusout"&&j&&k.type==="number"&&j.memoizedProps.value!=null&&va(k,"number",k.value)}switch(Pt=j?St(j):window,t){case"focusin":(He(Pt)||Pt.contentEditable==="true")&&(ns=Pt,Lc=j,cl=null);break;case"focusout":cl=Lc=ns=null;break;case"mousedown":zc=!0;break;case"contextmenu":case"mouseup":case"dragend":zc=!1,Jd(Z,a,F);break;case"selectionchange":if(d0)break;case"keydown":case"keyup":Jd(Z,a,F)}var gt;if(vi)t:{switch(t){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Qt?G(t,a)&&(Tt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(g&&a.locale!=="ko"&&(Qt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Qt&&(gt=nl()):(gi=F,Ea="value"in gi?gi.value:gi.textContent,Qt=!0)),Pt=Eu(j,Tt),0<Pt.length&&(Tt=new rl(Tt,t,null,a,F),Z.push({event:Tt,listeners:Pt}),gt?Tt.data=gt:(gt=st(a),gt!==null&&(Tt.data=gt)))),(gt=m?qe(t,a):Ft(t,a))&&(Tt=Eu(j,"onBeforeInput"),0<Tt.length&&(Pt=new rl("onBeforeInput","beforeinput",null,a,F),Z.push({event:Pt,listeners:Tt}),Pt.data=gt)),K0(Z,t,j,a,F)}Ap(Z,n)})}function Pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Eu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=dr(t,a),c!=null&&l.unshift(Pl(t,c,f)),c=dr(t,n),c!=null&&l.push(Pl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bp(t,n,a,l,c){for(var f=n._reactName,y=[];a!==null&&a!==l;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||j===null||(R=j,c?(j=dr(a,f),j!=null&&y.unshift(Pl(a,j,R))):c||(j=dr(a,f),j!=null&&y.push(Pl(a,j,R)))),a=a.return}y.length!==0&&t.push({event:n,listeners:y})}var W0=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Rp(t){return(typeof t=="string"?t:""+t).replace(W0,`
`).replace(tE,"")}function wp(t,n){return n=Rp(n),Rp(t)===n}function Tu(){}function le(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Hn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Hn(t,""+l);break;case"className":kn(t,"class",l);break;case"tabIndex":kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(t,a,l);break;case"style":Ws(t,l,f);break;case"data":if(n!=="object"){kn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&le(t,n,"name",c.name,c,null),le(t,n,"formEncType",c.formEncType,c,null),le(t,n,"formMethod",c.formMethod,c,null),le(t,n,"formTarget",c.formTarget,c,null)):(le(t,n,"encType",c.encType,c,null),le(t,n,"method",c.method,c,null),le(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Yr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":jt("beforetoggle",t),jt("toggle",t),nn(t,"popover",l);break;case"xlinkActuate":ke(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nn(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vc.get(a)||a,nn(t,a,l))}}function lf(t,n,a,l,c,f){switch(a){case"style":Ws(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Hn(t,l):(typeof l=="number"||typeof l=="bigint")&&Hn(t,""+l);break;case"onScroll":l!=null&&jt("scroll",t);break;case"onScrollEnd":l!=null&&jt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ue.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[he]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):nn(t,a,l)}}}function ln(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",t),jt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var y=a[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:le(t,n,f,y,a,null)}}c&&le(t,n,"srcSet",a.srcSet,a,null),l&&le(t,n,"src",a.src,a,null);return;case"input":jt("invalid",t);var E=f=y=c=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":y=F;break;case"checked":R=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:le(t,n,l,F,a,null)}}cr(t,f,E,R,j,y,c,!1),Fr(t);return;case"select":jt("invalid",t),l=y=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:le(t,n,c,E,a,null)}n=f,a=y,t.multiple=!!l,n!=null?Hi(t,!!l,n,!1):a!=null&&Hi(t,!!l,a,!0);return;case"textarea":jt("invalid",t),f=c=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:le(t,n,y,E,a,null)}hr(t,l,c,f),Fr(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(t,n,R,l,a,null)}return;case"dialog":jt("beforetoggle",t),jt("toggle",t),jt("cancel",t),jt("close",t);break;case"iframe":case"object":jt("load",t);break;case"video":case"audio":for(l=0;l<zl.length;l++)jt(zl[l],t);break;case"image":jt("error",t),jt("load",t);break;case"details":jt("toggle",t);break;case"embed":case"source":case"link":jt("error",t),jt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:le(t,n,j,l,a,null)}return;default:if(tl(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&lf(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&le(t,n,E,l,a,null))}function eE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,R=null,j=null,F=null;for(q in a){var Z=a[q];if(a.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Z;default:l.hasOwnProperty(q)||le(t,n,q,null,l,Z)}}for(var k in l){var q=l[k];if(Z=a[k],l.hasOwnProperty(k)&&(q!=null||Z!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==Z&&le(t,n,k,q,l,Z)}}Vn(t,y,E,R,j,F,f,c);return;case"select":q=y=E=k=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||le(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==R&&le(t,n,c,f,l,R)}n=E,a=y,l=q,k!=null?Hi(t,!!a,k,!1):!!l!=!!a&&(n!=null?Hi(t,!!a,n,!0):Hi(t,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:le(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=a[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&le(t,n,y,c,l,f)}re(t,k,q);return;case"option":for(var Ct in a)if(k=a[Ct],a.hasOwnProperty(Ct)&&k!=null&&!l.hasOwnProperty(Ct))switch(Ct){case"selected":t.selected=!1;break;default:le(t,n,Ct,null,l,k)}for(R in l)if(k=l[R],q=a[R],l.hasOwnProperty(R)&&k!==q&&(k!=null||q!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:le(t,n,R,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in a)k=a[Et],a.hasOwnProperty(Et)&&k!=null&&!l.hasOwnProperty(Et)&&le(t,n,Et,null,l,k);for(j in l)if(k=l[j],q=a[j],l.hasOwnProperty(j)&&k!==q&&(k!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:le(t,n,j,k,l,q)}return;default:if(tl(n)){for(var oe in a)k=a[oe],a.hasOwnProperty(oe)&&k!==void 0&&!l.hasOwnProperty(oe)&&lf(t,n,oe,void 0,l,k);for(F in l)k=l[F],q=a[F],!l.hasOwnProperty(F)||k===q||k===void 0&&q===void 0||lf(t,n,F,k,l,q);return}}for(var z in a)k=a[z],a.hasOwnProperty(z)&&k!=null&&!l.hasOwnProperty(z)&&le(t,n,z,null,l,k);for(Z in l)k=l[Z],q=a[Z],!l.hasOwnProperty(Z)||k===q||k==null&&q==null||le(t,n,Z,k,l,q)}var of=null,uf=null;function Au(t){return t.nodeType===9?t:t.ownerDocument}function Cp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function cf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hf=null;function nE(){var t=window.event;return t&&t.type==="popstate"?t===hf?!1:(hf=t,!0):(hf=null,!1)}var Vp=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,aE=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(t){return Ip.resolve(null).then(t).catch(rE)}:Vp;function rE(t){setTimeout(function(){throw t})}function La(t){return t==="head"}function Mp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var y=t.ownerDocument;if(a&1&&Bl(y.documentElement),a&2&&Bl(y.body),a&4)for(a=y.head,Bl(a),y=a.firstChild;y;){var E=y.nextSibling,R=y.nodeName;y[et]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}if(c===0){t.removeChild(f),Yl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Yl(n)}function ff(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ff(a),nt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[et])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function lE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=li(t.nextSibling),t===null))return null;return t}function df(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function oE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function li(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var mf=null;function Np(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Op(t,n,a){switch(n=Au(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Bl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);nt(t)}var Wn=new Map,xp=new Set;function Su(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oa=lt.d;lt.d={f:uE,r:cE,D:hE,C:fE,L:dE,m:mE,X:pE,S:gE,M:yE};function uE(){var t=oa.f(),n=mu();return t||n}function cE(t){var n=wt(t);n!==null&&n.tag===5&&n.type==="form"?tg(n):oa.r(t)}var Cs=typeof document>"u"?null:document;function Up(t,n,a){var l=Cs;if(l&&typeof n=="string"&&n){var c=Oe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),xp.has(c)||(xp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ln(n,"link",t),Mt(n),l.head.appendChild(n)))}}function hE(t){oa.D(t),Up("dns-prefetch",t,null)}function fE(t,n){oa.C(t,n),Up("preconnect",t,n)}function dE(t,n,a){oa.L(t,n,a);var l=Cs;if(l&&t&&n){var c='link[rel="preload"][as="'+Oe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Oe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Oe(a.imageSizes)+'"]')):c+='[href="'+Oe(t)+'"]';var f=c;switch(n){case"style":f=Ds(t);break;case"script":f=Vs(t)}Wn.has(f)||(t=A({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(jl(f))||n==="script"&&l.querySelector(kl(f))||(n=l.createElement("link"),ln(n,"link",t),Mt(n),l.head.appendChild(n)))}}function mE(t,n){oa.m(t,n);var a=Cs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Oe(l)+'"][href="'+Oe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Vs(t)}if(!Wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(f)))return}l=a.createElement("link"),ln(l,"link",t),Mt(l),a.head.appendChild(l)}}}function gE(t,n,a){oa.S(t,n,a);var l=Cs;if(l&&t){var c=Ut(l).hoistableStyles,f=Ds(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(jl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Wn.get(f))&&gf(t,a);var R=y=l.createElement("link");Mt(R),ln(R,"link",t),R._p=new Promise(function(j,F){R.onload=j,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,bu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function pE(t,n){oa.X(t,n);var a=Cs;if(a&&t){var l=Ut(a).hoistableScripts,c=Vs(t),f=l.get(c);f||(f=a.querySelector(kl(c)),f||(t=A({src:t,async:!0},n),(n=Wn.get(c))&&pf(t,n),f=a.createElement("script"),Mt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yE(t,n){oa.M(t,n);var a=Cs;if(a&&t){var l=Ut(a).hoistableScripts,c=Vs(t),f=l.get(c);f||(f=a.querySelector(kl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Wn.get(c))&&pf(t,n),f=a.createElement("script"),Mt(f),ln(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Lp(t,n,a,l){var c=(c=Rt.current)?Su(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ds(a.href),a=Ut(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ds(a.href);var f=Ut(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(jl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(t,a),f||_E(c,t,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Vs(a),a=Ut(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ds(t){return'href="'+Oe(t)+'"'}function jl(t){return'link[rel="stylesheet"]['+t+"]"}function zp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function _E(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ln(n,"link",a),Mt(n),t.head.appendChild(n))}function Vs(t){return'[src="'+Oe(t)+'"]'}function kl(t){return"script[async]"+t}function Pp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Oe(a.href)+'"]');if(l)return n.instance=l,Mt(l),l;var c=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Mt(l),ln(l,"style",c),bu(l,a.precedence,t),n.instance=l;case"stylesheet":c=Ds(a.href);var f=t.querySelector(jl(c));if(f)return n.state.loading|=4,n.instance=f,Mt(f),f;l=zp(a),(c=Wn.get(c))&&gf(l,c),f=(t.ownerDocument||t).createElement("link"),Mt(f);var y=f;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ln(f,"link",l),n.state.loading|=4,bu(f,a.precedence,t),n.instance=f;case"script":return f=Vs(a.src),(c=t.querySelector(kl(f)))?(n.instance=c,Mt(c),c):(l=a,(c=Wn.get(f))&&(l=A({},a),pf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Mt(c),ln(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bu(l,a.precedence,t));return n.instance}function bu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function gf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function pf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ru=null;function Bp(t,n,a){if(Ru===null){var l=new Map,c=Ru=new Map;c.set(a,l)}else c=Ru,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[et]||f[Ae]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function jp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function vE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ql=null;function EE(){}function TE(t,n,a){if(ql===null)throw Error(r(475));var l=ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ds(a.href),f=t.querySelector(jl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=wu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,Mt(f);return}f=t.ownerDocument||t,a=zp(a),(c=Wn.get(c))&&gf(a,c),f=f.createElement("link"),Mt(f);var y=f;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),ln(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=wu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function AE(){if(ql===null)throw Error(r(475));var t=ql;return t.stylesheets&&t.count===0&&yf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cu=null;function yf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cu=new Map,n.forEach(SE,t),Cu=null,wu.call(t))}function SE(t,n){if(!(n.state.loading&4)){var a=Cu.get(t);if(a)var l=a.get(null);else{a=new Map,Cu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=a.get(y)||l,f===l&&a.set(null,c),a.set(y,c),this.count++,l=wu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Hl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function bE(t,n,a,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function qp(t,n,a,l,c,f,y,E,R,j,F,Z){return t=new bE(t,n,a,y,E,R,j,Z),n=1,f===!0&&(n|=24),f=Mn(3,null,null,n),t.current=f,f.stateNode=t,n=$c(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},eh(f),t}function Hp(t){return t?(t=ss,t):ss}function Gp(t,n,a,l,c,f){c=Hp(c),l.context===null?l.context=c:l.pendingContext=c,l=Sa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ba(t,l,n),a!==null&&(Ln(a,t,n),vl(a,t,n))}function Qp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function _f(t,n){Qp(t,n),(t=t.alternate)&&Qp(t,n)}function Fp(t){if(t.tag===13){var n=rs(t,67108864);n!==null&&Ln(n,t,67108864),_f(t,67108864)}}var Du=!0;function RE(t,n,a,l){var c=Q.T;Q.T=null;var f=lt.p;try{lt.p=2,vf(t,n,a,l)}finally{lt.p=f,Q.T=c}}function wE(t,n,a,l){var c=Q.T;Q.T=null;var f=lt.p;try{lt.p=8,vf(t,n,a,l)}finally{lt.p=f,Q.T=c}}function vf(t,n,a,l){if(Du){var c=Ef(l);if(c===null)sf(t,n,l,Vu,a),Xp(t,l);else if(DE(c,t,n,a,l))l.stopPropagation();else if(Xp(t,l),n&4&&-1<CE.indexOf(t)){for(;c!==null;){var f=wt(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Cn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Me(y);E.entanglements[1]|=R,y&=~R}Ri(f),(ne&6)===0&&(fu=En()+500,Ll(0))}}break;case 13:E=rs(f,2),E!==null&&Ln(E,f,2),mu(),_f(f,2)}if(f=Ef(l),f===null&&sf(t,n,l,Vu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else sf(t,n,l,null,a)}}function Ef(t){return t=Gn(t),Tf(t)}var Vu=null;function Tf(t){if(Vu=null,t=ut(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Vu=t,null}function Yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ma()){case ir:return 2;case Li:return 8;case zi:case Ks:return 32;case ga:return 268435456;default:return 32}default:return 32}}var Af=!1,za=null,Pa=null,Ba=null,Gl=new Map,Ql=new Map,ja=[],CE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Xp(t,n){switch(t){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Fl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=wt(n),n!==null&&Fp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function DE(t,n,a,l,c){switch(n){case"focusin":return za=Fl(za,t,n,a,l,c),!0;case"dragenter":return Pa=Fl(Pa,t,n,a,l,c),!0;case"mouseover":return Ba=Fl(Ba,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return Gl.set(f,Fl(Gl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Ql.set(f,Fl(Ql.get(f)||null,t,n,a,l,c)),!0}return!1}function Kp(t){var n=ut(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ya(t.priority,function(){if(a.tag===13){var l=Un();l=di(l);var c=rs(a,l);c!==null&&Ln(c,a,l),_f(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Iu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ef(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Gi=l,a.target.dispatchEvent(l),Gi=null}else return n=wt(a),n!==null&&Fp(n),t.blockedOn=a,!1;n.shift()}return!0}function Zp(t,n,a){Iu(t)&&a.delete(n)}function VE(){Af=!1,za!==null&&Iu(za)&&(za=null),Pa!==null&&Iu(Pa)&&(Pa=null),Ba!==null&&Iu(Ba)&&(Ba=null),Gl.forEach(Zp),Ql.forEach(Zp)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Af||(Af=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,VE)))}var Nu=null;function $p(t){Nu!==t&&(Nu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Nu===t&&(Nu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Tf(l||a)===null)continue;break}var f=wt(a);f!==null&&(t.splice(n,3),n-=3,Eh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Yl(t){function n(R){return Mu(R,t)}za!==null&&Mu(za,t),Pa!==null&&Mu(Pa,t),Ba!==null&&Mu(Ba,t),Gl.forEach(n),Ql.forEach(n);for(var a=0;a<ja.length;a++){var l=ja[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ja.length&&(a=ja[0],a.blockedOn===null);)Kp(a),a.blockedOn===null&&ja.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],y=c[he]||null;if(typeof f=="function")y||$p(a);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(Tf(c)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),$p(a)}}}function Sf(t){this._internalRoot=t}Ou.prototype.render=Sf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Un();Gp(a,l,t,n,null,null)},Ou.prototype.unmount=Sf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Gp(t.current,2,null,t,null,null),mu(),n[Ne]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var n=Tn();t={blockedOn:null,target:t,priority:n};for(var a=0;a<ja.length&&n!==0&&n<ja[a].priority;a++);ja.splice(a,0,t),a===0&&Kp(t)}};var Jp=e.version;if(Jp!=="19.1.1")throw Error(r(527,Jp,"19.1.1"));lt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var IE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xu.isDisabled&&xu.supportsFiber)try{pe=xu.inject(IE),Zt=xu}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=mg,f=gg,y=pg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=qp(t,1,!1,null,null,a,l,c,f,y,E,null),t[Ne]=n.current,rf(t),new Sf(n)},Kl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=mg,y=gg,E=pg,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=qp(t,1,!0,n,a??null,l,c,f,y,E,R,j),n.context=Hp(null),a=n.current,l=Un(),l=di(l),c=Sa(l),c.callback=null,ba(a,c,l),a=l,n.current.lanes=a,we(n,a),Ri(n),t[Ne]=n.current,rf(t),new Ou(n)},Kl.version="19.1.1",Kl}var oy;function jE(){if(oy)return wf.exports;oy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),wf.exports=BE(),wf.exports}var kE=jE();const qE=()=>{};var uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},HE=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],p=s[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(v>>10)),e[r++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},E_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,p=d?s[o+1]:0,v=o+2<s.length,_=v?s[o+2]:0,A=h>>2,O=(h&3)<<4|p>>4;let N=(p&15)<<2|_>>6,Y=_&63;v||(Y=64,d||(N=64)),r.push(i[A],i[O],i[N],i[Y])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(v_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):HE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const O=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||p==null||_==null||O==null)throw new GE;const N=h<<2|p>>4;if(r.push(N),_!==64){const Y=p<<4&240|_>>2;if(r.push(Y),O!==64){const tt=_<<6&192|O;r.push(tt)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class GE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QE=function(s){const e=v_(s);return E_.encodeByteArray(e,!0)},Yu=function(s){return QE(s).replace(/\./g,"")},FE=function(s){try{return E_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=()=>YE().__FIREBASE_DEFAULTS__,KE=()=>{if(typeof process>"u"||typeof uy>"u")return;const s=uy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},ZE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&FE(s[1]);return e&&JSON.parse(e)},cd=()=>{try{return qE()||XE()||KE()||ZE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},$E=s=>cd()?.emulatorHosts?.[s],JE=s=>{const e=$E(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},T_=()=>cd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yu(JSON.stringify(i)),Yu(JSON.stringify(d)),""].join(".")}const to={};function nT(){const s={prod:[],emulator:[]};for(const e of Object.keys(to))to[e]?s.emulator.push(e):s.prod.push(e);return s}function iT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let cy=!1;function aT(s,e){if(typeof window>"u"||typeof document>"u"||!hd(window.location.host)||to[s]===e||to[s]||cy)return;to[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=nT().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,Y){N.setAttribute("width","24"),N.setAttribute("id",Y),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{cy=!0,d()},N}function A(N,Y){N.setAttribute("id",Y),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function O(){const N=iT(r),Y=i("text"),tt=document.getElementById(Y)||document.createElement("span"),ct=i("learnmore"),at=document.getElementById(ct)||document.createElement("a"),Nt=i("preprendIcon"),At=document.getElementById(Nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const pt=N.element;p(pt),A(at,ct);const zt=_();v(At,Nt),pt.append(At,tt,at,zt),document.body.appendChild(pt)}h?(tt.innerText="Preview backend disconnected.",At.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(At.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",O):O()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sT(){const s=cd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lT(){return!sT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oT(){try{return typeof indexedDB=="object"}catch{return!1}}function uT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="FirebaseError";class Gs extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=cT,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A_.prototype.create)}}class A_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?hT(h,r):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Gs(o,p,r)}}function hT(s,e){return s.replace(fT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const fT=/\{\$([^}]+)}/g;function Xu(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(hy(h)&&hy(d)){if(!Xu(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function hy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(s){return s&&s._delegate?s._delegate:s}class ro{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new WE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gT(e))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=Ur){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ur){return this.instances.has(e)}getOptions(e=Ur){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(h);r===p&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ur){return this.component?this.component.multipleInstances?e:Ur:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mT(s){return s===Ur?void 0:s}function gT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new dT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Kt||(Kt={}));const yT={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},_T=Kt.INFO,vT={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},ET=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=vT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S_{constructor(e){this.name=e,this._logLevel=_T,this._logHandler=ET,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const TT=(s,e)=>e.some(i=>s instanceof i);let fy,dy;function AT(){return fy||(fy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ST(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b_=new WeakMap,Bf=new WeakMap,R_=new WeakMap,If=new WeakMap,fd=new WeakMap;function bT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ha(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&b_.set(i,s)}).catch(()=>{}),fd.set(e,s),e}function RT(s){if(Bf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Bf.set(s,e)}let jf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Bf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||R_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ha(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function wT(s){jf=s(jf)}function CT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(Mf(this),e,...i);return R_.set(r,e.sort?e.sort():[e]),Ha(r)}:ST().includes(s)?function(...e){return s.apply(Mf(this),e),Ha(b_.get(this))}:function(...e){return Ha(s.apply(Mf(this),e))}}function DT(s){return typeof s=="function"?CT(s):(s instanceof IDBTransaction&&RT(s),TT(s,AT())?new Proxy(s,jf):s)}function Ha(s){if(s instanceof IDBRequest)return bT(s);if(If.has(s))return If.get(s);const e=DT(s);return e!==s&&(If.set(s,e),fd.set(e,s)),e}const Mf=s=>fd.get(s);function VT(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),p=Ha(d);return r&&d.addEventListener("upgradeneeded",v=>{r(Ha(d.result),v.oldVersion,v.newVersion,Ha(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const IT=["get","getKey","getAll","getAllKeys","count"],MT=["put","add","delete","clear"],Nf=new Map;function my(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Nf.get(e))return Nf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=MT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||IT.includes(i)))return;const h=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&v.done]))[0]};return Nf.set(e,h),h}wT(s=>({...s,get:(e,i,r)=>my(e,i)||s.get(e,i,r),has:(e,i)=>!!my(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(OT(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function OT(s){return s.getComponent()?.type==="VERSION"}const kf="@firebase/app",gy="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new S_("@firebase/app"),xT="@firebase/app-compat",UT="@firebase/analytics-compat",LT="@firebase/analytics",zT="@firebase/app-check-compat",PT="@firebase/app-check",BT="@firebase/auth",jT="@firebase/auth-compat",kT="@firebase/database",qT="@firebase/data-connect",HT="@firebase/database-compat",GT="@firebase/functions",QT="@firebase/functions-compat",FT="@firebase/installations",YT="@firebase/installations-compat",XT="@firebase/messaging",KT="@firebase/messaging-compat",ZT="@firebase/performance",$T="@firebase/performance-compat",JT="@firebase/remote-config",WT="@firebase/remote-config-compat",t1="@firebase/storage",e1="@firebase/storage-compat",n1="@firebase/firestore",i1="@firebase/ai",a1="@firebase/firestore-compat",r1="firebase",s1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qf="[DEFAULT]",l1={[kf]:"fire-core",[xT]:"fire-core-compat",[LT]:"fire-analytics",[UT]:"fire-analytics-compat",[PT]:"fire-app-check",[zT]:"fire-app-check-compat",[BT]:"fire-auth",[jT]:"fire-auth-compat",[kT]:"fire-rtdb",[qT]:"fire-data-connect",[HT]:"fire-rtdb-compat",[GT]:"fire-fn",[QT]:"fire-fn-compat",[FT]:"fire-iid",[YT]:"fire-iid-compat",[XT]:"fire-fcm",[KT]:"fire-fcm-compat",[ZT]:"fire-perf",[$T]:"fire-perf-compat",[JT]:"fire-rc",[WT]:"fire-rc-compat",[t1]:"fire-gcs",[e1]:"fire-gcs-compat",[n1]:"fire-fst",[a1]:"fire-fst-compat",[i1]:"fire-vertex","fire-js":"fire-js",[r1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,o1=new Map,Hf=new Map;function py(s,e){try{s.container.addComponent(e)}catch(i){ha.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Zu(s){const e=s.name;if(Hf.has(e))return ha.debug(`There were multiple attempts to register component ${e}.`),!1;Hf.set(e,s);for(const i of Ku.values())py(i,s);for(const i of o1.values())py(i,s);return!0}function u1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function c1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ga=new A_("app","Firebase",h1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ga.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=s1;function w_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:qf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Ga.create("bad-app-name",{appName:String(o)});if(i||(i=T_()),!i)throw Ga.create("no-options");const h=Ku.get(o);if(h){if(Xu(i,h.options)&&Xu(r,h.config))return h;throw Ga.create("duplicate-app",{appName:o})}const d=new pT(o);for(const v of Hf.values())d.addComponent(v);const p=new f1(i,r,d);return Ku.set(o,p),p}function m1(s=qf){const e=Ku.get(s);if(!e&&s===qf&&T_())return w_();if(!e)throw Ga.create("no-app",{appName:s});return e}function xs(s,e,i){let r=l1[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ha.warn(d.join(" "));return}Zu(new ro(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="firebase-heartbeat-database",p1=1,so="firebase-heartbeat-store";let Of=null;function C_(){return Of||(Of=VT(g1,p1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ga.create("idb-open",{originalErrorMessage:s.message})})),Of}async function y1(s){try{const i=(await C_()).transaction(so),r=await i.objectStore(so).get(D_(s));return await i.done,r}catch(e){if(e instanceof Gs)ha.warn(e.message);else{const i=Ga.create("idb-get",{originalErrorMessage:e?.message});ha.warn(i.message)}}}async function yy(s,e){try{const r=(await C_()).transaction(so,"readwrite");await r.objectStore(so).put(e,D_(s)),await r.done}catch(i){if(i instanceof Gs)ha.warn(i.message);else{const r=Ga.create("idb-set",{originalErrorMessage:i?.message});ha.warn(r.message)}}}function D_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=1024,v1=30;class E1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new A1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_y();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>v1){const o=S1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ha.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_y(),{heartbeatsToSend:i,unsentEntries:r}=T1(this._heartbeatsCache.heartbeats),o=Yu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ha.warn(e),""}}}function _y(){return new Date().toISOString().substring(0,10)}function T1(s,e=_1){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),vy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),vy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class A1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oT()?uT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await y1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function vy(s){return Yu(JSON.stringify({version:2,heartbeats:s})).length}function S1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(s){Zu(new ro("platform-logger",e=>new NT(e),"PRIVATE")),Zu(new ro("heartbeat",e=>new E1(e),"PRIVATE")),xs(kf,gy,s),xs(kf,gy,"esm2020"),xs("fire-js","")}b1("");var R1="firebase",w1="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xs(R1,w1,"app");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qa,V_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,b){function w(){}w.prototype=b.prototype,U.D=b.prototype,U.prototype=new w,U.prototype.constructor=U,U.C=function(D,I,L){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return b.prototype[I].apply(D,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,i),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,b,w){w||(w=0);var D=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)D[I]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(I=0;16>I;++I)D[I]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=U.g[0],w=U.g[1],I=U.g[2];var L=U.g[3],C=b+(L^w&(I^L))+D[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=L+(I^b&(w^I))+D[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(w^L&(b^w))+D[2]+606105819&4294967295,I=L+(C<<17&4294967295|C>>>15),C=w+(b^I&(L^b))+D[3]+3250441966&4294967295,w=I+(C<<22&4294967295|C>>>10),C=b+(L^w&(I^L))+D[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(I^b&(w^I))+D[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(w^L&(b^w))+D[6]+2821735955&4294967295,I=L+(C<<17&4294967295|C>>>15),C=w+(b^I&(L^b))+D[7]+4249261313&4294967295,w=I+(C<<22&4294967295|C>>>10),C=b+(L^w&(I^L))+D[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(I^b&(w^I))+D[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(w^L&(b^w))+D[10]+4294925233&4294967295,I=L+(C<<17&4294967295|C>>>15),C=w+(b^I&(L^b))+D[11]+2304563134&4294967295,w=I+(C<<22&4294967295|C>>>10),C=b+(L^w&(I^L))+D[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(I^b&(w^I))+D[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=I+(w^L&(b^w))+D[14]+2792965006&4294967295,I=L+(C<<17&4294967295|C>>>15),C=w+(b^I&(L^b))+D[15]+1236535329&4294967295,w=I+(C<<22&4294967295|C>>>10),C=b+(I^L&(w^I))+D[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^I&(b^w))+D[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^w&(L^b))+D[11]+643717713&4294967295,I=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(I^L))+D[0]+3921069994&4294967295,w=I+(C<<20&4294967295|C>>>12),C=b+(I^L&(w^I))+D[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^I&(b^w))+D[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^w&(L^b))+D[15]+3634488961&4294967295,I=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(I^L))+D[4]+3889429448&4294967295,w=I+(C<<20&4294967295|C>>>12),C=b+(I^L&(w^I))+D[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^I&(b^w))+D[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^w&(L^b))+D[3]+4107603335&4294967295,I=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(I^L))+D[8]+1163531501&4294967295,w=I+(C<<20&4294967295|C>>>12),C=b+(I^L&(w^I))+D[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^I&(b^w))+D[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=I+(b^w&(L^b))+D[7]+1735328473&4294967295,I=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(I^L))+D[12]+2368359562&4294967295,w=I+(C<<20&4294967295|C>>>12),C=b+(w^I^L)+D[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^I)+D[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^w)+D[11]+1839030562&4294967295,I=L+(C<<16&4294967295|C>>>16),C=w+(I^L^b)+D[14]+4259657740&4294967295,w=I+(C<<23&4294967295|C>>>9),C=b+(w^I^L)+D[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^I)+D[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^w)+D[7]+4139469664&4294967295,I=L+(C<<16&4294967295|C>>>16),C=w+(I^L^b)+D[10]+3200236656&4294967295,w=I+(C<<23&4294967295|C>>>9),C=b+(w^I^L)+D[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^I)+D[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^w)+D[3]+3572445317&4294967295,I=L+(C<<16&4294967295|C>>>16),C=w+(I^L^b)+D[6]+76029189&4294967295,w=I+(C<<23&4294967295|C>>>9),C=b+(w^I^L)+D[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^I)+D[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=I+(L^b^w)+D[15]+530742520&4294967295,I=L+(C<<16&4294967295|C>>>16),C=w+(I^L^b)+D[2]+3299628645&4294967295,w=I+(C<<23&4294967295|C>>>9),C=b+(I^(w|~L))+D[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~I))+D[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~w))+D[14]+2878612391&4294967295,I=L+(C<<15&4294967295|C>>>17),C=w+(L^(I|~b))+D[5]+4237533241&4294967295,w=I+(C<<21&4294967295|C>>>11),C=b+(I^(w|~L))+D[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~I))+D[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~w))+D[10]+4293915773&4294967295,I=L+(C<<15&4294967295|C>>>17),C=w+(L^(I|~b))+D[1]+2240044497&4294967295,w=I+(C<<21&4294967295|C>>>11),C=b+(I^(w|~L))+D[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~I))+D[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~w))+D[6]+2734768916&4294967295,I=L+(C<<15&4294967295|C>>>17),C=w+(L^(I|~b))+D[13]+1309151649&4294967295,w=I+(C<<21&4294967295|C>>>11),C=b+(I^(w|~L))+D[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~I))+D[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=I+(b^(L|~w))+D[2]+718787259&4294967295,I=L+(C<<15&4294967295|C>>>17),C=w+(L^(I|~b))+D[9]+3951481745&4294967295,U.g[0]=U.g[0]+b&4294967295,U.g[1]=U.g[1]+(I+(C<<21&4294967295|C>>>11))&4294967295,U.g[2]=U.g[2]+I&4294967295,U.g[3]=U.g[3]+L&4294967295}r.prototype.u=function(U,b){b===void 0&&(b=U.length);for(var w=b-this.blockSize,D=this.B,I=this.h,L=0;L<b;){if(I==0)for(;L<=w;)o(this,U,L),L+=this.blockSize;if(typeof U=="string"){for(;L<b;)if(D[I++]=U.charCodeAt(L++),I==this.blockSize){o(this,D),I=0;break}}else for(;L<b;)if(D[I++]=U[L++],I==this.blockSize){o(this,D),I=0;break}}this.h=I,this.o+=b},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var b=1;b<U.length-8;++b)U[b]=0;var w=8*this.o;for(b=U.length-8;b<U.length;++b)U[b]=w&255,w/=256;for(this.u(U),U=Array(16),b=w=0;4>b;++b)for(var D=0;32>D;D+=8)U[w++]=this.g[b]>>>D&255;return U};function h(U,b){var w=p;return Object.prototype.hasOwnProperty.call(w,U)?w[U]:w[U]=b(U)}function d(U,b){this.h=b;for(var w=[],D=!0,I=U.length-1;0<=I;I--){var L=U[I]|0;D&&L==b||(w[I]=L,D=!1)}this.g=w}var p={};function v(U){return-128<=U&&128>U?h(U,function(b){return new d([b|0],0>b?-1:0)}):new d([U|0],0>U?-1:0)}function _(U){if(isNaN(U)||!isFinite(U))return O;if(0>U)return at(_(-U));for(var b=[],w=1,D=0;U>=w;D++)b[D]=U/w|0,w*=4294967296;return new d(b,0)}function A(U,b){if(U.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(U.charAt(0)=="-")return at(A(U.substring(1),b));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(b,8)),D=O,I=0;I<U.length;I+=8){var L=Math.min(8,U.length-I),C=parseInt(U.substring(I,I+L),b);8>L?(L=_(Math.pow(b,L)),D=D.j(L).add(_(C))):(D=D.j(w),D=D.add(_(C)))}return D}var O=v(0),N=v(1),Y=v(16777216);s=d.prototype,s.m=function(){if(ct(this))return-at(this).m();for(var U=0,b=1,w=0;w<this.g.length;w++){var D=this.i(w);U+=(0<=D?D:4294967296+D)*b,b*=4294967296}return U},s.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(tt(this))return"0";if(ct(this))return"-"+at(this).toString(U);for(var b=_(Math.pow(U,6)),w=this,D="";;){var I=zt(w,b).g;w=Nt(w,I.j(b));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(U);if(w=I,tt(w))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},s.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function tt(U){if(U.h!=0)return!1;for(var b=0;b<U.g.length;b++)if(U.g[b]!=0)return!1;return!0}function ct(U){return U.h==-1}s.l=function(U){return U=Nt(this,U),ct(U)?-1:tt(U)?0:1};function at(U){for(var b=U.g.length,w=[],D=0;D<b;D++)w[D]=~U.g[D];return new d(w,~U.h).add(N)}s.abs=function(){return ct(this)?at(this):this},s.add=function(U){for(var b=Math.max(this.g.length,U.g.length),w=[],D=0,I=0;I<=b;I++){var L=D+(this.i(I)&65535)+(U.i(I)&65535),C=(L>>>16)+(this.i(I)>>>16)+(U.i(I)>>>16);D=C>>>16,L&=65535,C&=65535,w[I]=C<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Nt(U,b){return U.add(at(b))}s.j=function(U){if(tt(this)||tt(U))return O;if(ct(this))return ct(U)?at(this).j(at(U)):at(at(this).j(U));if(ct(U))return at(this.j(at(U)));if(0>this.l(Y)&&0>U.l(Y))return _(this.m()*U.m());for(var b=this.g.length+U.g.length,w=[],D=0;D<2*b;D++)w[D]=0;for(D=0;D<this.g.length;D++)for(var I=0;I<U.g.length;I++){var L=this.i(D)>>>16,C=this.i(D)&65535,Be=U.i(I)>>>16,ge=U.i(I)&65535;w[2*D+2*I]+=C*ge,At(w,2*D+2*I),w[2*D+2*I+1]+=L*ge,At(w,2*D+2*I+1),w[2*D+2*I+1]+=C*Be,At(w,2*D+2*I+1),w[2*D+2*I+2]+=L*Be,At(w,2*D+2*I+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new d(w,0)};function At(U,b){for(;(U[b]&65535)!=U[b];)U[b+1]+=U[b]>>>16,U[b]&=65535,b++}function pt(U,b){this.g=U,this.h=b}function zt(U,b){if(tt(b))throw Error("division by zero");if(tt(U))return new pt(O,O);if(ct(U))return b=zt(at(U),b),new pt(at(b.g),at(b.h));if(ct(b))return b=zt(U,at(b)),new pt(at(b.g),b.h);if(30<U.g.length){if(ct(U)||ct(b))throw Error("slowDivide_ only works with positive integers.");for(var w=N,D=b;0>=D.l(U);)w=_t(w),D=_t(D);var I=Ht(w,1),L=Ht(D,1);for(D=Ht(D,2),w=Ht(w,2);!tt(D);){var C=L.add(D);0>=C.l(U)&&(I=I.add(w),L=C),D=Ht(D,1),w=Ht(w,1)}return b=Nt(U,I.j(b)),new pt(I,b)}for(I=O;0<=U.l(b);){for(w=Math.max(1,Math.floor(U.m()/b.m())),D=Math.ceil(Math.log(w)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=_(w),C=L.j(b);ct(C)||0<C.l(U);)w-=D,L=_(w),C=L.j(b);tt(L)&&(L=N),I=I.add(L),U=Nt(U,C)}return new pt(I,U)}s.A=function(U){return zt(this,U).h},s.and=function(U){for(var b=Math.max(this.g.length,U.g.length),w=[],D=0;D<b;D++)w[D]=this.i(D)&U.i(D);return new d(w,this.h&U.h)},s.or=function(U){for(var b=Math.max(this.g.length,U.g.length),w=[],D=0;D<b;D++)w[D]=this.i(D)|U.i(D);return new d(w,this.h|U.h)},s.xor=function(U){for(var b=Math.max(this.g.length,U.g.length),w=[],D=0;D<b;D++)w[D]=this.i(D)^U.i(D);return new d(w,this.h^U.h)};function _t(U){for(var b=U.g.length+1,w=[],D=0;D<b;D++)w[D]=U.i(D)<<1|U.i(D-1)>>>31;return new d(w,U.h)}function Ht(U,b){var w=b>>5;b%=32;for(var D=U.g.length-w,I=[],L=0;L<D;L++)I[L]=0<b?U.i(L+w)>>>b|U.i(L+w+1)<<32-b:U.i(L+w);return new d(I,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,V_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Qa=d}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I_,Zl,M_,ku,Gf,N_,O_,x_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,g){return u==Array.prototype||u==Object.prototype||(u[m]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in g))break t;g=g[P]}u=u[u.length-1],T=g[u],m=m(T),m!=T&&m!=null&&e(g,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var g=0,T=!1,P={next:function(){if(!T&&g<u.length){var G=g++;return{value:m(G,u[G]),done:!1}}return T=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,g){return u.call.apply(u.bind,arguments)}function O(u,m,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,T),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function N(u,m,g){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,N.apply(null,arguments)}function Y(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function tt(u,m){function g(){}g.prototype=m.prototype,u.aa=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,P,G){for(var st=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)st[Qt-2]=arguments[Qt];return m.prototype[P].apply(T,st)}}function ct(u){const m=u.length;if(0<m){const g=Array(m);for(let T=0;T<m;T++)g[T]=u[T];return g}return[]}function at(u,m){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(v(T)){const P=u.length||0,G=T.length||0;u.length=P+G;for(let st=0;st<G;st++)u[P+st]=T[st]}else u.push(T)}}class Nt{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(u){return/^[\s\xa0]*$/.test(u)}function pt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function zt(u){return zt[" "](u),u}zt[" "]=function(){};var _t=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function Ht(u,m,g){for(const T in u)m.call(g,u[T],T,u)}function U(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function b(u){const m={};for(const g in u)m[g]=u[g];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,m){let g,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(g in T)u[g]=T[g];for(let G=0;G<w.length;G++)g=w[G],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function I(u){var m=1;u=u.split(":");const g=[];for(;0<m&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function L(u){p.setTimeout(()=>{throw u},0)}function C(){var u=Gt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Be{constructor(){this.h=this.g=null}add(m,g){const T=ge.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var ge=new Nt(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,mt=!1,Gt=new Be,V=()=>{const u=p.Promise.resolve(void 0);lt=()=>{u.then(J)}};var J=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(g){L(g)}var m=ge;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}mt=!1};function ot(){this.s=this.s,this.C=this.C}ot.prototype.s=!1,ot.prototype.ma=function(){this.s||(this.s=!0,this.N())},ot.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var yt=(function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};p.addEventListener("test",g,m),p.removeEventListener("test",g,m)}catch{}return u})();function xt(u,m){if(rt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{zt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Rt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&xt.aa.h.call(this)}}tt(xt,rt);var Rt={2:"touch",3:"pen",4:"mouse"};xt.prototype.h=function(){xt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),ae=0;function hn(u,m,g,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=P,this.key=++ae,this.da=this.fa=!1}function ei(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ni(u){this.src=u,this.g={},this.h=0}ni.prototype.add=function(u,m,g,T,P){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var st=oi(u,m,T,P);return-1<st?(m=u[st],g||(m.fa=!1)):(m=new hn(m,this.src,G,!!T,P),m.fa=g,u.push(m)),m};function xi(u,m){var g=m.type;if(g in u.g){var T=u.g[g],P=Array.prototype.indexOf.call(T,m,void 0),G;(G=0<=P)&&Array.prototype.splice.call(T,P,1),G&&(ei(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function oi(u,m,g,T){for(var P=0;P<u.length;++P){var G=u[P];if(!G.da&&G.listener==m&&G.capture==!!g&&G.ha==T)return P}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),nr={};function qr(u,m,g,T,P){if(Array.isArray(m)){for(var G=0;G<m.length;G++)qr(u,m[G],g,T,P);return null}return g=Hr(g),u&&u[Re]?u.K(m,g,_(T)?!!T.capture:!1,P):En(u,m,g,!1,T,P)}function En(u,m,g,T,P,G){if(!m)throw Error("Invalid event type");var st=_(P)?!!P.capture:!!P,Qt=ga(u);if(Qt||(u[Ui]=Qt=new ni(u)),g=Qt.add(m,g,T,st,G),g.proxy)return g;if(T=ma(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)yt||(P=st),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(zi(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ma(){function u(g){return m.call(u.src,u.listener,g)}const m=Ks;return u}function ir(u,m,g,T,P){if(Array.isArray(m))for(var G=0;G<m.length;G++)ir(u,m[G],g,T,P);else T=_(T)?!!T.capture:!!T,g=Hr(g),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],g=oi(G,g,T,P),-1<g&&(ei(G[g]),Array.prototype.splice.call(G,g,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=ga(u))&&(m=u.g[m.toString()],u=-1,m&&(u=oi(m,g,T,P)),(g=-1<u?m[u]:null)&&Li(g))}function Li(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])xi(m.i,u);else{var g=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(g,T,u.capture):m.detachEvent?m.detachEvent(zi(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=ga(m))?(xi(g,u),g.h==0&&(g.src=null,m[Ui]=null)):ei(u)}}}function zi(u){return u in nr?nr[u]:nr[u]="on"+u}function Ks(u,m){if(u.da)u=!0;else{m=new xt(m,this);var g=u.listener,T=u.ha||u.src;u.fa&&Li(u),u=g.call(T,m)}return u}function ga(u){return u=u[Ui],u instanceof ni?u:null}var pa="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hr(u){return typeof u=="function"?u:(u[pa]||(u[pa]=function(m){return u.handleEvent(m)}),u[pa])}function pe(){ot.call(this),this.i=new ni(this),this.M=this,this.F=null}tt(pe,ot),pe.prototype[Re]=!0,pe.prototype.removeEventListener=function(u,m,g,T){ir(this,u,m,g,T)};function Zt(u,m){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new rt(m,u);else if(m instanceof rt)m.target=m.target||u;else{var P=m;m=new rt(T,u),D(m,P)}if(P=!0,g)for(var G=g.length-1;0<=G;G--){var st=m.g=g[G];P=en(st,T,!0,m)&&P}if(st=m.g=u,P=en(st,T,!0,m)&&P,P=en(st,T,!1,m)&&P,g)for(G=0;G<g.length;G++)st=m.g=g[G],P=en(st,T,!1,m)&&P}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var g=u.g[m],T=0;T<g.length;T++)ei(g[T]);delete u.g[m],u.h--}}this.F=null},pe.prototype.K=function(u,m,g,T){return this.i.add(String(u),m,!1,g,T)},pe.prototype.L=function(u,m,g,T){return this.i.add(String(u),m,!0,g,T)};function en(u,m,g,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,G=0;G<m.length;++G){var st=m[G];if(st&&!st.da&&st.capture==g){var Qt=st.listener,qe=st.ha||st.src;st.fa&&xi(u.i,st),P=Qt.call(qe,T)!==!1&&P}}return P&&!T.defaultPrevented}function Me(u,m,g){if(typeof u=="function")g&&(u=N(u,g));else if(u&&typeof u.handleEvent=="function")u=N(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Pi(u){u.g=Me(()=>{u.g=null,u.i&&(u.i=!1,Pi(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Zs extends ot{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Pi(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bi(u){ot.call(this),this.h=u,this.g={}}tt(Bi,ot);var ui=[];function Pn(u){Ht(u.g,function(m,g){this.g.hasOwnProperty(g)&&Li(m)},u),u.g={}}Bi.prototype.N=function(){Bi.aa.N.call(this),Pn(this)},Bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=p.JSON.stringify,ci=p.JSON.parse,hi=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function fi(){}fi.prototype.h=null;function ar(u){return u.h||(u.h=u.i())}function rr(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function we(){rt.call(this,"d")}tt(we,rt);function sr(){rt.call(this,"c")}tt(sr,rt);var Bn={},lr=null;function di(){return lr=lr||new pe}Bn.La="serverreachability";function ji(u){rt.call(this,Bn.La,u)}tt(ji,rt);function Tn(u){const m=di();Zt(m,new ji(m))}Bn.STAT_EVENT="statevent";function ya(u,m){rt.call(this,Bn.STAT_EVENT,u),this.stat=m}tt(ya,rt);function It(u){const m=di();Zt(m,new ya(m,u))}Bn.Ma="timingevent";function Ae(u,m){rt.call(this,Bn.Ma,u),this.size=m}tt(Ae,rt);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function Ne(){this.g=!0}Ne.prototype.xa=function(){this.g=!1};function S(u,m,g,T,P,G){u.info(function(){if(u.g)if(G)for(var st="",Qt=G.split("&"),qe=0;qe<Qt.length;qe++){var Ft=Qt[qe].split("=");if(1<Ft.length){var Ze=Ft[0];Ft=Ft[1];var He=Ze.split("_");st=2<=He.length&&He[1]=="type"?st+(Ze+"="+Ft+"&"):st+(Ze+"=redacted&")}}else st=null;else st=G;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+g+`
`+st})}function x(u,m,g,T,P,G,st){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+g+`
`+G+" "+st})}function H(u,m,g,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+et(u,g)+(T?" "+T:"")})}function X(u,m){u.info(function(){return"TIMEOUT: "+m})}Ne.prototype.info=function(){};function et(u,m){if(!u.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var P=T[1];if(Array.isArray(P)&&!(1>P.length)){var G=P[0];if(G!="noop"&&G!="stop"&&G!="close")for(var st=1;st<P.length;st++)P[st]=""}}}}return Cn(g)}catch{return m}}var nt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ut={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function St(){}tt(St,fi),St.prototype.g=function(){return new XMLHttpRequest},St.prototype.i=function(){return{}},wt=new St;function Ut(u,m,g,T){this.j=u,this.i=m,this.l=g,this.R=T||1,this.U=new Bi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var fe={},ue={};function ee(u,m,g){u.L=1,u.v=hr(Vn(m)),u.m=g,u.P=!0,je(u,null)}function je(u,m){u.F=Date.now(),Ce(u),u.A=Vn(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),el(g.i,"t",T),u.C=0,g=u.j.J,u.h=new Mt,u.g=Mo(u.j,g?m:null,!u.m),0<u.O&&(u.M=new Zs(N(u.Y,u,u.g),u.O)),m=u.U,g=u.g,T=u.ca;var P="readystatechange";Array.isArray(P)||(P&&(ui[0]=P.toString()),P=ui);for(var G=0;G<P.length;G++){var st=qr(g,P[G],T||m.handleEvent,!1,m.h||m);if(!st)break;m.g[st.key]=st}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Tn(),S(u.i,u.u,u.A,u.l,u.R,u.m)}Ut.prototype.ca=function(u){u=u.target;const m=this.M;m&&Fn(u)==3?m.j():this.Y(u)},Ut.prototype.Y=function(u){try{if(u==this.g)t:{const He=Fn(this.g);var m=this.g.Ba();const Ki=this.g.Z();if(!(3>He)&&(He!=3||this.g&&(this.h.h||this.g.oa()||So(this.g)))){this.J||He!=4||m==7||(m==8||0>=Ki?Tn(3):Tn(2)),nn(this);var g=this.g.Z();this.X=g;e:if(jn(this)){var T=So(this.g);u="";var P=T.length,G=Fn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),kn(this);var st="";break e}this.h.i=new p.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(G&&m==P-1)});T.length=0,this.h.g+=u,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=g==200,x(this.i,this.u,this.A,this.l,this.R,He,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Qt,qe=this.g;if((Qt=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(Qt)){var Ft=Qt;break e}}Ft=null}if(g=Ft)H(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,g);else{this.o=!1,this.s=3,It(12),ke(this),kn(this);break t}}if(this.P){g=!0;let an;for(;!this.J&&this.C<st.length;)if(an=Xe(this,st),an==ue){He==4&&(this.s=4,It(14),g=!1),H(this.i,this.l,null,"[Incomplete Response]");break}else if(an==fe){this.s=4,It(15),H(this.i,this.l,st,"[Invalid Chunk]"),g=!1;break}else H(this.i,this.l,an,null),ki(this,an);if(jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),He!=4||st.length!=0||this.h.h||(this.s=1,It(16),g=!1),this.o=this.o&&g,!g)H(this.i,this.l,st,"[Invalid Chunked Response]"),ke(this),kn(this);else if(0<st.length&&!this.W){this.W=!0;var Ze=this.j;Ze.g==this&&Ze.ba&&!Ze.M&&(Ze.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),vr(Ze),Ze.M=!0,It(11))}}else H(this.i,this.l,st,null),ki(this,st);He==4&&ke(this),this.o&&!this.J&&(He==4?Do(this.j,this):(this.o=!1,Ce(this)))}else Mc(this.g),g==400&&0<st.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),ke(this),kn(this)}}}catch{}finally{}};function jn(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Xe(u,m){var g=u.C,T=m.indexOf(`
`,g);return T==-1?ue:(g=Number(m.substring(g,T)),isNaN(g)?fe:(T+=1,T+g>m.length?ue:(m=m.slice(T,T+g),u.C=T+g,m)))}Ut.prototype.cancel=function(){this.J=!0,ke(this)};function Ce(u){u.S=Date.now()+u.I,Dn(u,u.I)}function Dn(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(N(u.ba,u),m)}function nn(u){u.B&&(p.clearTimeout(u.B),u.B=null)}Ut.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(X(this.i,this.A),this.L!=2&&(Tn(),It(17)),ke(this),this.s=2,kn(this)):Dn(this,this.S-u)};function kn(u){u.j.G==0||u.J||Do(u.j,u)}function ke(u){nn(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Pn(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ki(u,m){try{var g=u.j;if(g.G!=0&&(g.g==u||or(g.h,u))){if(!u.K&&or(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)ts(g),Jr(g);else break t;sl(g),It(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=he(N(g.Za,g),6e3));if(1>=_a(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Xi(g,11)}else if((u.K||g.g==u)&&ts(g),!At(m))for(P=g.Da.g.parse(m),m=0;m<P.length;m++){let Ft=P[m];if(g.T=Ft[0],Ft=Ft[1],g.G==2)if(Ft[0]=="c"){g.K=Ft[1],g.ia=Ft[2];const Ze=Ft[3];Ze!=null&&(g.la=Ze,g.j.info("VER="+g.la));const He=Ft[4];He!=null&&(g.Aa=He,g.j.info("SVER="+g.Aa));const Ki=Ft[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(T=1.5*Ki,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const an=u.g;if(an){const Ei=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ei){var G=T.h;G.g||Ei.indexOf("spdy")==-1&&Ei.indexOf("quic")==-1&&Ei.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qr(G,G.h),G.h=null))}if(T.D){const ol=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;ol&&(T.ya=ol,re(T.I,T.D,ol))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var st=u;if(T.qa=Io(T,T.J?T.ia:null,T.W),st.K){yn(T.h,st);var Qt=st,qe=T.L;qe&&(Qt.I=qe),Qt.B&&(nn(Qt),Ce(Qt)),T.g=st}else wo(T);0<g.i.length&&Wr(g)}else Ft[0]!="stop"&&Ft[0]!="close"||Xi(g,7);else g.G==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Xi(g,7):al(g):Ft[0]!="noop"&&g.l&&g.l.ta(Ft),g.v=0)}}Tn(4)}catch{}}var Gr=class{constructor(u,m){this.g=u,this.map=m}};function qn(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qi(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _a(u){return u.h?1:u.g?u.g.size:0}function or(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qr(u,m){u.g?u.g.add(m):u.h=m}function yn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qn.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $s(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.D);return m}return ct(u.i)}function Cc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],g=u.length,T=0;T<g;T++)m.push(u[T]);return m}m=[],g=0;for(T in u)m[g++]=u[T];return m}function Fr(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var g=0;g<u;g++)m.push(g);return m}m=[],g=0;for(const T in u)m[g++]=T;return m}}}function Js(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var g=Fr(u),T=Cc(u),P=T.length,G=0;G<P;G++)m.call(void 0,T[G],g&&g[G],u)}var ur=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dc(u,m){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),P=null;if(0<=T){var G=u[g].substring(0,T);P=u[g].substring(T+1)}else G=u[g];m(G,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Oe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Oe){this.h=u.h,cr(this,u.j),this.o=u.o,this.g=u.g,va(this,u.s),this.l=u.l;var m=u.i,g=new Gi;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),Hi(this,g),this.m=u.m}else u&&(m=String(u).match(ur))?(this.h=!1,cr(this,m[1]||"",!0),this.o=Hn(m[2]||""),this.g=Hn(m[3]||"",!0),va(this,m[4]),this.l=Hn(m[5]||"",!0),Hi(this,m[6]||"",!0),this.m=Hn(m[7]||"")):(this.h=!1,this.i=new Gi(null,this.h))}Oe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(fr(m,Ws,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,Ws,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(fr(g,g.charAt(0)=="/"?Vc:tl,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",fr(g,Yr)),u.join("")};function Vn(u){return new Oe(u)}function cr(u,m,g){u.j=g?Hn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function va(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Hi(u,m,g){m instanceof Gi?(u.i=m,To(u.i,u.h)):(g||(m=fr(m,Ic)),u.i=new Gi(m,u.h))}function re(u,m,g){u.i.set(m,g)}function hr(u){return re(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Hn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,Eo),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Eo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ws=/[#\/\?@]/g,tl=/[#\?:]/g,Vc=/[#\?]/g,Ic=/[#\?@]/g,Yr=/#/g;function Gi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Gn(u){u.g||(u.g=new Map,u.h=0,u.i&&Dc(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}s=Gi.prototype,s.add=function(u,m){Gn(this),this.i=null,u=mi(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Qi(u,m){Gn(u),m=mi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Fi(u,m){return Gn(u),m=mi(u,m),u.g.has(m)}s.forEach=function(u,m){Gn(this),this.g.forEach(function(g,T){g.forEach(function(P){u.call(m,P,T,this)},this)},this)},s.na=function(){Gn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let T=0;T<m.length;T++){const P=u[T];for(let G=0;G<P.length;G++)g.push(m[T])}return g},s.V=function(u){Gn(this);let m=[];if(typeof u=="string")Fi(this,u)&&(m=m.concat(this.g.get(mi(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)m=m.concat(u[g])}return m},s.set=function(u,m){return Gn(this),this.i=null,u=mi(this,u),Fi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function el(u,m,g){Qi(u,m),0<g.length&&(u.i=null,u.g.set(mi(u,m),ct(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var T=m[g];const G=encodeURIComponent(String(T)),st=this.V(T);for(T=0;T<st.length;T++){var P=G;st[T]!==""&&(P+="="+encodeURIComponent(String(st[T]))),u.push(P)}}return this.i=u.join("&")};function mi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function To(u,m){m&&!u.j&&(Gn(u),u.i=null,u.g.forEach(function(g,T){var P=T.toLowerCase();T!=P&&(Qi(this,T),el(this,P,g))},u)),u.j=m}function dr(u,m){const g=new Ne;if(p.Image){const T=new Image;T.onload=Y(Qn,g,"TestLoadImage: loaded",!0,m,T),T.onerror=Y(Qn,g,"TestLoadImage: error",!1,m,T),T.onabort=Y(Qn,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=Y(Qn,g,"TestLoadImage: timeout",!1,m,T),p.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ai(u,m){const g=new Ne,T=new AbortController,P=setTimeout(()=>{T.abort(),Qn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(G=>{clearTimeout(P),G.ok?Qn(g,"TestPingServer: ok",!0,m):Qn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Qn(g,"TestPingServer: error",!1,m)})}function Qn(u,m,g,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(g)}catch{}}function mr(){this.g=new hi}function gi(u,m,g){const T=g||"";try{Js(u,function(P,G){let st=P;_(P)&&(st=Cn(P)),m.push(T+G+"="+encodeURIComponent(st))})}catch(P){throw m.push(T+"type="+encodeURIComponent("_badmap")),P}}function Ea(u){this.l=u.Ub||null,this.j=u.eb||!1}tt(Ea,fi),Ea.prototype.g=function(){return new Yi(this.l,this.j)},Ea.prototype.i=(function(u){return function(){return u}})({});function Yi(u,m){pe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}tt(Yi,pe),s=Yi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,yi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pi(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pi(this):yi(this),this.readyState==3&&nl(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,pi(this))},s.Qa=function(u){this.g&&(this.response=u,pi(this))},s.ga=function(){this.g&&pi(this)};function pi(u){u.readyState=4,u.l=null,u.j=null,u.v=null,yi(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function il(u){let m="";return Ht(u,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Ke(u,m,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=il(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):re(u,m,g))}function Wt(u){pe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}tt(Wt,pe);var Xr=/^https?$/i,gr=["POST","PUT"];s=Wt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?ar(this.o):ar(wt),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){Ao(this,G);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)g.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())g.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(G=>G.toLowerCase()=="content-type"),P=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(gr,m,void 0))||T||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,st]of g)this.g.setRequestHeader(G,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pr(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){Ao(this,G)}};function Ao(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Kr(u),_i(u)}function Kr(u){u.A||(u.A=!0,Zt(u,"complete"),Zt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Zt(this,"complete"),Zt(this,"abort"),_i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),Wt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Zr(this):this.bb())},s.bb=function(){Zr(this)};function Zr(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Fn(u)!=4||u.Z()!=2)){if(u.u&&Fn(u)==4)Me(u.Ea,0,u);else if(Zt(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const st=u.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var g;if(!(g=m)){var T;if(T=st===0){var P=String(u.D).match(ur)[1]||null;!P&&p.self&&p.self.location&&(P=p.self.location.protocol.slice(0,-1)),T=!Xr.test(P?P.toLowerCase():"")}g=T}if(g)Zt(u,"complete"),Zt(u,"success");else{u.m=6;try{var G=2<Fn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Kr(u)}}finally{_i(u)}}}}function _i(u,m){if(u.g){pr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Zt(u,"ready");try{g.onreadystatechange=T}catch{}}}function pr(u){u.I&&(p.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<Fn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ci(m)}};function So(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mc(u){const m={};u=(u.g&&2<=Fn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(At(u[T]))continue;var g=I(u[T]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const G=m[P]||[];m[P]=G,G.push(g)}U(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function $r(u){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,u),this.cb=yr("retryDelaySeedMs",1e4,u),this.Wa=yr("forwardChannelMaxRetries",2,u),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new qn(u&&u.concurrentRequestLimit),this.Da=new mr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=$r.prototype,s.la=8,s.G=1,s.connect=function(u,m,g,T){It(0),this.W=u,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=Io(this,null,this.W),Wr(this)};function al(u){if(bo(u),u.G==3){var m=u.U++,g=Vn(u.I);if(re(g,"SID",u.K),re(g,"RID",m),re(g,"TYPE","terminate"),_r(u,g),m=new Ut(u,u.j,m),m.L=2,m.v=hr(Vn(g)),g=!1,p.navigator&&p.navigator.sendBeacon)try{g=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&p.Image&&(new Image().src=m.v,g=!0),g||(m.g=Mo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ce(m)}Vo(u)}function Jr(u){u.g&&(vr(u),u.g.cancel(),u.g=null)}function bo(u){Jr(u),u.u&&(p.clearTimeout(u.u),u.u=null),ts(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Wr(u){if(!qi(u.h)&&!u.s){u.s=!0;var m=u.Ga;lt||V(),mt||(lt(),mt=!0),Gt.add(m,u),u.B=0}}function Nc(u,m){return _a(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(N(u.Ga,u,m),ll(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Ut(this,this.j,u);let G=this.o;if(this.S&&(G?(G=b(G),D(G,this.S)):G=this.S),this.m!==null||this.O||(P.H=G,G=null),this.P)t:{for(var m=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=g;break t}if(m===4096||g===this.i.length-1){m=g+1;break t}}m=1e3}else m=1e3;m=Ro(this,P,m),g=Vn(this.I),re(g,"RID",u),re(g,"CVER",22),this.D&&re(g,"X-HTTP-Session-Id",this.D),_r(this,g),G&&(this.O?m="headers="+encodeURIComponent(String(il(G)))+"&"+m:this.m&&Ke(g,this.m,G)),Qr(this.h,P),this.Ua&&re(g,"TYPE","init"),this.P?(re(g,"$req",m),re(g,"SID","null"),P.T=!0,ee(P,g,null)):ee(P,g,m),this.G=2}}else this.G==3&&(u?rl(this,u):this.i.length==0||qi(this.h)||rl(this))};function rl(u,m){var g;m?g=m.l:g=u.U++;const T=Vn(u.I);re(T,"SID",u.K),re(T,"RID",g),re(T,"AID",u.T),_r(u,T),u.m&&u.o&&Ke(T,u.m,u.o),g=new Ut(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ro(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qr(u.h,g),ee(g,T,m)}function _r(u,m){u.H&&Ht(u.H,function(g,T){re(m,T,g)}),u.l&&Js({},function(g,T){re(m,T,g)})}function Ro(u,m,g){g=Math.min(u.i.length,g);var T=u.l?N(u.l.Na,u.l,u):null;t:{var P=u.i;let G=-1;for(;;){const st=["count="+g];G==-1?0<g?(G=P[0].g,st.push("ofs="+G)):G=0:st.push("ofs="+G);let Qt=!0;for(let qe=0;qe<g;qe++){let Ft=P[qe].g;const Ze=P[qe].map;if(Ft-=G,0>Ft)G=Math.max(0,P[qe].g-100),Qt=!1;else try{gi(Ze,st,"req"+Ft+"_")}catch{T&&T(Ze)}}if(Qt){T=st.join("&");break t}}}return u=u.i.splice(0,g),m.D=u,T}function wo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;lt||V(),mt||(lt(),mt=!0),Gt.add(m,u),u.v=0}}function sl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(N(u.Fa,u),ll(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,Co(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(N(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Jr(this),Co(this))};function vr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function Co(u){u.g=new Ut(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Vn(u.qa);re(m,"RID","rpc"),re(m,"SID",u.K),re(m,"AID",u.T),re(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&re(m,"TO",u.ja),re(m,"TYPE","xmlhttp"),_r(u,m),u.m&&u.o&&Ke(m,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=hr(Vn(m)),g.m=null,g.P=!0,je(g,u)}s.Za=function(){this.C!=null&&(this.C=null,Jr(this),sl(this),It(19))};function ts(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Do(u,m){var g=null;if(u.g==m){ts(u),vr(u),u.g=null;var T=2}else if(or(u.h,m))g=m.D,yn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;T=di(),Zt(T,new Ae(T,g)),Wr(u)}else wo(u);else if(P=m.s,P==3||P==0&&0<m.X||!(T==1&&Nc(u,m)||T==2&&sl(u)))switch(g&&0<g.length&&(m=u.h,m.i=m.i.concat(g)),P){case 1:Xi(u,5);break;case 4:Xi(u,10);break;case 3:Xi(u,6);break;default:Xi(u,2)}}}function ll(u,m){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*m}function Xi(u,m){if(u.j.info("Error code "+m),m==2){var g=N(u.fb,u),T=u.Xa;const P=!T;T=new Oe(T||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||cr(T,"https"),hr(T),P?dr(T.toString(),g):ai(T.toString(),g)}else It(2);u.G=0,u.l&&u.l.sa(m),Vo(u),bo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function Vo(u){if(u.G=0,u.ka=[],u.l){const m=$s(u.h);(m.length!=0||u.i.length!=0)&&(at(u.ka,m),at(u.ka,u.i),u.h.i.length=0,ct(u.i),u.i.length=0),u.l.ra()}}function Io(u,m,g){var T=g instanceof Oe?Vn(g):new Oe(g);if(T.g!="")m&&(T.g=m+"."+T.g),va(T,T.s);else{var P=p.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var G=new Oe(null);T&&cr(G,T),m&&(G.g=m),P&&va(G,P),g&&(G.l=g),T=G}return g=u.D,m=u.ya,g&&m&&re(T,g,m),re(T,"VER",u.la),_r(u,T),T}function Mo(u,m,g){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Wt(new Ea({eb:g})):new Wt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function No(){}s=No.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function es(){}es.prototype.g=function(u,m){return new _n(u,m)};function _n(u,m){pe.call(this),this.g=new $r(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!At(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new vi(this)}tt(_n,pe),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){al(this.g)},_n.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Cn(u),u=g);m.i.push(new Gr(m.Ya++,u)),m.G==3&&Wr(m)},_n.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,_n.aa.N.call(this)};function Oo(u){we.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const g in m){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}tt(Oo,we);function xo(){sr.call(this),this.status=1}tt(xo,sr);function vi(u){this.g=u}tt(vi,No),vi.prototype.ua=function(){Zt(this.g,"a")},vi.prototype.ta=function(u){Zt(this.g,new Oo(u))},vi.prototype.sa=function(u){Zt(this.g,new xo)},vi.prototype.ra=function(){Zt(this.g,"b")},es.prototype.createWebChannel=es.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,x_=function(){return new es},O_=function(){return di()},N_=Bn,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nt.NO_ERROR=0,nt.TIMEOUT=8,nt.HTTP_ERROR=6,ku=nt,ut.COMPLETE="complete",M_=ut,rr.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Zl=rr,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,I_=Wt}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const Ty="@firebase/firestore",Ay="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new S_("@firebase/firestore");function Is(){return Pr.logLevel}function ht(s,...e){if(Pr.logLevel<=Kt.DEBUG){const i=e.map(dd);Pr.debug(`Firestore (${Qs}): ${s}`,...i)}}function fa(s,...e){if(Pr.logLevel<=Kt.ERROR){const i=e.map(dd);Pr.error(`Firestore (${Qs}): ${s}`,...i)}}function zs(s,...e){if(Pr.logLevel<=Kt.WARN){const i=e.map(dd);Pr.warn(`Firestore (${Qs}): ${s}`,...i)}}function dd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,U_(s,r,i)}function U_(s,e,i){let r=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw fa(r),new Error(r)}function te(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||U_(e,o,r)}function Vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Gs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(gn.UNAUTHENTICATED)))}shutdown(){}}class D1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class V1{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){te(this.o===void 0,42304);let r=this.i;const o=v=>this.i!==r?(r=this.i,i(v)):Promise.resolve();let h=new Fa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Fa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=h;e.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Fa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te(typeof r.accessToken=="string",31837,{l:r}),new L_(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class I1{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M1{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new I1(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Sy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N1{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,c1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){te(this.o===void 0,3512);const r=h=>{h.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ht("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Sy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Sy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=O1(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function kt(s,e){return s<e?-1:s>e?1:0}function Qf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return xf(o)===xf(h)?kt(o,h):xf(o)?1:-1}return kt(s.length,e.length)}const x1=55296,U1=57343;function xf(s){const e=s.charCodeAt(0);return e>=x1&&e<=U1}function Ps(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="__name__";class wi{constructor(e,i,r){i===void 0?i=0:i>e.length&&bt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&bt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=wi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return kt(e.length,i.length)}static compareSegments(e,i){const r=wi.isNumericId(e),o=wi.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?wi.extractNumericId(e).compare(wi.extractNumericId(i)):Qf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qa.fromString(e.substring(4,e.length-2))}}class ye extends wi{construct(e,i,r){return new ye(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new ye(i)}static emptyPath(){return new ye([])}}const L1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends wi{construct(e,i,r){return new un(e,i,r)}static isValidIdentifier(e){return L1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===by}static keyField(){return new un([by])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new dt(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new dt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new dt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(r+=p,o++):(h(),o++)}if(h(),d)throw new dt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(i)}static emptyPath(){return new un([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.path=e}static fromPath(e){return new vt(ye.fromString(e))}static fromName(e){return new vt(ye.fromString(e).popFirst(5))}static empty(){return new vt(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ye.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new vt(new ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(s,e,i){if(!i)throw new dt(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function z1(s,e,i,r){if(e===!0&&r===!0)throw new dt(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ry(s){if(!vt.isDocumentKey(s))throw new dt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wy(s){if(vt.isDocumentKey(s))throw new dt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function P_(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function gd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":bt(12329,{type:typeof s})}function ua(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new dt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=gd(s);throw new dt(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(s,e){const i={typeString:s};return e&&(i.value=e),i}function go(s,e){if(!P_(s))throw new dt(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new dt(W.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-62135596800,Dy=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Dy);return new _e(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Cy)throw new dt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(go(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:ze("string",_e._jsonSchemaVersion),seconds:ze("number"),nanoseconds:ze("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new _e(0,0))}static max(){return new Dt(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=-1;function P1(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Dt.fromTimestamp(r===1e9?new _e(i+1,0):new _e(i,r));return new Xa(o,vt.empty(),e)}function B1(s){return new Xa(s.readTime,s.key,lo)}class Xa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new Xa(Dt.min(),vt.empty(),lo)}static max(){return new Xa(Dt.max(),vt.empty(),lo)}}function j1(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=vt.comparator(s.documentKey,e.documentKey),i!==0?i:kt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==k1)throw s;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,r)=>{i(e)}))}static reject(e){return new $(((i,r)=>{r(e)}))}static waitFor(e){return new $(((i,r)=>{let o=0,h=0,d=!1;e.forEach((p=>{++o,p.next((()=>{++h,d&&h===o&&i()}),(v=>r(v)))})),d=!0,h===o&&i()}))}static or(e){let i=$.resolve(!1);for(const r of e)i=i.next((o=>o?$.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new $(((r,o)=>{const h=e.length,d=new Array(h);let p=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++p,p===h&&r(d)}),(A=>o(A)))}}))}static doWhile(e,i){return new $(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function H1(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ys(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}oc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=-1;function uc(s){return s==null}function $u(s){return s===0&&1/s==-1/0}function G1(s){return typeof s=="number"&&Number.isInteger(s)&&!$u(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="";function Q1(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Vy(e)),e=F1(s.get(i),e);return Vy(e)}function F1(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case B_:i+="";break;default:i+=h}}return i}function Vy(s){return s+B_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function tr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function j_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,i){this.comparator=e,this.root=i||on.EMPTY}insert(e,i){return new Te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lu(this.root,e,this.comparator,!0)}}class Lu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??on.RED,this.left=o??on.EMPTY,this.right=h??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new on(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new on(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new My(this.data.getIterator())}getIteratorFrom(e){return new My(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ye(this.comparator);return i.data=e,i}}class My{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new zn([])}unionWith(e){let i=new Ye(un.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new zn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ps(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new k_("Invalid base64 string: "+h):h}})(e);return new cn(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new cn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const Y1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(s){if(te(!!s,39018),typeof s=="string"){let e=0;const i=Y1.exec(s);if(te(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ie(s.seconds),nanos:Ie(s.nanos)}}function Ie(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Za(s){return typeof s=="string"?cn.fromBase64String(s):cn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="server_timestamp",H_="__type__",G_="__previous_value__",Q_="__local_write_time__";function yd(s){return(s?.mapValue?.fields||{})[H_]?.stringValue===q_}function cc(s){const e=s.mapValue.fields[G_];return yd(e)?cc(e):e}function oo(s){const e=Ka(s.mapValue.fields[Q_].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,i,r,o,h,d,p,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const Ju="(default)";class uo{constructor(e,i){this.projectId=e,this.database=i||Ju}static empty(){return new uo("","")}get isDefaultDatabase(){return this.database===Ju}isEqual(e){return e instanceof uo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="__type__",K1="__max__",zu={mapValue:{}},Y_="__vector__",Wu="value";function $a(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?yd(s)?4:$1(s)?9007199254740991:Z1(s)?10:11:bt(28295,{value:s})}function Ni(s,e){if(s===e)return!0;const i=$a(s);if(i!==$a(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return oo(s).isEqual(oo(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ka(o.timestampValue),p=Ka(h.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Za(o.bytesValue).isEqual(Za(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return Ie(o.geoPointValue.latitude)===Ie(h.geoPointValue.latitude)&&Ie(o.geoPointValue.longitude)===Ie(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return Ie(o.integerValue)===Ie(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=Ie(o.doubleValue),p=Ie(h.doubleValue);return d===p?$u(d)===$u(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Ps(s.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},p=h.mapValue.fields||{};if(Iy(d)!==Iy(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ni(d[v],p[v])))return!1;return!0})(s,e);default:return bt(52216,{left:s})}}function co(s,e){return(s.values||[]).find((i=>Ni(i,e)))!==void 0}function Bs(s,e){if(s===e)return 0;const i=$a(s),r=$a(e);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const p=Ie(h.integerValue||h.doubleValue),v=Ie(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(s,e);case 3:return Ny(s.timestampValue,e.timestampValue);case 4:return Ny(oo(s),oo(e));case 5:return Qf(s.stringValue,e.stringValue);case 6:return(function(h,d){const p=Za(h),v=Za(d);return p.compareTo(v)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const p=h.split("/"),v=d.split("/");for(let _=0;_<p.length&&_<v.length;_++){const A=kt(p[_],v[_]);if(A!==0)return A}return kt(p.length,v.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const p=kt(Ie(h.latitude),Ie(d.latitude));return p!==0?p:kt(Ie(h.longitude),Ie(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Oy(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const p=h.fields||{},v=d.fields||{},_=p[Wu]?.arrayValue,A=v[Wu]?.arrayValue,O=kt(_?.values?.length||0,A?.values?.length||0);return O!==0?O:Oy(_,A)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const p=h.fields||{},v=Object.keys(p),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let O=0;O<v.length&&O<A.length;++O){const N=Qf(v[O],A[O]);if(N!==0)return N;const Y=Bs(p[v[O]],_[A[O]]);if(Y!==0)return Y}return kt(v.length,A.length)})(s.mapValue,e.mapValue);default:throw bt(23264,{he:i})}}function Ny(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return kt(s,e);const i=Ka(s),r=Ka(e),o=kt(i.seconds,r.seconds);return o!==0?o:kt(i.nanos,r.nanos)}function Oy(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Bs(i[o],r[o]);if(h)return h}return kt(i.length,r.length)}function js(s){return Ff(s)}function Ff(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ka(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Za(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return vt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Ff(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Ff(i.fields[d])}`;return o+"}"})(s.mapValue):bt(61005,{value:s})}function qu(s){switch($a(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cc(s);return e?16+qu(e):16;case 5:return 2*s.stringValue.length;case 6:return Za(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+qu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return tr(r.fields,((h,d)=>{o+=h.length+qu(d)})),o})(s.mapValue);default:throw bt(13486,{value:s})}}function Yf(s){return!!s&&"integerValue"in s}function _d(s){return!!s&&"arrayValue"in s}function xy(s){return!!s&&"nullValue"in s}function Uy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Hu(s){return!!s&&"mapValue"in s}function Z1(s){return(s?.mapValue?.fields||{})[F_]?.stringValue===Y_}function eo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return tr(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=eo(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eo(s.arrayValue.values[i]);return e}return{...s}}function $1(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===K1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!Hu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eo(i)}setAll(e){let i=un.emptyPath(),r={},o=[];e.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,r,o),r={},o=[],i=p.popLast()}d?r[p.lastSegment()]=eo(d):o.push(p.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());Hu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];Hu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){tr(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new wn(eo(this.value))}}function X_(s){const e=[];return tr(s.fields,((i,r)=>{const o=new un([i]);if(Hu(r)){const h=X_(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,i,r,o,h,d,p){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=p}static newInvalidDocument(e){return new pn(e,0,Dt.min(),Dt.min(),Dt.min(),wn.empty(),0)}static newFoundDocument(e,i,r,o){return new pn(e,1,i,Dt.min(),r,o,0)}static newNoDocument(e,i){return new pn(e,2,i,Dt.min(),Dt.min(),wn.empty(),0)}static newUnknownDocument(e,i){return new pn(e,3,i,Dt.min(),Dt.min(),wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i){this.position=e,this.inclusive=i}}function Ly(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=vt.comparator(vt.fromName(d.referenceValue),i.key):r=Bs(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function zy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ni(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function J1(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{}class Fe extends K_{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new tA(e,i,r):i==="array-contains"?new iA(e,r):i==="in"?new aA(e,r):i==="not-in"?new rA(e,r):i==="array-contains-any"?new sA(e,r):new Fe(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new eA(e,r):new nA(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Bs(i,this.value)):i!==null&&$a(this.value)===$a(i)&&this.matchesComparison(Bs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends K_{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Oi(e,i)}matches(e){return Z_(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Z_(s){return s.op==="and"}function $_(s){return W1(s)&&Z_(s)}function W1(s){for(const e of s.filters)if(e instanceof Oi)return!1;return!0}function Xf(s){if(s instanceof Fe)return s.field.canonicalString()+s.op.toString()+js(s.value);if($_(s))return s.filters.map((e=>Xf(e))).join(",");{const e=s.filters.map((i=>Xf(i))).join(",");return`${s.op}(${e})`}}function J_(s,e){return s instanceof Fe?(function(r,o){return o instanceof Fe&&r.op===o.op&&r.field.isEqual(o.field)&&Ni(r.value,o.value)})(s,e):s instanceof Oi?(function(r,o){return o instanceof Oi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,p)=>h&&J_(d,o.filters[p])),!0):!1})(s,e):void bt(19439)}function W_(s){return s instanceof Fe?(function(i){return`${i.field.canonicalString()} ${i.op} ${js(i.value)}`})(s):s instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(W_).join(" ,")+"}"})(s):"Filter"}class tA extends Fe{constructor(e,i,r){super(e,i,r),this.key=vt.fromName(r.referenceValue)}matches(e){const i=vt.comparator(e.key,this.key);return this.matchesComparison(i)}}class eA extends Fe{constructor(e,i){super(e,"in",i),this.keys=tv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class nA extends Fe{constructor(e,i){super(e,"not-in",i),this.keys=tv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function tv(s,e){return(e.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class iA extends Fe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return _d(i)&&co(i.arrayValue,this.value)}}class aA extends Fe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&co(this.value.arrayValue,i)}}class rA extends Fe{constructor(e,i){super(e,"not-in",i)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!co(this.value.arrayValue,i)}}class sA extends Fe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!_d(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>co(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i=null,r=[],o=[],h=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=p,this.Te=null}}function Py(s,e=null,i=[],r=[],o=null,h=null,d=null){return new lA(s,e,i,r,o,h,d)}function vd(s){const e=Vt(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Xf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),uc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>js(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>js(r))).join(",")),e.Te=i}return e.Te}function Ed(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!J1(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!J_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!zy(s.startAt,e.startAt)&&zy(s.endAt,e.endAt)}function Kf(s){return vt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i=null,r=[],o=[],h=null,d="F",p=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oA(s,e,i,r,o,h,d,p){return new hc(s,e,i,r,o,h,d,p)}function fc(s){return new hc(s)}function By(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function uA(s){return s.collectionGroup!==null}function no(s){const e=Vt(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ye(un.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ec(h,r))})),i.has(un.keyField().canonicalString())||e.Ie.push(new ec(un.keyField(),r))}return e.Ie}function Ci(s){const e=Vt(s);return e.Ee||(e.Ee=cA(e,no(s))),e.Ee}function cA(s,e){if(s.limitType==="F")return Py(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ec(o.field,h)}));const i=s.endAt?new tc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new tc(s.startAt.position,s.startAt.inclusive):null;return Py(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function Zf(s,e,i){return new hc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function dc(s,e){return Ed(Ci(s),Ci(e))&&s.limitType===e.limitType}function ev(s){return`${vd(Ci(s))}|lt:${s.limitType}`}function Ms(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>W_(o))).join(", ")}]`),uc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>js(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>js(o))).join(",")),`Target(${r})`})(Ci(s))}; limitType=${s.limitType})`}function mc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):vt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of no(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,p,v){const _=Ly(d,p,v);return d.inclusive?_<=0:_<0})(r.startAt,no(r),o)||r.endAt&&!(function(d,p,v){const _=Ly(d,p,v);return d.inclusive?_>=0:_>0})(r.endAt,no(r),o))})(s,e)}function hA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function nv(s){return(e,i)=>{let r=!1;for(const o of no(s)){const h=fA(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function fA(s,e,i){const r=s.field.isKeyField()?vt.comparator(e.key,i.key):(function(h,d,p){const v=d.data.field(h),_=p.data.field(h);return v!==null&&_!==null?Bs(v,_):bt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){tr(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return j_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=new Te(vt.comparator);function da(){return dA}const iv=new Te(vt.comparator);function $l(...s){let e=iv;for(const i of s)e=e.insert(i.key,i);return e}function av(s){let e=iv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function Lr(){return io()}function rv(){return io()}function io(){return new jr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const mA=new Te(vt.comparator),gA=new Ye(vt.comparator);function qt(...s){let e=gA;for(const i of s)e=e.add(i);return e}const pA=new Ye(kt);function yA(){return pA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function sv(s){return{integerValue:""+s}}function _A(s,e){return G1(e)?sv(e):Td(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(){this._=void 0}}function vA(s,e,i){return s instanceof ho?(function(o,h){const d={fields:{[H_]:{stringValue:q_},[Q_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&yd(h)&&(h=cc(h)),h&&(d.fields[G_]=h),{mapValue:d}})(i,e):s instanceof fo?ov(s,e):s instanceof mo?uv(s,e):(function(o,h){const d=lv(o,h),p=jy(d)+jy(o.Ae);return Yf(d)&&Yf(o.Ae)?sv(p):Td(o.serializer,p)})(s,e)}function EA(s,e,i){return s instanceof fo?ov(s,e):s instanceof mo?uv(s,e):i}function lv(s,e){return s instanceof nc?(function(r){return Yf(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class ho extends gc{}class fo extends gc{constructor(e){super(),this.elements=e}}function ov(s,e){const i=cv(e);for(const r of s.elements)i.some((o=>Ni(o,r)))||i.push(r);return{arrayValue:{values:i}}}class mo extends gc{constructor(e){super(),this.elements=e}}function uv(s,e){let i=cv(e);for(const r of s.elements)i=i.filter((o=>!Ni(o,r)));return{arrayValue:{values:i}}}class nc extends gc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function jy(s){return Ie(s.integerValue||s.doubleValue)}function cv(s){return _d(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,i){this.field=e,this.transform=i}}function AA(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof fo&&o instanceof fo||r instanceof mo&&o instanceof mo?Ps(r.elements,o.elements,Ni):r instanceof nc&&o instanceof nc?Ni(r.Ae,o.Ae):r instanceof ho&&o instanceof ho})(s.transform,e.transform)}class SA{constructor(e,i){this.version=e,this.transformResults=i}}class Di{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class pc{}function hv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new dv(s.key,Di.none()):new po(s.key,s.data,Di.none());{const i=s.data,r=wn.empty();let o=new Ye(un.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new er(s.key,r,new zn(o.toArray()),Di.none())}}function bA(s,e,i){s instanceof po?(function(o,h,d){const p=o.value.clone(),v=qy(o.fieldTransforms,h,d.transformResults);p.setAll(v),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):s instanceof er?(function(o,h,d){if(!Gu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const p=qy(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(fv(o)),v.setAll(p),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function ao(s,e,i,r){return s instanceof po?(function(h,d,p,v){if(!Gu(h.precondition,d))return p;const _=h.value.clone(),A=Hy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof er?(function(h,d,p,v){if(!Gu(h.precondition,d))return p;const _=Hy(h.fieldTransforms,v,d),A=d.data;return A.setAll(fv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((O=>O.field)))})(s,e,i,r):(function(h,d,p){return Gu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,i)}function RA(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=lv(r.transform,o||null);h!=null&&(i===null&&(i=wn.empty()),i.set(r.field,h))}return i||null}function ky(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Ps(r,o,((h,d)=>AA(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class po extends pc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class er extends pc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function fv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function qy(s,e,i){const r=new Map;te(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,p=e.data.field(h.field);r.set(h.field,EA(d,p,i[o]))}return r}function Hy(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,vA(h,d,e))}return r}class dv extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends pc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&bA(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=ao(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=ao(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=rv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let p=this.applyToLocalView(d,h.mutatedFields);p=i.has(o.key)?null:p;const v=hv(d,p);v!==null&&r.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Dt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qt())}isEqual(e){return this.batchId===e.batchId&&Ps(this.mutations,e.mutations,((i,r)=>ky(i,r)))&&Ps(this.baseMutations,e.baseMutations,((i,r)=>ky(i,r)))}}class Ad{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return mA})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Ad(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,Xt;function IA(s){switch(s){case W.OK:return bt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return bt(15467,{code:s})}}function mv(s){if(s===void 0)return fa("GRPC error has no .code"),W.UNKNOWN;switch(s){case Le.OK:return W.OK;case Le.CANCELLED:return W.CANCELLED;case Le.UNKNOWN:return W.UNKNOWN;case Le.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Le.INTERNAL:return W.INTERNAL;case Le.UNAVAILABLE:return W.UNAVAILABLE;case Le.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Le.NOT_FOUND:return W.NOT_FOUND;case Le.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Le.ABORTED:return W.ABORTED;case Le.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Le.DATA_LOSS:return W.DATA_LOSS;default:return bt(39323,{code:s})}}(Xt=Le||(Le={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=new Qa([4294967295,4294967295],0);function Gy(s){const e=MA().encode(s),i=new V_;return i.update(e),new Uint8Array(i.digest())}function Qy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Qa([i,r],0),new Qa([o,h],0)]}class Sd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Jl(`Invalid padding: ${i}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Qa.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Qa.fromNumber(r)));return o.compare(NA)===1&&(o=new Qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=Gy(e),[r,o]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Sd(h,o,i);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const i=Gy(e),[r,o]=Qy(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,yo.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new yc(Dt.min(),o,new Te(kt),da(),qt())}}class yo{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new yo(r,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class gv{constructor(e,i){this.targetId=e,this.Ce=i}}class pv{constructor(e,i,r=cn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class Fy{constructor(){this.ve=0,this.Fe=Yy(),this.Me=cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qt(),i=qt(),r=qt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:bt(38017,{changeType:h})}})),new yo(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=Yy()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OA{constructor(e){this.Ge=e,this.ze=new Map,this.je=da(),this.Je=Pu(),this.He=Pu(),this.Ye=new Te(kt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:bt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Kf(h))if(r===0){const d=new vt(h.path);this.et(i,d,pn.newNoDocument(d,Dt.min()))}else te(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(e),v=p?this.ct(p,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,p;try{d=Za(r).toUint8Array()}catch(v){if(v instanceof k_)return zs("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new Sd(d,o,h)}catch(v){return zs(v instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(p)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const p=this.ot(d);if(p){if(h.current&&Kf(p.target)){const v=new vt(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,pn.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=qt();this.He.forEach(((h,d)=>{let p=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new yc(e,i,this.Ye,this.je,r);return this.je=da(),this.Je=Pu(),this.He=Pu(),this.Ye=new Te(kt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Fy,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ye(kt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ye(kt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ht("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Fy),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Pu(){return new Te(vt.comparator)}function Yy(){return new Te(vt.comparator)}const xA={asc:"ASCENDING",desc:"DESCENDING"},UA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LA={and:"AND",or:"OR"};class zA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function $f(s,e){return s.useProto3Json||uc(e)?e:{value:e}}function ic(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function PA(s,e){return ic(s,e.toTimestamp())}function Vi(s){return te(!!s,49232),Dt.fromTimestamp((function(i){const r=Ka(i);return new _e(r.seconds,r.nanos)})(s))}function bd(s,e){return Jf(s,e).canonicalString()}function Jf(s,e){const i=(function(o){return new ye(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function _v(s){const e=ye.fromString(s);return te(Sv(e),10190,{key:e.toString()}),e}function Wf(s,e){return bd(s.databaseId,e.path)}function Uf(s,e){const i=_v(e);if(i.get(1)!==s.databaseId.projectId)throw new dt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new dt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new vt(Ev(i))}function vv(s,e){return bd(s.databaseId,e)}function BA(s){const e=_v(s);return e.length===4?ye.emptyPath():Ev(e)}function td(s){return new ye(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Ev(s){return te(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Xy(s,e,i){return{name:Wf(s,e),fields:i.value.mapValue.fields}}function jA(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,A){return _.useProto3Json?(te(A===void 0||typeof A=="string",58123),cn.fromBase64String(A||"")):(te(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),cn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?W.UNKNOWN:mv(_.code);return new dt(A,_.message||"")})(d);i=new pv(r,o,h,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Uf(s,r.document.name),h=Vi(r.document.updateTime),d=r.document.createTime?Vi(r.document.createTime):Dt.min(),p=new wn({mapValue:{fields:r.document.fields}}),v=pn.newFoundDocument(o,h,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Qu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Uf(s,r.document),h=r.readTime?Vi(r.readTime):Dt.min(),d=pn.newNoDocument(o,h),p=r.removedTargetIds||[];i=new Qu([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Uf(s,r.document),h=r.removedTargetIds||[];i=new Qu([],h,o,null)}else{if(!("filter"in e))return bt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new VA(o,h),p=r.targetId;i=new gv(p,d)}}return i}function kA(s,e){let i;if(e instanceof po)i={update:Xy(s,e.key,e.value)};else if(e instanceof dv)i={delete:Wf(s,e.key)};else if(e instanceof er)i={update:Xy(s,e.key,e.data),updateMask:ZA(e.fieldMask)};else{if(!(e instanceof wA))return bt(16599,{Vt:e.type});i={verify:Wf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const p=d.transform;if(p instanceof ho)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof nc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw bt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:PA(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(s,e.precondition)),i}function qA(s,e){return s&&s.length>0?(te(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?Vi(o.updateTime):Vi(h);return d.isEqual(Dt.min())&&(d=Vi(h)),new SA(d,o.transformResults||[])})(i,e)))):[]}function HA(s,e){return{documents:[vv(s,e.path)]}}function GA(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=vv(s,o);const h=(function(_){if(_.length!==0)return Av(Oi.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Ns(N.field),direction:YA(N.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=$f(s,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function QA(s){let e=BA(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){te(r===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=(function(O){const N=Tv(O);return N instanceof Oi&&$_(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(O){return O.map((N=>(function(tt){return new ec(Os(tt.field),(function(at){switch(at){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(O){let N;return N=typeof O=="object"?O.value:O,uc(N)?null:N})(i.limit));let v=null;i.startAt&&(v=(function(O){const N=!!O.before,Y=O.values||[];return new tc(Y,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(O){const N=!O.before,Y=O.values||[];return new tc(Y,N)})(i.endAt)),oA(e,o,d,h,p,"F",v,_)}function FA(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Tv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Os(i.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Os(i.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Os(i.unaryFilter.field);return Fe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Os(i.unaryFilter.field);return Fe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Fe.create(Os(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((r=>Tv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(s):bt(30097,{filter:s})}function YA(s){return xA[s]}function XA(s){return UA[s]}function KA(s){return LA[s]}function Ns(s){return{fieldPath:s.canonicalString()}}function Os(s){return un.fromServerFormat(s.fieldPath)}function Av(s){return s instanceof Fe?(function(i){if(i.op==="=="){if(Uy(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NAN"}};if(xy(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Uy(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NAN"}};if(xy(i.value))return{unaryFilter:{field:Ns(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(i.field),op:XA(i.op),value:i.value}}})(s):s instanceof Oi?(function(i){const r=i.getFilters().map((o=>Av(o)));return r.length===1?r[0]:{compositeFilter:{op:KA(i.op),filters:r}}})(s):bt(54877,{filter:s})}function ZA(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Sv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,i,r,o,h=Dt.min(),d=Dt.min(),p=cn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(e){return new qa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.yt=e}}function JA(s){const e=QA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(){this.Cn=new tS}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(Xa.min())}updateCollectionGroup(e,i,r){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class tS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new Ye(ye.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ye(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bv=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(bv,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ks(0)}static cr(){return new ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="LruGarbageCollector",eS=1048576;function $y([s,e],[i,r]){const o=kt(s,i);return o===0?kt(e,r):o}class nS{constructor(e){this.Ir=e,this.buffer=new Ye($y),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();$y(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class iS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(Zy,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ys(i)?ht(Zy,"Ignoring IndexedDB error during garbage collection: ",i):await Fs(i)}await this.Vr(3e5)}))}}class aS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(oc.ce);const r=new nS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ky)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ky):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,p,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((O=>(O>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),o=this.params.maximumSequenceNumbersToCollect):o=O,d=Date.now(),this.nthSequenceNumber(e,o)))).next((O=>(r=O,p=Date.now(),this.removeTargets(e,r,i)))).next((O=>(h=O,v=Date.now(),this.removeOrphanedDocuments(e,r)))).next((O=>(_=Date.now(),Is()<=Kt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${h} targets in `+(v-p)+`ms
	Removed ${O} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:O}))))}}function rS(s,e){return new aS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(){this.changes=new jr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&ao(r.mutation,o,zn.empty(),_e.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,qt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=qt()){const o=Lr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=$l();return h.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=Lr();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,qt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(e,i,r,o){let h=da();const d=io(),p=(function(){return io()})();return i.forEach(((v,_)=>{const A=r.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof er)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),ao(A.mutation,_,A.mutation.getFieldMask(),_e.now())):d.set(_.key,zn.empty())})),this.recalculateAndSaveOverlays(e,h).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new lS(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(e,i){const r=io();let o=new Te(((d,p)=>d-p)),h=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=r.get(v)||zn.empty();A=p.applyToLocalView(_,A),r.set(v,A);const O=(o.get(p.batchId)||qt()).add(v);o=o.insert(p.batchId,O)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),_=v.key,A=v.value,O=rv();A.forEach((N=>{if(!h.has(N)){const Y=hv(i.get(N),r.get(N));Y!==null&&O.set(N,Y),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,O))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):uA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):$.resolve(Lr());let p=lo,v=h;return d.next((_=>$.forEach(_,((A,O)=>(p<O.largestBatchId&&(p=O.largestBatchId),h.get(A)?$.resolve():this.remoteDocumentCache.getEntry(e,A).next((N=>{v=v.insert(A,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,v,_,qt()))).next((A=>({batchId:p,changes:av(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new vt(i)).next((r=>{let o=$l();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,h).next((p=>$.forEach(p,(v=>{const _=(function(O,N){return new hc(N,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((A=>{A.forEach(((O,N)=>{d=d.insert(O,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,pn.newInvalidDocument(A)))}));let p=$l();return d.forEach(((v,_)=>{const A=h.get(v);A!==void 0&&ao(A.mutation,_,zn.empty(),_e.now()),mc(i,_)&&(p=p.insert(v,_))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:JA(o.bundledQuery),readTime:Vi(o.readTime)}})(i)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(){this.overlays=new Te(vt.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const r=Lr();return $.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),$.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,i,r){const o=Lr(),h=i.length+1,d=new vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>r&&o.set(v.getKey(),v)}return $.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new Te(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=h.get(_.largestBatchId);A===null&&(A=Lr(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Lr(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return $.resolve(p)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new DA(i,r));let h=this.qr.get(i);h===void 0&&(h=qt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.sessionToken=cn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this.Qr=new Ye(tn.$r),this.Ur=new Ye(tn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new tn(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new tn(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new vt(new ye([])),r=new tn(i,e),o=new tn(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new vt(new ye([])),r=new tn(i,e),o=new tn(i,e+1);let h=qt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new tn(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class tn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return vt.comparator(e.key,i.key)||kt(e.Yr,i.Yr)}static Kr(e,i){return kt(e.Yr,i.Yr)||vt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(tn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CA(h,i,r,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new tn(p.key,h)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return $.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?pd:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new tn(i,0),o=new tn(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const p=this.Xr(d.Yr);h.push(p)})),$.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new Ye(kt);return i.forEach((o=>{const h=new tn(o,0),d=new tn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;vt.isDocumentKey(h)||(h=h.child(""));const d=new tn(new vt(h),0);let p=new Ye(kt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(p=p.add(v.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){te(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(o=>{const h=new tn(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new tn(i,0),o=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.ri=e,this.docs=(function(){return new Te(vt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(i))}getEntries(e,i){let r=da();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():pn.newInvalidDocument(o))})),$.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=da();const d=i.path,p=new vt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||j1(B1(A),r)<=0||(o.has(A.key)||mc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return $.resolve(h)}getAllFromCollectionGroup(e,i,r,o){bt(9500)}ii(e,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new mS(this)}getSize(e){return $.resolve(this.size)}}class mS extends sS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.persistence=e,this.si=new jr((i=>vd(i)),Ed),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.oi=0,this._i=new Rd,this.targetCount=0,this.ai=ks.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ks(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),$.waitFor(h).next((()=>o))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),$.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(e,i){this.ui={},this.overlays={},this.ci=new oc(0),this.li=!1,this.li=!0,this.hi=new hS,this.referenceDelegate=e(this),this.Pi=new gS(this),this.indexManager=new WA,this.remoteDocumentCache=(function(o){return new dS(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $A(i),this.Ii=new uS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new cS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new fS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ht("MemoryPersistence","Starting transaction:",e);const o=new pS(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class pS extends q1{constructor(e){super(),this.currentSequenceNumber=e}}class wd{constructor(e){this.persistence=e,this.Ri=new Rd,this.Vi=null}static mi(e){return new wd(e)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const o=vt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,Dt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ac{constructor(e,i){this.persistence=e,this.pi=new jr((r=>Q1(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=rS(this,i)}static mi(e,i){return new ac(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?$.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((p=>{p||(r++,h.removeEntry(d,Dt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=qu(e.data.value)),i}br(e,i,r){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=qt(),o=qt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Cd(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lT()?8:H1(rT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new yS;return this.Ss(e,i,d).next((p=>{if(h.result=p,this.Vs)return this.bs(e,i,d,p.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(Is()<=Kt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Ms(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Is()<=Kt.DEBUG&&ht("QueryEngine","Query:",Ms(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(Is()<=Kt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Ms(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(i))):$.resolve())}ys(e,i){if(By(i))return $.resolve(null);let r=Ci(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Zf(i,null,"F"),r=Ci(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=qt(...h);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((v=>{const _=this.Ds(i,p);return this.Cs(i,_,d,v.readTime)?this.ys(e,Zf(i,null,"F")):this.vs(e,_,i,v)}))))})))))}ws(e,i,r,o){return By(i)||o.isEqual(Dt.min())?$.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?$.resolve(null):(Is()<=Kt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ms(i)),this.vs(e,d,i,P1(o,lo)).next((p=>p)))}))}Ds(e,i){let r=new Ye(nv(e));return i.forEach(((o,h)=>{mc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return Is()<=Kt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Ms(i)),this.ps.getDocumentsMatchingQuery(e,i,Xa.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="LocalStore",vS=3e8;class ES{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new Te(kt),this.xs=new jr((h=>vd(h)),Ed),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function TS(s,e,i,r){return new ES(s,e,i,r)}async function wv(s,e){const i=Vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],p=[];let v=qt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){p.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(r,v).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function AS(s,e){const i=Vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,_,A){const O=_.batch,N=O.keys();let Y=$.resolve();return N.forEach((tt=>{Y=Y.next((()=>A.getEntry(v,tt))).next((ct=>{const at=_.docVersions.get(tt);te(at!==null,48541),ct.version.compareTo(at)<0&&(O.applyToRemoteDocument(ct,_),ct.isValidDocument()&&(ct.setReadTime(_.commitVersion),A.addEntry(ct)))}))})),Y.next((()=>p.mutationQueue.removeMutationBatch(v,O)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let v=qt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(v=v.add(p.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Cv(s){const e=Vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function SS(s,e){const i=Vt(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach(((A,O)=>{const N=o.get(O);if(!N)return;p.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,O).next((()=>i.Pi.addMatchingKeys(h,A.addedDocuments,O))));let Y=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(O)!==null?Y=Y.withResumeToken(cn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):A.resumeToken.approximateByteSize()>0&&(Y=Y.withResumeToken(A.resumeToken,r)),o=o.insert(O,Y),(function(ct,at,Nt){return ct.resumeToken.approximateByteSize()===0||at.snapshotVersion.toMicroseconds()-ct.snapshotVersion.toMicroseconds()>=vS?!0:Nt.addedDocuments.size+Nt.modifiedDocuments.size+Nt.removedDocuments.size>0})(N,Y,A)&&p.push(i.Pi.updateTargetData(h,Y))}));let v=da(),_=qt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))})),p.push(bS(h,d,e.documentUpdates).next((A=>{v=A.ks,_=A.qs}))),!r.isEqual(Dt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next((O=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=o,h)))}function bS(s,e,i){let r=qt(),o=qt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=da();return i.forEach(((p,v)=>{const _=h.get(p);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(Dt.min())?(e.removeEntry(p,v.readTime),d=d.insert(p,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(p,v)):ht(Dd,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function RS(s,e){const i=Vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=pd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function wS(s,e){const i=Vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,$.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new qa(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function ed(s,e,i){const r=Vt(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ys(d))throw d;ht(Dd,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Jy(s,e,i){const r=Vt(s);let o=Dt.min(),h=qt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const O=Vt(v),N=O.xs.get(A);return N!==void 0?$.resolve(O.Ms.get(N)):O.Pi.getTargetData(_,A)})(r,d,Ci(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{h=v}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:Dt.min(),i?h:qt()))).next((p=>(CS(r,hA(e),p),{documents:p,Qs:h})))))}function CS(s,e,i){let r=s.Os.get(e)||Dt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class Wy{constructor(){this.activeTargetIds=yA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DS{constructor(){this.Mo=new Wy,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Wy,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="ConnectivityMonitor";class e_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(t_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(t_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function nd(){return Bu===null?Bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf="RestConnection",IS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Ju?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=nd(),p=this.zo(e,i.toUriEncodedString());ht(Lf,`Sending RPC '${e}' ${d}:`,p,r);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(p),A=hd(_);return this.Jo(e,p,v,r,A).then((O=>(ht(Lf,`Received RPC '${e}' ${d}: `,O),O)),(O=>{throw zs(Lf,`RPC '${e}' ${d} failed with error: `,O,"url: ",p,"request:",r),O}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Qs})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=IS[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn="WebChannelConnection";class OS extends MS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=nd();return new Promise(((p,v)=>{const _=new I_;_.setWithCredentials(!0),_.listenOnce(M_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ku.NO_ERROR:const O=_.getResponseJson();ht(mn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(O)),p(O);break;case ku.TIMEOUT:ht(mn,`RPC '${e}' ${d} timed out`),v(new dt(W.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const N=_.getStatus();if(ht(mn,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let Y=_.getResponseJson();Array.isArray(Y)&&(Y=Y[0]);const tt=Y?.error;if(tt&&tt.status&&tt.message){const ct=(function(Nt){const At=Nt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(At)>=0?At:W.UNKNOWN})(tt.status);v(new dt(ct,tt.message))}else v(new dt(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new dt(W.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ht(mn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(o);ht(mn,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,r,15)}))}T_(e,i,r){const o=nd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=x_(),p=O_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,r),v.encodeInitMessageHeaders=!0;const A=h.join("");ht(mn,`Creating RPC '${e}' stream ${o}: ${A}`,v);const O=d.createWebChannel(A,v);this.I_(O);let N=!1,Y=!1;const tt=new NS({Yo:at=>{Y?ht(mn,`Not sending because RPC '${e}' stream ${o} is closed:`,at):(N||(ht(mn,`Opening RPC '${e}' stream ${o} transport.`),O.open(),N=!0),ht(mn,`RPC '${e}' stream ${o} sending:`,at),O.send(at))},Zo:()=>O.close()}),ct=(at,Nt,At)=>{at.listen(Nt,(pt=>{try{At(pt)}catch(zt){setTimeout((()=>{throw zt}),0)}}))};return ct(O,Zl.EventType.OPEN,(()=>{Y||(ht(mn,`RPC '${e}' stream ${o} transport opened.`),tt.o_())})),ct(O,Zl.EventType.CLOSE,(()=>{Y||(Y=!0,ht(mn,`RPC '${e}' stream ${o} transport closed`),tt.a_(),this.E_(O))})),ct(O,Zl.EventType.ERROR,(at=>{Y||(Y=!0,zs(mn,`RPC '${e}' stream ${o} transport errored. Name:`,at.name,"Message:",at.message),tt.a_(new dt(W.UNAVAILABLE,"The operation could not be completed")))})),ct(O,Zl.EventType.MESSAGE,(at=>{if(!Y){const Nt=at.data[0];te(!!Nt,16349);const At=Nt,pt=At?.error||At[0]?.error;if(pt){ht(mn,`RPC '${e}' stream ${o} received error:`,pt);const zt=pt.status;let _t=(function(b){const w=Le[b];if(w!==void 0)return mv(w)})(zt),Ht=pt.message;_t===void 0&&(_t=W.INTERNAL,Ht="Unknown error status: "+zt+" with message "+pt.message),Y=!0,tt.a_(new dt(_t,Ht)),O.close()}else ht(mn,`RPC '${e}' stream ${o} received:`,Nt),tt.u_(Nt)}})),ct(p,N_.STAT_EVENT,(at=>{at.stat===Gf.PROXY?ht(mn,`RPC '${e}' stream ${o} detected buffering proxy`):at.stat===Gf.NOPROXY&&ht(mn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(s){return new zA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="PersistentStream";class Vv{constructor(e,i,r,o,h,d,p,v){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Dv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(fa(i.toString()),fa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new dt(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht(n_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ht(n_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xS extends Vv{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=jA(this.serializer,e),r=(function(h){if(!("targetChange"in h))return Dt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Dt.min():d.readTime?Vi(d.readTime):Dt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=td(this.serializer),i.addTarget=(function(h,d){let p;const v=d.target;if(p=Kf(v)?{documents:HA(h,v)}:{query:GA(h,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yv(h,d.resumeToken);const _=$f(h,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Dt.min())>0){p.readTime=ic(h,d.snapshotVersion.toTimestamp());const _=$f(h,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,e);const r=FA(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=td(this.serializer),i.removeTarget=e,this.q_(i)}}class US extends Vv{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=qA(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=td(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>kA(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{}class zS extends LS{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,Jf(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new dt(W.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,Jf(i,r),o,d,p,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class PS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fa(i),this.aa=!1):ht("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="RemoteStore";class BS{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{kr(this)&&(ht(Br,"Restarting streams for network reachability change."),await(async function(v){const _=Vt(v);_.Ea.add(4),await _o(_),_.Ra.set("Unknown"),_.Ea.delete(4),await vc(_)})(this))}))})),this.Ra=new PS(r,o)}}async function vc(s){if(kr(s))for(const e of s.da)await e(!0)}async function _o(s){for(const e of s.da)await e(!1)}function Iv(s,e){const i=Vt(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Nd(i)?Md(i):Xs(i).O_()&&Id(i,e))}function Vd(s,e){const i=Vt(s),r=Xs(i);i.Ia.delete(e),r.O_()&&Mv(i,e),i.Ia.size===0&&(r.O_()?r.L_():kr(i)&&i.Ra.set("Unknown"))}function Id(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Dt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xs(s).Y_(e)}function Mv(s,e){s.Va.Ue(e),Xs(s).Z_(e)}function Md(s){s.Va=new OA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Xs(s).start(),s.Ra.ua()}function Nd(s){return kr(s)&&!Xs(s).x_()&&s.Ia.size>0}function kr(s){return Vt(s).Ea.size===0}function Nv(s){s.Va=void 0}async function jS(s){s.Ra.set("Online")}async function kS(s){s.Ia.forEach(((e,i)=>{Id(s,e)}))}async function qS(s,e){Nv(s),Nd(s)?(s.Ra.ha(e),Md(s)):s.Ra.set("Unknown")}async function HS(s,e,i){if(s.Ra.set("Online"),e instanceof pv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const p of h.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,e)}catch(r){ht(Br,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rc(s,r)}else if(e instanceof Qu?s.Va.Ze(e):e instanceof gv?s.Va.st(e):s.Va.tt(e),!i.isEqual(Dt.min()))try{const r=await Cv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const p=h.Va.Tt(d);return p.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(cn.EMPTY_BYTE_STRING,A.snapshotVersion)),Mv(h,v);const O=new qa(A.target,v,_,A.sequenceNumber);Id(h,O)})),h.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ht(Br,"Failed to raise snapshot:",r),await rc(s,r)}}async function rc(s,e,i){if(!Ys(e))throw e;s.Ea.add(1),await _o(s),s.Ra.set("Offline"),i||(i=()=>Cv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ht(Br,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vc(s)}))}function Ov(s,e){return e().catch((i=>rc(s,i,e)))}async function Ec(s){const e=Vt(s),i=Ja(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:pd;for(;GS(e);)try{const o=await RS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,QS(e,o)}catch(o){await rc(e,o)}xv(e)&&Uv(e)}function GS(s){return kr(s)&&s.Ta.length<10}function QS(s,e){s.Ta.push(e);const i=Ja(s);i.O_()&&i.X_&&i.ea(e.mutations)}function xv(s){return kr(s)&&!Ja(s).x_()&&s.Ta.length>0}function Uv(s){Ja(s).start()}async function FS(s){Ja(s).ra()}async function YS(s){const e=Ja(s);for(const i of s.Ta)e.ea(i.mutations)}async function XS(s,e,i){const r=s.Ta.shift(),o=Ad.from(r,e,i);await Ov(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ec(s)}async function KS(s,e){e&&Ja(s).X_&&await(async function(r,o){if((function(d){return IA(d)&&d!==W.ABORTED})(o.code)){const h=r.Ta.shift();Ja(r).B_(),await Ov(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Ec(r)}})(s,e),xv(s)&&Uv(s)}async function i_(s,e){const i=Vt(s);i.asyncQueue.verifyOperationInProgress(),ht(Br,"RemoteStore received new credentials");const r=kr(i);i.Ea.add(3),await _o(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await vc(i)}async function ZS(s,e){const i=Vt(s);e?(i.Ea.delete(2),await vc(i)):e||(i.Ea.add(2),await _o(i),i.Ra.set("Unknown"))}function Xs(s){return s.ma||(s.ma=(function(i,r,o){const h=Vt(i);return h.sa(),new xS(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:jS.bind(null,s),t_:kS.bind(null,s),r_:qS.bind(null,s),H_:HS.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Nd(s)?Md(s):s.Ra.set("Unknown")):(await s.ma.stop(),Nv(s))}))),s.ma}function Ja(s){return s.fa||(s.fa=(function(i,r,o){const h=Vt(i);return h.sa(),new US(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:FS.bind(null,s),r_:KS.bind(null,s),ta:YS.bind(null,s),na:XS.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ec(s)):(await s.fa.stop(),s.Ta.length>0&&(ht(Br,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,p=new Od(e,i,d,o,h);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xd(s,e){if(fa("AsyncQueue",`${e}: ${s}`),Ys(s))return new dt(W.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||vt.comparator(i.key,r.key):(i,r)=>vt.comparator(i.key,r.key),this.keyedMap=$l(),this.sortedSet=new Te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.ga=new Te(vt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):bt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class qs{constructor(e,i,r,o,h,d,p,v,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new qs(e,i,Us.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class JS{constructor(){this.queries=r_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=Vt(i),h=o.queries;o.queries=r_(),h.forEach(((d,p)=>{for(const v of p.Sa)v.onError(r)}))})(this,new dt(W.ABORTED,"Firestore shutting down"))}}function r_(){return new jr((s=>ev(s)),dc)}async function Lv(s,e){const i=Vt(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new $S,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=xd(d,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Ud(i)}async function zv(s,e){const i=Vt(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function WS(s,e){const i=Vt(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const p of d.Sa)p.Fa(o)&&(r=!0);d.wa=o}}r&&Ud(i)}function tb(s,e,i){const r=Vt(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function Ud(s){s.Ca.forEach((e=>{e.next()}))}var id,s_;(s_=id||(id={})).Ma="default",s_.Cache="cache";class Pv{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this.key=e}}class jv{constructor(e){this.key=e}}class eb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=nv(e),this.tu=new Us(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new a_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((A,O)=>{const N=o.get(A),Y=mc(this.query,O)?O:null,tt=!!N&&this.mutatedKeys.has(N.key),ct=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let at=!1;N&&Y?N.data.isEqual(Y.data)?tt!==ct&&(r.track({type:3,doc:Y}),at=!0):this.su(N,Y)||(r.track({type:2,doc:Y}),at=!0,(v&&this.eu(Y,v)>0||_&&this.eu(Y,_)<0)&&(p=!0)):!N&&Y?(r.track({type:0,doc:Y}),at=!0):N&&!Y&&(r.track({type:1,doc:N}),at=!0,(v||_)&&(p=!0)),at&&(Y?(d=d.add(Y),h=ct?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,O)=>(function(Y,tt){const ct=at=>{switch(at){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:at})}};return ct(Y)-ct(tt)})(A.type,O.type)||this.eu(A.doc,O.doc))),this.ou(r),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new qs(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new a_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new jv(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new Bv(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ld="SyncEngine";class nb{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class ib{constructor(e){this.key=e,this.hu=!1}}class ab{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new jr((p=>ev(p)),dc),this.Iu=new Map,this.Eu=new Set,this.du=new Te(vt.comparator),this.Au=new Map,this.Ru=new Rd,this.Vu={},this.mu=new Map,this.fu=ks.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rb(s,e,i=!0){const r=Fv(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await kv(r,e,i,!0),o}async function sb(s,e){const i=Fv(s);await kv(i,e,!0,!1)}async function kv(s,e,i,r){const o=await wS(s.localStore,Ci(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let p;return r&&(p=await lb(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Iv(s.remoteStore,o),p}async function lb(s,e,i,r,o){s.pu=(O,N,Y)=>(async function(ct,at,Nt,At){let pt=at.view.ru(Nt);pt.Cs&&(pt=await Jy(ct.localStore,at.query,!1).then((({documents:U})=>at.view.ru(U,pt))));const zt=At&&At.targetChanges.get(at.targetId),_t=At&&At.targetMismatches.get(at.targetId)!=null,Ht=at.view.applyChanges(pt,ct.isPrimaryClient,zt,_t);return o_(ct,at.targetId,Ht.au),Ht.snapshot})(s,O,N,Y);const h=await Jy(s.localStore,e,!0),d=new eb(e,h.Qs),p=d.ru(h.documents),v=yo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(p,s.isPrimaryClient,v);o_(s,i,_.au);const A=new nb(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function ob(s,e,i){const r=Vt(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!dc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await ed(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Vd(r.remoteStore,o.targetId),ad(r,o.targetId)})).catch(Fs)):(ad(r,o.targetId),await ed(r.localStore,o.targetId,!0))}async function ub(s,e){const i=Vt(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Vd(i.remoteStore,r.targetId))}async function cb(s,e,i){const r=yb(s);try{const o=await(function(d,p){const v=Vt(d),_=_e.now(),A=p.reduce(((Y,tt)=>Y.add(tt.key)),qt());let O,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(Y=>{let tt=da(),ct=qt();return v.Ns.getEntries(Y,A).next((at=>{tt=at,tt.forEach(((Nt,At)=>{At.isValidDocument()||(ct=ct.add(Nt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Y,tt))).next((at=>{O=at;const Nt=[];for(const At of p){const pt=RA(At,O.get(At.key).overlayedDocument);pt!=null&&Nt.push(new er(At.key,pt,X_(pt.value.mapValue),Di.exists(!0)))}return v.mutationQueue.addMutationBatch(Y,_,Nt,p)})).next((at=>{N=at;const Nt=at.applyToLocalDocumentSet(O,ct);return v.documentOverlayCache.saveOverlays(Y,at.batchId,Nt)}))})).then((()=>({batchId:N.batchId,changes:av(O)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new Te(kt)),_=_.insert(p,v),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await vo(r,o.changes),await Ec(r.remoteStore)}catch(o){const h=xd(o,"Failed to persist write");i.reject(h)}}async function qv(s,e){const i=Vt(s);try{const r=await SS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?te(d.hu,14607):o.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await vo(i,r,e)}catch(r){await Fs(r)}}function l_(s,e,i){const r=Vt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Vt(d);v.onlineState=p;let _=!1;v.queries.forEach(((A,O)=>{for(const N of O.Sa)N.va(p)&&(_=!0)})),_&&Ud(v)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hb(s,e,i){const r=Vt(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new Te(vt.comparator);d=d.insert(h,pn.newNoDocument(h,Dt.min()));const p=qt().add(h),v=new yc(Dt.min(),new Map,new Te(kt),d,p);await qv(r,v),r.du=r.du.remove(h),r.Au.delete(e),zd(r)}else await ed(r.localStore,e,!1).then((()=>ad(r,e,i))).catch(Fs)}async function fb(s,e){const i=Vt(s),r=e.batch.batchId;try{const o=await AS(i.localStore,e);Gv(i,r,null),Hv(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await vo(i,o)}catch(o){await Fs(o)}}async function db(s,e,i){const r=Vt(s);try{const o=await(function(d,p){const v=Vt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,p).next((O=>(te(O!==null,37113),A=O.keys(),v.mutationQueue.removeMutationBatch(_,O)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(r.localStore,e);Gv(r,e,i),Hv(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await vo(r,o)}catch(o){await Fs(o)}}function Hv(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function Gv(s,e,i){const r=Vt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ad(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||Qv(s,r)}))}function Qv(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Vd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),zd(s))}function o_(s,e,i){for(const r of i)r instanceof Bv?(s.Ru.addReference(r.key,e),mb(s,r)):r instanceof jv?(ht(Ld,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||Qv(s,r.key)):bt(19791,{wu:r})}function mb(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ht(Ld,"New document in limbo: "+i),s.Eu.add(r),zd(s))}function zd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new vt(ye.fromString(e)),r=s.fu.next();s.Au.set(r,new ib(i)),s.du=s.du.insert(i,r),Iv(s.remoteStore,new qa(Ci(fc(i.path)),r,"TargetPurposeLimboResolution",oc.ce))}}async function vo(s,e,i){const r=Vt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,v)=>{d.push(r.pu(v,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;r.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){o.push(_);const A=Cd.As(v.targetId,_);h.push(A)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(v,_){const A=Vt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(O=>$.forEach(_,(N=>$.forEach(N.Es,(Y=>A.persistence.referenceDelegate.addReference(O,N.targetId,Y))).next((()=>$.forEach(N.ds,(Y=>A.persistence.referenceDelegate.removeReference(O,N.targetId,Y)))))))))}catch(O){if(!Ys(O))throw O;ht(Dd,"Failed to update sequence numbers: "+O)}for(const O of _){const N=O.targetId;if(!O.fromCache){const Y=A.Ms.get(N),tt=Y.snapshotVersion,ct=Y.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(N,ct)}}})(r.localStore,h))}async function gb(s,e){const i=Vt(s);if(!i.currentUser.isEqual(e)){ht(Ld,"User change. New user:",e.toKey());const r=await wv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((p=>{p.forEach((v=>{v.reject(new dt(W.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vo(i,r.Ls)}}function pb(s,e){const i=Vt(s),r=i.Au.get(e);if(r&&r.hu)return qt().add(r.key);{let o=qt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function Fv(s){const e=Vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=qv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hb.bind(null,e),e.Pu.H_=WS.bind(null,e.eventManager),e.Pu.yu=tb.bind(null,e.eventManager),e}function yb(s){const e=Vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=db.bind(null,e),e}class sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=_c(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return TS(this.persistence,new _S,e.initialUser,this.serializer)}Cu(e){return new Rv(wd.mi,this.serializer)}Du(e){return new DS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sc.provider={build:()=>new sc};class _b extends sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){te(this.persistence.referenceDelegate instanceof ac,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new iS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Rv((r=>ac.mi(r,i)),this.serializer)}}class rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>l_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=gb.bind(null,this.syncEngine),await ZS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JS})()}createDatastore(e){const i=_c(e.databaseInfo.databaseId),r=(function(h){return new OS(h)})(e.databaseInfo);return(function(h,d,p,v){return new zS(h,d,p,v)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,p){return new BS(r,o,h,d,p)})(this.localStore,this.datastore,e.asyncQueue,(i=>l_(this.syncEngine,i,0)),(function(){return e_.v()?new e_:new VS})())}createSyncEngine(e,i){return(function(o,h,d,p,v,_,A){const O=new ab(o,h,d,p,v,_);return A&&(O.gu=!0),O})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Vt(i);ht(Br,"RemoteStore shutting down."),r.Ea.add(5),await _o(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rd.provider={build:()=>new rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="FirestoreClient";class vb{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=md.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ht(Wa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ht(Wa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=xd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pf(s,e){s.asyncQueue.verifyOperationInProgress(),ht(Wa,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await wv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function u_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Eb(s);ht(Wa,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>i_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>i_(e.remoteStore,o))),s._onlineComponents=e}async function Eb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ht(Wa,"Using user provided OfflineComponentProvider");try{await Pf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;zs("Error using user provided cache. Falling back to memory cache: "+i),await Pf(s,new sc)}}else ht(Wa,"Using default OfflineComponentProvider"),await Pf(s,new _b(void 0));return s._offlineComponents}async function Xv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ht(Wa,"Using user provided OnlineComponentProvider"),await u_(s,s._uninitializedComponentsProvider._online)):(ht(Wa,"Using default OnlineComponentProvider"),await u_(s,new rd))),s._onlineComponents}function Tb(s){return Xv(s).then((e=>e.syncEngine))}async function sd(s){const e=await Xv(s),i=e.eventManager;return i.onListen=rb.bind(null,e.syncEngine),i.onUnlisten=ob.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=sb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=ub.bind(null,e.syncEngine),i}function Ab(s,e,i={}){const r=new Fa;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,p,v,_){const A=new Yv({next:N=>{A.Nu(),d.enqueueAndForget((()=>zv(h,O)));const Y=N.docs.has(p);!Y&&N.fromCache?_.reject(new dt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Y&&N.fromCache&&v&&v.source==="server"?_.reject(new dt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),O=new Pv(fc(p.path),A,{includeMetadataChanges:!0,qa:!0});return Lv(h,O)})(await sd(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="firestore.googleapis.com",h_=!0;class f_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new dt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Zv,this.ssl=h_}else this.host=e.host,this.ssl=e.ssl??h_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eS)throw new dt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kv(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new dt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new C1;switch(r.type){case"firstParty":return new M1(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=c_.get(i);r&&(ht("ComponentProvider","Removing Datastore"),c_.delete(i),r.terminate())})(this),Promise.resolve()}}function Sb(s,e,i,r={}){s=ua(s,Tc);const o=hd(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${i}`;o&&(tT(`https://${p}`),aT("Firestore",!0)),h.host!==Zv&&h.host!==p&&zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:p,ssl:o,emulatorOptions:r};if(!Xu(v,d)&&(s._setSettings(v),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=gn.MOCK_USER;else{_=eT(r.mockUserToken,s._app?.options.projectId);const O=r.mockUserToken.sub||r.mockUserToken.user_id;if(!O)throw new dt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new gn(O)}s._authCredentials=new D1(new L_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ac(this.firestore,e,this._query)}}class Pe{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ya(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pe(this.firestore,e,this._key)}toJSON(){return{type:Pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(go(i,Pe._jsonSchema))return new Pe(e,r||null,new vt(ye.fromString(i.referencePath)))}}Pe._jsonSchemaVersion="firestore/documentReference/1.0",Pe._jsonSchema={type:ze("string",Pe._jsonSchemaVersion),referencePath:ze("string")};class Ya extends Ac{constructor(e,i,r){super(e,i,fc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pe(this.firestore,null,new vt(e))}withConverter(e){return new Ya(this.firestore,e,this._path)}}function d_(s,e,...i){if(s=ca(s),z_("collection","path",e),s instanceof Tc){const r=ye.fromString(e,...i);return wy(r),new Ya(s,null,r)}{if(!(s instanceof Pe||s instanceof Ya))throw new dt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ye.fromString(e,...i));return wy(r),new Ya(s.firestore,null,r)}}function ld(s,e,...i){if(s=ca(s),arguments.length===1&&(e=md.newId()),z_("doc","path",e),s instanceof Tc){const r=ye.fromString(e,...i);return Ry(r),new Pe(s,null,new vt(r))}{if(!(s instanceof Pe||s instanceof Ya))throw new dt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ye.fromString(e,...i));return Ry(r),new Pe(s.firestore,s instanceof Ya?s.converter:null,new vt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="AsyncQueue";class g_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Dv(this,"async_queue_retry"),this._c=()=>{const r=zf();r&&ht(m_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=zf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=zf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ys(e))throw e;ht(m_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fa("INTERNAL UNHANDLED ERROR: ",p_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Od.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:p_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function p_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Hs extends Tc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new g_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new g_(e),this._firestoreClient=void 0,await e}}}function bb(s,e){const i=typeof s=="object"?s:m1(),r=typeof s=="string"?s:Ju,o=u1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=JE("firestore");h&&Sb(o,...h)}return o}function Pd(s){if(s._terminated)throw new dt(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Rb(s),s._firestoreClient}function Rb(s){const e=s._freezeSettings(),i=(function(o,h,d,p){return new X1(o,h,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Kv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new vb(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(cn.fromBase64String(e))}catch(i){throw new dt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(go(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:ze("string",ti._jsonSchemaVersion),bytes:ze("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(go(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:ze("string",Ii._jsonSchemaVersion),latitude:ze("number"),longitude:ze("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(go(e,Mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Mi(e.vectorValues);throw new dt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:ze("string",Mi._jsonSchemaVersion),vectorValues:ze("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=/^__.*__$/;class Cb{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new er(e,this.data,this.fieldMask,i,this.fieldTransforms):new po(e,this.data,i,this.fieldTransforms)}}class $v{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new er(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Jv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:s})}}class Bd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Bd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jv(this.Ac)&&wb.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Db{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||_c(e)}Cc(e,i,r,o=!1){return new Bd({Ac:e,methodName:i,Dc:r,path:un.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wv(s){const e=s._freezeSettings(),i=_c(s._databaseId);return new Db(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Vb(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);kd("Data must be an object, but it was:",d,r);const p=t0(r,d);let v,_;if(h.merge)v=new zn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const O of h.mergeFields){const N=od(e,O,i);if(!d.contains(N))throw new dt(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);n0(A,N)||A.push(N)}v=new zn(A),_=d.fieldTransforms.filter((O=>v.covers(O.field)))}else v=null,_=d.fieldTransforms;return new Cb(new wn(p),v,_)}class Rc extends bc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Rc}}class jd extends bc{_toFieldTransform(e){return new TA(e.path,new ho)}isEqual(e){return e instanceof jd}}function Ib(s,e,i,r){const o=s.Cc(1,e,i);kd("Data must be an object, but it was:",o,r);const h=[],d=wn.empty();tr(r,((v,_)=>{const A=qd(e,v,i);_=ca(_);const O=o.yc(A);if(_ instanceof Rc)h.push(A);else{const N=wc(_,O);N!=null&&(h.push(A),d.set(A,N))}}));const p=new zn(h);return new $v(d,p,o.fieldTransforms)}function Mb(s,e,i,r,o,h){const d=s.Cc(1,e,i),p=[od(e,r,i)],v=[o];if(h.length%2!=0)throw new dt(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)p.push(od(e,h[N])),v.push(h[N+1]);const _=[],A=wn.empty();for(let N=p.length-1;N>=0;--N)if(!n0(_,p[N])){const Y=p[N];let tt=v[N];tt=ca(tt);const ct=d.yc(Y);if(tt instanceof Rc)_.push(Y);else{const at=wc(tt,ct);at!=null&&(_.push(Y),A.set(Y,at))}}const O=new zn(_);return new $v(A,O,d.fieldTransforms)}function wc(s,e){if(e0(s=ca(s)))return kd("Unsupported field value:",e,s),t0(s,e);if(s instanceof bc)return(function(r,o){if(!Jv(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const p of r){let v=wc(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=ca(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _A(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=_e.fromDate(r);return{timestampValue:ic(o.serializer,h)}}if(r instanceof _e){const h=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ic(o.serializer,h)}}if(r instanceof Ii)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ti)return{bytesValue:yv(o.serializer,r._byteString)};if(r instanceof Pe){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bd(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Mi)return(function(d,p){return{mapValue:{fields:{[F_]:{stringValue:Y_},[Wu]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Td(p.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${gd(r)}`)})(s,e)}function t0(s,e){const i={};return j_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tr(s,((r,o)=>{const h=wc(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function e0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof _e||s instanceof Ii||s instanceof ti||s instanceof Pe||s instanceof bc||s instanceof Mi)}function kd(s,e,i){if(!e0(i)||!P_(i)){const r=gd(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function od(s,e,i){if((e=ca(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return qd(s,e);throw lc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Nb=new RegExp("[~\\*/\\[\\]]");function qd(s,e,i){if(e.search(Nb)>=0)throw lc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sc(...e.split("."))._internalPath}catch{throw lc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function lc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${r}`),d&&(v+=` in document ${o}`),v+=")"),new dt(W.INVALID_ARGUMENT,p+s+v)}function n0(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ob(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(a0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ob extends i0{data(){return super.data()}}function a0(s,e){return typeof e=="string"?qd(s,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new dt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ub{convertValue(e,i="none"){switch($a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Za(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return tr(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[Wu].arrayValue?.values?.map((r=>Ie(r.doubleValue)));return new Mi(i)}convertGeoPoint(e){return new Ii(Ie(e.latitude),Ie(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=cc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(oo(e));default:return null}}convertTimestamp(e){const i=Ka(e);return new _e(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=ye.fromString(e);te(Sv(r),9688,{name:e});const o=new uo(r.get(1),r.get(3)),h=new vt(r.popFirst(5));return o.isEqual(i)||fa(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Wl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zr extends i0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(a0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=zr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}zr._jsonSchemaVersion="firestore/documentSnapshot/1.0",zr._jsonSchema={type:ze("string",zr._jsonSchemaVersion),bundleSource:ze("string","DocumentSnapshot"),bundleName:ze("string"),bundle:ze("string")};class Fu extends zr{data(e={}){return super.data(e)}}class Ls{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Wl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Fu(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Fu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>h||p.type!==3)).map((p=>{const v=new Fu(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Wl(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:zb(p.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ls._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=md.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(s){s=ua(s,Pe);const e=ua(s.firestore,Hs);return Ab(Pd(e),s._key).then((i=>l0(e,s,i)))}Ls._jsonSchemaVersion="firestore/querySnapshot/1.0",Ls._jsonSchema={type:ze("string",Ls._jsonSchemaVersion),bundleSource:ze("string","QuerySnapshot"),bundleName:ze("string"),bundle:ze("string")};class r0 extends Ub{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Pe(this.firestore,null,i)}}function Bb(s,e,i,...r){s=ua(s,Pe);const o=ua(s.firestore,Hs),h=Wv(o);let d;return d=typeof(e=ca(e))=="string"||e instanceof Sc?Mb(h,"updateDoc",s._key,e,i,r):Ib(h,"updateDoc",s._key,e),s0(o,[d.toMutation(s._key,Di.exists(!0))])}function jb(s,e){const i=ua(s.firestore,Hs),r=ld(s),o=Lb(s.converter,e);return s0(i,[Vb(Wv(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,Di.exists(!1))]).then((()=>r))}function kb(s,...e){s=ca(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||y_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(y_(e[r])){const v=e[r];e[r]=v.next?.bind(v),e[r+1]=v.error?.bind(v),e[r+2]=v.complete?.bind(v)}let h,d,p;if(s instanceof Pe)d=ua(s.firestore,Hs),p=fc(s._key.path),h={next:v=>{e[r]&&e[r](l0(d,s,v))},error:e[r+1],complete:e[r+2]};else{const v=ua(s,Ac);d=ua(v.firestore,Hs),p=v._query;const _=new r0(d);h={next:A=>{e[r]&&e[r](new Ls(d,_,v,A))},error:e[r+1],complete:e[r+2]},xb(s._query)}return(function(_,A,O,N){const Y=new Yv(N),tt=new Pv(A,Y,O);return _.asyncQueue.enqueueAndForget((async()=>Lv(await sd(_),tt))),()=>{Y.Nu(),_.asyncQueue.enqueueAndForget((async()=>zv(await sd(_),tt)))}})(Pd(d),p,o,h)}function s0(s,e){return(function(r,o){const h=new Fa;return r.asyncQueue.enqueueAndForget((async()=>cb(await Tb(r),o,h))),h.promise})(Pd(s),e)}function l0(s,e,i){const r=i.docs.get(e._key),o=new r0(s);return new zr(s,o,e._key,r,new Wl(i.hasPendingWrites,i.fromCache),e.converter)}function __(){return new jd("serverTimestamp")}(function(e,i=!0){(function(o){Qs=o})(d1),Zu(new ro("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),p=new Hs(new V1(r.getProvider("auth-internal")),new N1(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new dt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uo(_.options.projectId,A)})(d,o),d);return h={useFetchStreams:i,...h},p._setSettings(h),p}),"PUBLIC").setMultipleInstances(!0)),xs(Ty,Ay,e),xs(Ty,Ay,"esm2020")})();const qb={apiKey:"AIzaSyDs4Mz4K1dqrSRMvpvMlqfumECTrLhwLCA",authDomain:"sally-diagrams.firebaseapp.com",projectId:"sally-diagrams",storageBucket:"sally-diagrams.firebasestorage.app",messagingSenderId:"518066840629",appId:"1:518066840629:web:c0047bb916554d1aef3d7c",measurementId:"G-PNX0D1LRBR"},Hb=w_(qb),ju=bb(Hb);function Gb(){const s=me.useRef(null),[e,i]=me.useState({w:1e3,h:650}),r=Math.max(1,Math.min(2,window.devicePixelRatio||1)),o={bg:"#F7F7F5",surface:"#FFFFFF",border:"#E5E7EB",text:"#111827",sub:"#6B7280",primary:"#EF4E3A",primaryDark:"#C24130"},[h,d]=me.useState(()=>{try{return JSON.parse(localStorage.getItem("layout:__theme"))||o}catch{return o}});me.useEffect(()=>{localStorage.setItem("layout:__theme",JSON.stringify(h))},[h]);const[p,v]=me.useState(()=>localStorage.getItem("layout:__logo")||""),[_,A]=me.useState(()=>localStorage.getItem("layout:__logo_designer")||"");function O(S,x){const H=URL.createObjectURL(S),X=new Image;X.onload=()=>{const et=document.createElement("canvas");et.width=X.width,et.height=X.height;const nt=et.getContext("2d");nt.imageSmoothingEnabled=!0,nt.imageSmoothingQuality="high",nt.drawImage(X,0,0),x(et.toDataURL("image/png"))},X.src=H}function N(S){const x=S.target.files?.[0];x&&O(x,H=>{v(H),localStorage.setItem("layout:__logo",H)})}function Y(S){const x=S.target.files?.[0];x&&O(x,H=>{A(H),localStorage.setItem("layout:__logo_designer",H)})}const[tt,ct]=me.useState(null),[at,Nt]=me.useState(null),[At,pt]=me.useState(1),[zt,_t]=me.useState([]),[Ht,U]=me.useState(1),[b,w]=me.useState(null),D=me.useMemo(()=>zt.find(S=>S.id===b)||null,[zt,b]),[I,L]=me.useState(null),[C,Be]=me.useState(!1),[ge,Q]=me.useState(!0),lt=10,[mt,Gt]=me.useState(""),[V,J]=me.useState(()=>ot());function ot(){try{return Object.keys(localStorage).filter(S=>S.startsWith("layout:")&&!S.includes("__")).sort()}catch{return[]}}function rt(){J(ot())}function yt(){const S=(mt||"Untitled").trim(),x={items:zt,scale:At,bgDataUrl:at,theme:h,logos:{main:p,designer:_}};try{localStorage.setItem(`layout:${S}`,JSON.stringify(x)),rt()}catch(H){alert("Local save failed: "+(H?.message||H))}}function xt(S){try{const x=localStorage.getItem(S);if(!x)return;const H=JSON.parse(x);_t(H.items||[]),pt(H.scale||1),H.bgDataUrl&&ma(H.bgDataUrl),H.theme&&d(H.theme),H.logos?.main&&v(H.logos.main),H.logos?.designer&&A(H.logos.designer)}catch(x){alert("Local load failed: "+(x?.message||x))}}function Rt(S){try{localStorage.removeItem(S),rt()}catch(x){alert("Delete failed: "+(x?.message||x))}}const[Re,ae]=me.useState([]),[hn,ei]=me.useState(null);me.useEffect(()=>{const S=kb(d_(ju,"layouts"),x=>{const H=[];x.forEach(X=>H.push({id:X.id,...X.data()})),H.sort((X,et)=>(et.updatedAt?.seconds||0)-(X.updatedAt?.seconds||0)),ae(H)});return()=>S()},[]);async function ni(){const S=(mt||"Untitled").trim(),x=oi(S);try{const H=await jb(d_(ju,"layouts"),x);ei(H.id),alert("Saved to gallery ")}catch(H){alert("Cloud save failed: "+(H?.message||H))}}async function xi(){if(!hn){alert("No cloud layout selected. Use Save as New first.");return}const S=oi(void 0,!0);try{await Bb(ld(ju,"layouts",hn),S),alert("Updated gallery layout ")}catch(x){alert("Cloud update failed: "+(x?.message||x))}}function oi(S,x=!1){const H=at&&at.length>2e6?null:at,X={...S?{name:S}:{},items:zt,scale:At,bgDataUrl:H,theme:h,logos:{main:p||null,designer:_||null},updatedAt:__()};return x||(X.createdAt=__()),X}async function Ui(S){try{const x=await Pb(ld(ju,"layouts",S));if(!x.exists())return;const H=x.data();ei(S),Gt(H.name||""),_t(H.items||[]),pt(H.scale||1),H.bgDataUrl&&ma(H.bgDataUrl),H.theme&&d(H.theme),H.logos?.main&&v(H.logos.main),H.logos?.designer&&A(H.logos.designer)}catch(x){alert("Load failed: "+(x?.message||x))}}function nr(S){const x=S.target.files[0];if(!x)return;const H=URL.createObjectURL(x),X=new Image;X.onload=()=>{const et=document.createElement("canvas");et.width=X.width,et.height=X.height;const nt=et.getContext("2d");nt.imageSmoothingEnabled=!0,nt.imageSmoothingQuality="high",nt.drawImage(X,0,0);const ut=et.toDataURL("image/png");Nt(ut),ma(ut)},X.src=H}async function qr(){if(window.pdfjsLib)return window.pdfjsLib;await ji("https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.6.82/pdf.min.js");const S=window.pdfjsLib;if(!S)throw new Error("pdfjsLib failed to load");return S.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.6.82/pdf.worker.min.js",S}async function En(S){const x=S.target.files[0];if(x)try{const H=await qr(),X=new Uint8Array(await x.arrayBuffer()),nt=await(await H.getDocument({data:X}).promise).getPage(1),ut=nt.getViewport({scale:2.5}),wt=document.createElement("canvas");wt.width=ut.width,wt.height=ut.height;const St=wt.getContext("2d");St.imageSmoothingEnabled=!0,St.imageSmoothingQuality="high",await nt.render({canvasContext:St,viewport:ut}).promise;const Ut=wt.toDataURL("image/png");Nt(Ut),ma(Ut)}catch(H){alert("PDF render failed: "+(H?.message||H))}}function ma(S){const x=new Image;x.onload=()=>{ct(x),ir(x.width,x.height),pt(1)},x.src=S}function ir(S,x){const et=Math.min(1200/S,800/x,1),nt=Math.round(S*et),ut=Math.round(x*et);i({w:nt,h:ut})}me.useEffect(()=>{const S=s.current;if(!S)return;S.width=Math.round(e.w*r),S.height=Math.round(e.h*r),S.style.width=e.w+"px",S.style.height=e.h+"px";const x=S.getContext("2d");x.setTransform(r,0,0,r,0,0),x.imageSmoothingEnabled=!0,x.imageSmoothingQuality="high"},[e.w,e.h,r]),me.useEffect(()=>{const S=s.current;if(!S)return;const x=S.getContext("2d"),H=e.w,X=e.h;x.clearRect(0,0,H,X),x.fillStyle="#F8FAFC",x.fillRect(0,0,H,X),tt?(x.save(),x.drawImage(tt,0,0,tt.width,tt.height,0,0,H,X),x.restore()):(x.fillStyle="#9AA0A6",x.font="15px Inter, system-ui, Arial",x.textAlign="center",x.fillText("Upload an image or PDF to start",H/2,X/2)),C&&zi(x,H,X,20,h.border),zt.forEach(et=>Ks(x,et,et.id===b,h)),p&&Li(x,p,12,12,36),_&&Li(x,_,H-12,X-12,36,{anchor:"bottom-right"})},[tt,zt,b,C,h,e,p,_]);function Li(S,x,H,X,et,nt={}){const ut=new Image;ut.onload=()=>{const wt=et/ut.height,St=ut.width*wt,Ut=et,Mt=nt.anchor==="bottom-right"?H-St:H,fe=nt.anchor==="bottom-right"?X-Ut:X;S.save(),S.globalAlpha=.95,S.drawImage(ut,Mt,fe,St,Ut),S.restore()},ut.src=x}function zi(S,x,H,X,et){S.save(),S.strokeStyle=et,S.globalAlpha=.35,S.lineWidth=1;for(let nt=0;nt<=x;nt+=X)S.beginPath(),S.moveTo(nt,0),S.lineTo(nt,H),S.stroke();for(let nt=0;nt<=H;nt+=X)S.beginPath(),S.moveTo(0,nt),S.lineTo(x,nt),S.stroke();S.restore()}function Ks(S,x,H,X){if(S.save(),S.lineWidth=2,x.type==="rect"){const et=(x.angle||0)*Math.PI/180;S.save(),S.translate(x.x+x.width/2,x.y+x.height/2),S.rotate(et),S.fillStyle=H?Tn(X.primary,.25):Tn(X.primary,.18),S.strokeStyle=X.primary,S.beginPath(),S.rect(-x.width/2,-x.height/2,x.width,x.height),S.fill(),S.stroke(),S.fillStyle="#0B1F33",S.font="14px Inter, system-ui, Arial",S.textAlign="center",S.textBaseline="middle",S.fillText(x.label??"",0,0),S.restore()}else if(x.type==="round"){const et=x.x+x.width/2,nt=x.y+x.height/2,ut=Math.min(x.width,x.height)/2;S.fillStyle=H?Tn(X.primary,.25):Tn(X.primary,.18),S.strokeStyle=X.primary,S.beginPath(),S.arc(et,nt,ut,0,Math.PI*2),S.fill(),S.stroke();const wt=Math.max(0,x.chairs|0);if(wt>0){const St=Math.max(6,Math.min(12,ut*.14)),Ut=x.chairGap??2,Mt=ut+St+Ut;for(let fe=0;fe<wt;fe++){const ue=fe/wt*Math.PI*2-Math.PI/2,ee=et+Math.cos(ue)*Mt,je=nt+Math.sin(ue)*Mt;S.beginPath(),S.fillStyle="#36485c",S.arc(ee,je,St,0,Math.PI*2),S.fill()}}S.fillStyle="#0B1F33",S.font="14px Inter, system-ui, Arial",S.textAlign="center",S.textBaseline="middle",S.fillText(x.label||"Round",et,nt)}else x.type==="label"&&(S.fillStyle=h.text,S.font=`${x.size||16}px Inter, system-ui, Arial`,S.textAlign="left",S.textBaseline="top",S.fillText(x.text||"Label",x.x,x.y));H&&x.type!=="label"&&ga(S,x,X),S.restore()}function ga(S,x,H){const X=pa(x);if(S.strokeStyle=H.text,S.setLineDash([4,4]),S.lineWidth=1.5,x.type==="rect"){const et=(x.angle||0)*Math.PI/180;S.save(),S.translate(x.x+x.width/2,x.y+x.height/2),S.rotate(et),S.strokeRect(-x.width/2,-x.height/2,x.width,x.height),S.restore()}else{const et=x.x+x.width/2,nt=x.y+x.height/2,ut=Math.min(x.width,x.height)/2;S.beginPath(),S.arc(et,nt,ut,0,Math.PI*2),S.stroke()}S.setLineDash([]),X.forEach(et=>{et.name==="rot"?(S.beginPath(),S.fillStyle=H.primary,S.arc(et.x,et.y,6,0,Math.PI*2),S.fill()):(S.fillStyle="#fff",S.strokeStyle=H.primary,S.lineWidth=1.5,S.beginPath(),S.rect(et.x-4,et.y-4,8,8),S.fill(),S.stroke())})}function pa(S){const x=S.x+S.width/2,H=S.y+S.height/2,X=S.width,et=S.height,nt=(S.angle||0)*Math.PI/180,ut=Math.cos(nt),wt=Math.sin(nt);function St(ue,ee){return{x:x+ue*ut-ee*wt,y:H+ue*wt+ee*ut}}const Ut=X/2,Mt=et/2,fe=[{name:"nw",...St(-Ut,-Mt)},{name:"n",...St(0,-Mt)},{name:"ne",...St(Ut,-Mt)},{name:"e",...St(Ut,0)},{name:"se",...St(Ut,Mt)},{name:"s",...St(0,Mt)},{name:"sw",...St(-Ut,Mt)},{name:"w",...St(-Ut,0)}];if(S.type==="rect"){const ue=St(0,-Mt-20);fe.push({name:"rot",x:ue.x,y:ue.y})}return fe}function Hr(S,x,H,X){if(x&&x.type!=="label"){const et=pa(x);for(const nt of et)if(nt.name==="rot"){if(Math.hypot(H-nt.x,X-nt.y)<=8)return{type:"handle",handle:"rot",id:x.id}}else if(Math.abs(H-nt.x)<=6&&Math.abs(X-nt.y)<=6)return{type:"handle",handle:nt.name,id:x.id}}for(let et=S.length-1;et>=0;et--){const nt=S[et];if(nt.type==="rect"){const ut=-((nt.angle||0)*Math.PI/180),wt=nt.x+nt.width/2,St=nt.y+nt.height/2,Ut=H-wt,Mt=X-St,fe=Ut*Math.cos(ut)-Mt*Math.sin(ut),ue=Ut*Math.sin(ut)+Mt*Math.cos(ut);if(fe>=-nt.width/2&&fe<=nt.width/2&&ue>=-nt.height/2&&ue<=nt.height/2)return{type:"item",id:nt.id}}else if(nt.type==="round"){const ut=nt.x+nt.width/2,wt=nt.y+nt.height/2,St=Math.min(nt.width,nt.height)/2;if((H-ut)**2+(X-wt)**2<=St**2)return{type:"item",id:nt.id}}else if(nt.type==="label"){const ut=nt.size||16,wt=(nt.text||"Label").length*(ut*.6)+8,St=ut+8;if(H>=nt.x-4&&H<=nt.x-4+wt&&X>=nt.y-4&&X<=nt.y-4+St)return{type:"item",id:nt.id}}}return null}const pe=(S,x)=>Hr(zt,D,S,x);function Zt(S,x=ge){const H=s.current.getBoundingClientRect();let X=S.clientX-H.left,et=S.clientY-H.top;return x&&(X=Math.round(X/lt)*lt,et=Math.round(et/lt)*lt),{mx:X,my:et}}const en=me.useRef(null),Me=me.useRef(null);function Pi(S,x){Me.current={id:S,patchProducer:x},!en.current&&(en.current=requestAnimationFrame(()=>{const H=Me.current;en.current=null,Me.current=null,H&&_t(X=>X.map(et=>et.id!==H.id?et:hi(et,H.patchProducer(et))))}))}function Zs(S){const{mx:x,my:H}=Zt(S),X=pe(x,H);if(X?.type==="handle"){w(X.id);const et=Pn(X.id);if(X.handle==="rot"){const nt=et.x+et.width/2,ut=et.y+et.height/2;L({mode:"rotate",id:X.id,center:{cx:nt,cy:ut},shift:S.shiftKey})}else L({mode:"resize",id:X.id,handle:X.handle,start:Pn(X.id)});return}if(X?.type==="item"){w(X.id);const et=Pn(X.id);L({mode:"move",id:X.id,offsetX:x-et.x,offsetY:H-et.y});return}w(null)}function Bi(S){if(!I)return;const{mx:x,my:H}=Zt(S,!(I.mode==="resize"||I.mode==="rotate"));if(I.mode==="move"){Pi(I.id,()=>({x:x-I.offsetX,y:H-I.offsetY}));return}if(I.mode==="resize"){const X=I.start;if(X.type==="rect"){const et=X.x+X.width/2,nt=X.y+X.height/2,ut=(X.angle||0)*Math.PI/180,wt=Math.cos(ut),St=Math.sin(ut),Ut=x-et,Mt=H-nt,fe=Ut*wt+Mt*St,ue=-Ut*St+Mt*wt,ee=15,je=X.width/2,jn=X.height/2;let Xe=je,Ce=jn,Dn=0,nn=0;switch(I.handle){case"e":Xe=Math.max(ee,fe),Dn=(Xe-je)/2;break;case"w":Xe=Math.max(ee,-fe),Dn=-(Xe-je)/2;break;case"s":Ce=Math.max(ee,ue),nn=(Ce-jn)/2;break;case"n":Ce=Math.max(ee,-ue),nn=-(Ce-jn)/2;break;case"ne":Xe=Math.max(ee,fe),Dn=(Xe-je)/2,Ce=Math.max(ee,-ue),nn=-(Ce-jn)/2;break;case"se":Xe=Math.max(ee,fe),Dn=(Xe-je)/2,Ce=Math.max(ee,ue),nn=(Ce-jn)/2;break;case"sw":Xe=Math.max(ee,-fe),Dn=-(Xe-je)/2,Ce=Math.max(ee,ue),nn=(Ce-jn)/2;break;case"nw":Xe=Math.max(ee,-fe),Dn=-(Xe-je)/2,Ce=Math.max(ee,-ue),nn=-(Ce-jn)/2;break}const kn=Dn*wt-nn*St,ke=Dn*St+nn*wt,ki=et+kn,Gr=nt+ke,qn=Math.max(30,2*Xe),qi=Math.max(30,2*Ce),_a=ki-qn/2,or=Gr-qi/2;Pi(I.id,()=>({x:_a,y:or,width:qn,height:qi}))}else{const et=X.x+X.width/2,nt=X.y+X.height/2,ut=15;let wt=X.width/2,St=X.height/2;switch(I.handle){case"e":wt=Math.max(ut,x-et);break;case"w":wt=Math.max(ut,et-x);break;case"s":St=Math.max(ut,H-nt);break;case"n":St=Math.max(ut,nt-H);break;case"ne":wt=Math.max(ut,x-et),St=Math.max(ut,nt-H);break;case"se":wt=Math.max(ut,x-et),St=Math.max(ut,H-nt);break;case"sw":wt=Math.max(ut,et-x),St=Math.max(ut,H-nt);break;case"nw":wt=Math.max(ut,et-x),St=Math.max(ut,nt-H);break}const Ut=Math.max(30,2*wt),Mt=Math.max(30,2*St),fe=et-Ut/2,ue=nt-Mt/2;Pi(I.id,()=>({x:fe,y:ue,width:Ut,height:Mt}))}return}if(I.mode==="rotate"){let et=Math.atan2(H-I.center.cy,x-I.center.cx)*180/Math.PI+90;(S.shiftKey||I.shift)&&(et=Math.round(et/15)*15),et=(et%360+360)%360,Pi(I.id,()=>({angle:et}));return}}function ui(){L(null)}function Pn(S){return zt.find(x=>x.id===S)}function Cn(S){const{mx:x,my:H}=Zt(S),X=pe(x,H);if(!X||X.type!=="item")return;const et=Pn(X.id),nt=(ut,wt)=>window.prompt(ut,wt);if(et.type==="rect"||et.type==="round"){const ut=nt("Edit table label/number:",et.label??"");ut!==null&&ci(X.id,{label:String(ut)})}else if(et.type==="label"){const ut=nt("Edit text:",et.text??"");ut!==null&&ci(X.id,{text:ut})}}function ci(S,x){_t(H=>H.map(X=>X.id===S?hi(X,x):X))}function hi(S,x){if("angle"in x){let H=parseFloat(x.angle||0);Number.isFinite(H)||(H=0),H=(H%360+360)%360,x={...x,angle:H}}return{...S,...x}}function fi(){return crypto?.randomUUID?.()||`id_${Math.random().toString(36).slice(2)}`}function ar(){const S=fi(),x=String(Ht);U(H=>H+1),_t(H=>[...H,{id:S,type:"rect",x:60,y:60,width:90,height:50,angle:0,label:x}]),w(S)}function rr(){const S=fi(),x=String(Ht);U(H=>H+1),_t(H=>[...H,{id:S,type:"round",x:120,y:120,width:100,height:100,label:x,chairs:6,chairGap:2}]),w(S)}function ii(){const S=fi();_t(x=>[...x,{id:S,type:"label",x:40,y:40,text:"New Label",size:18}]),w(S)}function we(S){D&&ci(D.id,S)}function sr(){D&&(_t(S=>S.filter(x=>x.id!==D.id)),w(null))}function Bn(){if(!D)return;const S={...D,id:fi(),x:(D.x||0)+20,y:(D.y||0)+20};S.type!=="label"&&(S.label=String(Ht),U(x=>x+1)),_t(x=>[...x,S]),w(S.id)}async function lr(){if(window.jspdf?.jsPDF||(await ji("https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"),window.jspdf?.jsPDF))return window.jspdf.jsPDF;throw new Error("jsPDF failed to load")}async function di(){try{const S=await lr(),x=s.current,H=x.toDataURL("image/png"),X=new S({orientation:x.width>=x.height?"l":"p",unit:"pt",format:[e.w*r,e.h*r]});X.addImage(H,"PNG",0,0,e.w*r,e.h*r),X.save((mt||"Layout")+".pdf")}catch(S){alert("Export failed: "+(S?.message||S))}}function ji(S){return new Promise((x,H)=>{if(document.querySelector(`script[src="${S}"]`))return x();const X=document.createElement("script");X.src=S,X.async=!0,X.onload=()=>x(),X.onerror=()=>H(new Error("Failed to load "+S)),document.head.appendChild(X)})}function Tn(S,x){const H=S.replace("#",""),X=parseInt(H.length===3?H.split("").map(wt=>wt+wt).join(""):H,16),et=X>>16&255,nt=X>>8&255,ut=X&255;return`rgba(${et}, ${nt}, ${ut}, ${x})`}return it.jsxs("div",{style:{minHeight:"100vh",fontFamily:"Inter, system-ui, Arial",background:h.bg,color:h.text},children:[it.jsxs("header",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:12,alignItems:"center",padding:14,borderBottom:`1px solid ${h.border}`,background:h.surface},children:[it.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[p?it.jsx("img",{src:p,alt:"Sally Tomatoes",style:{height:36}}):it.jsxs("label",{className:"btn",style:{...It(h),background:h.primary},children:["Set Logo",it.jsx("input",{type:"file",accept:"image/*",onChange:N,style:{display:"none"}})]}),it.jsxs("div",{children:[it.jsx("div",{style:{fontWeight:800,fontSize:18},children:"Sally Tomatoes  Layout"}),it.jsx("div",{style:{color:h.sub,fontSize:12},children:"Simple  Beautiful  On-brand"})]})]}),it.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[it.jsx("button",{onClick:()=>d(o),style:It(h),children:"Preset"}),it.jsxs("label",{className:"btn",style:It(h),children:["Image",it.jsx("input",{type:"file",accept:"image/png,image/jpeg",onChange:nr,style:{display:"none"}})]}),it.jsxs("label",{className:"btn",style:It(h),children:["PDF",it.jsx("input",{type:"file",accept:"application/pdf",onChange:En,style:{display:"none"}})]}),it.jsx("button",{onClick:ar,style:It(h),children:"+ Rect"}),it.jsx("button",{onClick:rr,style:It(h),children:"+ Round"}),it.jsx("button",{onClick:ii,style:It(h),children:"+ Label"}),it.jsxs("label",{style:{marginLeft:8},children:["Zoom ",it.jsx("input",{type:"range",min:.5,max:2,step:.1,value:At,onChange:S=>pt(parseFloat(S.target.value)),style:{marginLeft:6}})]}),it.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[it.jsx("input",{type:"checkbox",checked:C,onChange:S=>Be(S.target.checked)})," Grid"]}),it.jsxs("label",{style:{display:"flex",alignItems:"center",gap:6},children:[it.jsx("input",{type:"checkbox",checked:ge,onChange:S=>Q(S.target.checked)})," Snap"]}),it.jsx("button",{onClick:di,style:It(h),children:"Export PDF"})]})]}),it.jsxs("main",{style:{display:"grid",gridTemplateColumns:"280px 1fr 320px",gap:12,padding:12},children:[it.jsxs("aside",{style:{background:h.surface,border:`1px solid ${h.border}`,borderRadius:12,padding:12},children:[it.jsx("h3",{style:{marginBottom:8,fontWeight:700},children:"Gallery (Shared)"}),it.jsxs("div",{style:{display:"grid",gap:8,marginBottom:10},children:[it.jsx("input",{value:mt,onChange:S=>Gt(S.target.value),placeholder:"Layout name",style:he(h)}),it.jsxs("div",{style:{display:"flex",gap:8},children:[it.jsx("button",{onClick:ni,style:It(h),children:"Save as New"}),it.jsx("button",{onClick:xi,style:It(h),disabled:!hn,title:hn?"Update current cloud layout":"Load or Save as New first",children:"Update"})]})]}),it.jsxs("div",{style:{maxHeight:240,overflow:"auto",paddingRight:4,borderTop:`1px dashed ${h.border}`,paddingTop:8},children:[Re.length===0&&it.jsx("div",{style:{color:h.sub},children:"No gallery items yet."}),Re.map(S=>it.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:8,alignItems:"center",padding:"6px 8px",border:`1px solid ${h.border}`,borderRadius:8,marginBottom:6,background:hn===S.id?Tn(h.primary,.06):"transparent"},children:[it.jsxs("div",{children:[it.jsx("div",{style:{fontWeight:600,fontSize:13},children:S.name||"(Untitled)"}),it.jsx("div",{style:{color:h.sub,fontSize:12},children:S.updatedAt?new Date(S.updatedAt.seconds*1e3).toLocaleString():""})]}),it.jsx("button",{style:It(h),onClick:()=>Ui(S.id),children:"Load"})]},S.id))]}),it.jsx("h3",{style:{margin:"12px 0 8px",fontWeight:700},children:"Local drafts"}),it.jsx("div",{style:{display:"flex",gap:8,marginBottom:8},children:it.jsx("button",{onClick:yt,style:It(h),children:"Save"})}),it.jsxs("div",{style:{maxHeight:180,overflow:"auto",paddingRight:4},children:[V.length===0&&it.jsx("div",{style:{color:h.sub},children:"No local drafts."}),V.map(S=>it.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 8px",border:`1px solid ${h.border}`,borderRadius:8,marginBottom:6},children:[it.jsx("span",{style:{fontSize:13},children:S.replace("layout:","")}),it.jsxs("div",{style:{display:"flex",gap:6},children:[it.jsx("button",{style:It(h),onClick:()=>xt(S),children:"Load"}),it.jsx("button",{style:Ae(h),onClick:()=>Rt(S),children:"Delete"})]})]},S))]})]}),it.jsx("section",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:it.jsx("canvas",{ref:s,width:Math.round(e.w*r),height:Math.round(e.h*r),style:{background:"#F8FAFC",border:`1px solid ${h.border}`,borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.12)",width:e.w,height:e.h},onPointerDown:Zs,onPointerMove:Bi,onPointerUp:ui,onPointerLeave:ui,onDoubleClick:Cn})}),it.jsxs("aside",{style:{background:h.surface,border:`1px solid ${h.border}`,borderRadius:12,padding:12},children:[it.jsx("h3",{style:{marginBottom:8,fontWeight:700},children:"Inspector"}),!D&&it.jsx("div",{style:{color:h.sub},children:"Select an item to edit."}),D&&it.jsxs("div",{style:{display:"grid",gap:10},children:[D.type!=="label"&&it.jsxs(it.Fragment,{children:[it.jsx(ya,{label:"Label",children:it.jsx("input",{value:D.label||"",onChange:S=>we({label:S.target.value}),style:he(h)})}),it.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[it.jsx(Ne,{label:"X",value:Math.round(D.x),onChange:S=>we({x:S})}),it.jsx(Ne,{label:"Y",value:Math.round(D.y),onChange:S=>we({y:S})}),it.jsx(Ne,{label:"Width",value:Math.round(D.width),onChange:S=>we({width:Math.max(30,S)})}),it.jsx(Ne,{label:"Height",value:Math.round(D.height),onChange:S=>we({height:Math.max(30,S)})})]}),D.type==="round"&&it.jsxs(it.Fragment,{children:[it.jsx(Ne,{label:"Chairs",value:D.chairs??0,onChange:S=>we({chairs:Math.max(0,Math.min(24,S))})}),it.jsx(Ne,{label:"Chair Gap",value:D.chairGap??2,onChange:S=>we({chairGap:Math.max(0,Math.min(20,S))})})]})]}),D.type==="label"&&it.jsxs(it.Fragment,{children:[it.jsx(ya,{label:"Text",children:it.jsx("input",{value:D.text||"",onChange:S=>we({text:S.target.value}),style:he(h)})}),it.jsx(Ne,{label:"Size",value:D.size||16,onChange:S=>we({size:Math.max(8,Math.min(72,S))})})]}),it.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[D.type!=="label"&&it.jsxs("button",{style:It(h),onClick:()=>we({type:D.type==="rect"?"round":"rect",chairs:D.type==="rect"?6:D.chairs}),children:["Convert to ",D.type==="rect"?"Round":"Rect"]}),D.type==="rect"&&it.jsxs("div",{style:{display:"flex",gap:6,alignItems:"center"},children:[it.jsx("label",{style:{fontSize:12,color:h.sub},children:"Angle"}),it.jsx("input",{type:"number",value:Math.round(D.angle||0),onChange:S=>we({angle:S.target.value}),style:he(h)})]}),it.jsx("button",{style:It(h),onClick:Bn,children:"Duplicate"}),it.jsx("button",{style:Ae(h),onClick:sr,children:"Delete"})]}),it.jsx("div",{style:{height:1,background:h.border,margin:"6px 0"}}),it.jsx("h4",{style:{margin:"4px 0",fontWeight:700},children:"Logos"}),it.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[it.jsxs("label",{className:"btn",style:It(h),children:["Main Logo",it.jsx("input",{type:"file",accept:"image/*",onChange:N,style:{display:"none"}})]}),it.jsxs("label",{className:"btn",style:It(h),children:["Designer Logo",it.jsx("input",{type:"file",accept:"image/*",onChange:Y,style:{display:"none"}})]})]})]})]})]}),it.jsx("style",{children:".btn input[type=file]{position:absolute; inset:0; opacity:0; cursor:pointer}"})]});function ya({label:S,children:x}){return it.jsxs("div",{children:[it.jsx("label",{style:{fontSize:12,color:h.sub},children:S}),x]})}function It(S){return{position:"relative",overflow:"hidden",background:S.primary,border:`1px solid ${S.primaryDark}`,color:"#fff",padding:"6px 10px",borderRadius:10,fontWeight:700,cursor:"pointer",boxShadow:"0 2px 0 rgba(0,0,0,0.06)"}}function Ae(S){return{...It(S),background:"#b91c1c",border:"1px solid #7f1d1d"}}function he(S){return{width:"100%",padding:8,borderRadius:10,border:`1px solid ${S.border}`,background:S.surface,color:S.text,boxShadow:"inset 0 1px 0 rgba(0,0,0,0.03)"}}function Ne({label:S,value:x,onChange:H}){return it.jsx(ya,{label:S,children:it.jsx("input",{type:"number",value:x,onChange:X=>H(parseFloat(X.target.value||"0")),style:he(h)})})}}function Qb(){return it.jsx(Gb,{})}kE.createRoot(document.getElementById("root")).render(it.jsx(me.StrictMode,{children:it.jsx(Qb,{})}));
